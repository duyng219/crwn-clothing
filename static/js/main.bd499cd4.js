/*! For license information please see main.bd499cd4.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var u in n)r.call(n,u)&&n[u]&&e.push(u);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},501:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.isFragment=function(e){return w(e)===a},t.isMemo=function(e){return w(e)===v}},873:function(e,t,n){"use strict";e.exports=n(501)},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,E=60106,_=60107,I=60108,S=60114,T=60109,C=60110,N=60112,A=60113,P=60120,O=60115,R=60116,D=60121,M=60128,L=60129,F=60130,V=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),E=U("react.portal"),_=U("react.fragment"),I=U("react.strict_mode"),S=U("react.profiler"),T=U("react.provider"),C=U("react.context"),N=U("react.forward_ref"),A=U("react.suspense"),P=U("react.suspense_list"),O=U("react.memo"),R=U("react.lazy"),D=U("react.block"),U("react.scope"),M=U("react.opaque.id"),L=U("react.debug_trace_mode"),F=U("react.offscreen"),V=U("react.legacy_hidden")}var j,B="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function z(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var W=!1;function K(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function H(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case E:return"Portal";case S:return"Profiler";case I:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return G(e.type);case D:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ce(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var Ee=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(Ee[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ne=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Pe(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Oe(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Re(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Me(){}var Le=Re,Fe=!1,Ve=!1;function Ue(){null===Ce&&null===Ne||(Me(),Oe())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Be=!1;if(f)try{var qe={};Object.defineProperty(qe,"passive",{get:function(){Be=!0}}),window.addEventListener("test",qe,qe),window.removeEventListener("test",qe,qe)}catch(me){Be=!1}function ze(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var We=!1,Ke=null,He=!1,Ge=null,$e={onError:function(e){We=!0,Ke=e}};function Qe(e,t,n,r,i,a,o,u,s){We=!1,Ke=null,ze.apply($e,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function Et(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _t={animationend:Et("Animation","AnimationEnd"),animationiteration:Et("Animation","AnimationIteration"),animationstart:Et("Animation","AnimationStart"),transitionend:Et("Transition","TransitionEnd")},It={},St={};function Tt(e){if(It[e])return It[e];if(!_t[e])return e;var t,n=_t[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return It[e]=n[t];return e}f&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete _t.animationend.animation,delete _t.animationiteration.animation,delete _t.animationstart.animation),"TransitionEvent"in window||delete _t.transitionend.transition);var Ct=Tt("animationend"),Nt=Tt("animationiteration"),At=Tt("animationstart"),Pt=Tt("transitionend"),Ot=new Map,Rt=new Map,Dt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Mt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Ot.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Lt=8;function Ft(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Vt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Lt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ft(s),i=Lt):0!==(u&=a)&&(r=Ft(u),i=Lt)}else 0!==(a=n&~o)?(r=Ft(a),i=Lt):0!==u&&(r=Ft(u),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Wt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Wt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Bt(24&~t))?jt(10,t):e;case 10:return 0===(e=Bt(192&~t))?jt(8,t):e;case 8:return 0===(e=Bt(3584&~t))&&(0===(e=Bt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Bt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Bt(e){return e&-e}function qt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Ht|0)|0},Kt=Math.log,Ht=Math.LN2;var Gt=a.unstable_UserBlockingPriority,$t=a.unstable_runWithPriority,Qt=!0;function Yt(e,t,n,r){Fe||Me();var i=Xt,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||Ue()}}function Jt(e,t,n,r){$t(Gt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Mr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Se(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Mr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(wn),En=sn(i({},hn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return Tn}var Nn=i({},pn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=sn(Nn),Pn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=sn(Dn),Ln=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Vn=null;f&&"documentMode"in document&&(Vn=document.documentMode);var Un=f&&"TextEvent"in window&&!Vn,jn=f&&(!Fn||Vn&&8<Vn&&11>=Vn),Bn=String.fromCharCode(32),qn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function $n(e,t,n,r){Pe(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,Yn=null;function Jn(e){Nr(e,0)}function Xn(e){if(J(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Qn&&(Qn.detachEvent("onpropertychange",ar),Yn=Qn=null)}function ar(e){if("value"===e.propertyName&&Xn(Yn)){var t=[];if($n(t,Yn,e,Se(e)),e=Jn,Fe)e(t);else{Fe=!0;try{Re(e,t)}finally{Fe=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,(Qn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Yn)}function sr(e,t){if("click"===e)return Xn(t)}function cr(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function Er(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==X(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Fr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Mt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Mt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Mt(Dt,2);for(var _r="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<_r.length;Ir++)Rt.set(_r[Ir],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if(Qe.apply(this,arguments),We){if(!We)throw Error(o(198));var l=Ke;We=!1,Ke=null,He||(He=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(He)throw e=Ge,He=!1,Ge=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Pr]||(e[Pr]=!0,u.forEach((function(t){Tr.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Jt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Be||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Mr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Ve)return e(t,n);Ve=!0;try{Le(e,t,n)}finally{Ve=!1,Ue()}}((function(){var r=a,i=Se(n),o=[];e:{var u=Ot.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=An;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=On;break;case Ct:case Nt:case At:s=bn;break;case Pt:s=Rn;break;case"scroll":s=vn;break;case"wheel":s=Mn;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Pn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=je(p,h))&&l.push(Lr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Pn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Vr(d))p++;for(d=0,v=h;v;v=Vr(v))d++;for(;0<p-d;)l=Vr(l),p--;for(;0<d-p;)h=Vr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Vr(l),h=Vr(h)}l=null}else l=null;null!==s&&Ur(o,u,s,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Zn;else if(Gn(u))if(er)m=cr;else{m=ur;var y=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?$n(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ii(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Er(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Er(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Kn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(jn&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Kn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Kn=!0)),0<(y=Fr(r,k)).length&&(k=new En(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Wn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(qn=!0,Bn);case"textInput":return(e=t.data)===Bn&&qn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!Fn&&zn(e,t)?(e=rn(),nn=tn=en=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new En("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Nr(o,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=je(e,n))&&r.unshift(Lr(e,a,i)),null!=(a=je(e,t))&&r.push(Lr(e,a,i))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=je(n,a))&&o.unshift(Lr(n,s,u)):i||null!=(s=je(n,a))&&o.push(Lr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function jr(){}var Br=null,qr=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function $r(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Jr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Jr,Zr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Xr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var Ei=null,_i=null,Ii=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ni=a.unstable_requestPaint,Ai=a.unstable_now,Pi=a.unstable_getCurrentPriorityLevel,Oi=a.unstable_ImmediatePriority,Ri=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Mi=a.unstable_LowPriority,Li=a.unstable_IdlePriority,Fi={},Vi=void 0!==Ni?Ni:function(){},Ui=null,ji=null,Bi=!1,qi=Ai(),zi=1e4>qi?Ai:function(){return Ai()-qi};function Wi(){switch(Pi()){case Oi:return 99;case Ri:return 98;case Di:return 97;case Mi:return 96;case Li:return 95;default:throw Error(o(332))}}function Ki(e){switch(e){case 99:return Oi;case 98:return Ri;case 97:return Di;case 96:return Mi;case 95:return Li;default:throw Error(o(332))}}function Hi(e,t){return e=Ki(e),Ii(e,t)}function Gi(e,t,n){return e=Ki(e),Si(e,t,n)}function $i(){if(null!==ji){var e=ji;ji=null,Ti(e)}Qi()}function Qi(){if(!Bi&&null!==Ui){Bi=!0;var e=0;try{var t=Ui;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Si(Oi,$i),n}finally{Bi=!1}}}var Yi=w.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,Bu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function Ea(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function _a(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ia(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ea(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=Ea(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Js(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=$s(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=Ea(e,null,t),n.return=e,n;case E:return(t=Js(t,e.mode,n)).return=e,t}if(xa(t)||q(t))return(t=$s(t,e.mode,n,null)).return=e,t;_a(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===_?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(xa(n)||q(n))return null!==i?null:f(e,t,n,r,null);_a(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===_?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||q(r))return f(t,e=e.get(n)||null,r,i,null);_a(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=q(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===_&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===_){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=Ea(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===_?((r=$s(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=Ea(e,r,a),s.return=e,e=s)}return u(e);case E:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Js(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ys(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(q(a))return m(e,r,a,s);if(l&&_a(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Sa=Ia(!0),Ta=Ia(!1),Ca={},Na=ci(Ca),Aa=ci(Ca),Pa=ci(Ca);function Oa(e){if(e===Ca)throw Error(o(174));return e}function Ra(e,t){switch(fi(Pa,t),fi(Aa,e),fi(Na,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Na),fi(Na,t)}function Da(){li(Na),li(Aa),li(Pa)}function Ma(e){Oa(Pa.current);var t=Oa(Na.current),n=pe(t,e.type);t!==n&&(fi(Aa,e),fi(Na,n))}function La(e){Aa.current===e&&(li(Na),li(Aa))}var Fa=ci(0);function Va(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,ja=null,Ba=!1;function qa(e,t){var n=Ws(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Wa(e){if(Ba){var t=ja;if(t){var n=t;if(!za(e,t)){if(!(t=$r(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,Ba=!1,void(Ua=e);qa(Ua,n)}Ua=e,ja=$r(t.firstChild)}else e.flags=-1025&e.flags|2,Ba=!1,Ua=e}}function Ka(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ha(e){if(e!==Ua)return!1;if(!Ba)return Ka(e),Ba=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Wr(t,e.memoizedProps))for(t=ja;t;)qa(e,t),t=$r(t.nextSibling);if(Ka(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ja=$r(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ja=null}}else ja=Ua?$r(e.stateNode.nextSibling):null;return!0}function Ga(){ja=Ua=null,Ba=!1}var $a=[];function Qa(){for(var e=0;e<$a.length;e++)$a[e]._workInProgressVersionPrimary=null;$a.length=0}var Ya=w.ReactCurrentDispatcher,Ja=w.ReactCurrentBatchConfig,Xa=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Xa=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Ro:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Mo,e=n(r,i)}while(ro)}if(Ya.current=Oo,t=null!==eo&&null!==eo.next,Xa=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Xa&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,Bu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,$a.push(t))),e)return n(t._source);throw $a.push(t),Error(o(350))}function po(e,t,n,r){var i=Ru;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ya.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Wt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Po.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Po.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function Eo(e,t){return wo(516,4,e,t)}function _o(e,t){return wo(4,2,e,t)}function Io(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Io.bind(null,t,e),n)}function To(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function No(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Wi();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Po(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Oo={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Po.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:To,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Ba){var e=!1,t=function(e){return{$$typeof:M,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:So,useLayoutEffect:_o,useMemo:No,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return Eo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Mo={readContext:oa,useCallback:Co,useContext:oa,useEffect:Eo,useImperativeHandle:So,useLayoutEffect:_o,useMemo:No,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return Eo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Lo=w.ReactCurrentOwner,Fo=!1;function Vo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Sa(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Vo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function jo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ks(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Bo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Hs(o,r)).ref=t.ref,e.return=t,t.child=e)}function Bo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Wo(e,t,n,r,a)}function qo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return Vo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Wo(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Vo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Ko(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ji(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ho(e,t,n,r,a,i)}function Ho(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Lo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,u,a)):Vo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Ra(e,t.containerInfo)}var $o,Qo,Yo,Jo={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Wa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=Qs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Qs(t,i,0,null),n=$s(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Hs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hs(o,u),null!==e?r=Hs(e,r):(r=$s(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Vo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Va(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Va(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!Ba)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ha(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:La(t);var a=Oa(Pa.current);if(n=t.type,null!==e&&null!=t.stateNode)Qo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Oa(Na.current),Ha(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Xr]=t,r[Zr]=u,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Ar(Sr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,u),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Ar("invalid",r);break;case"textarea":se(r,u),Ar("invalid",r)}for(var c in _e(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Zr]=r,$o(e,t),t.stateNode=e,c=Ie(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Sr.length;a++)Ar(Sr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Ar("invalid",e);break;default:a=r}_e(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Ar("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=jr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Oa(Pa.current),Oa(Na.current),Ha(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ha(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===Vu&&(Vu=3):(0!==Vu&&3!==Vu||(Vu=4),null===Ru||0===(134217727&Bu)&&0===(134217727&qu)||gs(Ru,Mu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Vu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Va(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Hu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Va(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ba)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Fa.current,fi(Fa,u?1&t|2:1&t),n):null;case 23:case 24:return Es(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return La(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return Es(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}$o=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Oa(Na.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=jr)}for(f in _e(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Ar("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===M?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,Ju=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xu?Xu=new Set([this]):Xu.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){js(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ls(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(_i&&"function"===typeof _i.onCommitFiberUnmount)try{_i.onCommitFiberUnmount(Ei,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(a){js(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){js(t,a)}break;case 5:vu(t);break;case 4:Iu(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Eu(e,n,t):_u(e,n,t)}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function Iu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Su(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?ye(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ku=zi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=qs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Nu=Math.ceil,Au=w.ReactCurrentDispatcher,Pu=w.ReactCurrentOwner,Ou=0,Ru=null,Du=null,Mu=0,Lu=0,Fu=ci(0),Vu=0,Uu=null,ju=0,Bu=0,qu=0,zu=0,Wu=null,Ku=0,Hu=1/0;function Gu(){Hu=zi()+500}var $u,Qu=null,Yu=!1,Ju=null,Xu=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Ou)?zi():-1!==us?us:us=zi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Wi()?1:2;if(0===ss&&(ss=ju),0!==Yi.transition){0!==cs&&(cs=null!==Wu?Wu.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Wi(),0!==(4&Ou)&&98===e?e=jt(12,ss):e=jt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;zt(e,t,n),e===Ru&&(qu|=t,4===Vu&&gs(e,Mu));var r=Wi();1===t?0!==(8&Ou)&&0===(48&Ou)?ks(e):(ms(e,n),0===Ou&&(Gu(),$i())):(0===(4&Ou)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Wu=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Wt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Lt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Vt(e,e===Ru?Mu:0),t=Lt,0===r)null!==n&&(n!==Fi&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ti(n)}15===t?(n=ks.bind(null,e),null===Ui?(Ui=[n],ji=Si(Oi,Qi)):Ui.push(n),n=Fi):14===t?n=Gi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,cs=ss=0,0!==(48&Ou))throw Error(o(327));var t=e.callbackNode;if(Ms()&&e.callbackNode!==t)return null;var n=Vt(e,e===Ru?Mu:0);if(0===n)return null;var r=n,i=Ou;Ou|=16;var a=Ss();for(Ru===e&&Mu===r||(Gu(),_s(e,r));;)try{Ns();break}catch(s){Is(e,s)}if(na(),Au.current=a,Ou=i,null!==Du?r=0:(Ru=null,Mu=0,r=Vu),0!==(ju&qu))_s(e,0);else if(0!==r){if(2===r&&(Ou|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=Ts(e,n))),1===r)throw t=Uu,_s(e,0),gs(e,n),ms(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Os(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Ku+500-zi())){if(0!==Vt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kr(Os.bind(null,e),r);break}Os(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Wt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nu(n/1960))-n)){e.timeoutHandle=Kr(Os.bind(null,e),n);break}Os(e);break;default:throw Error(o(329))}}return ms(e,zi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~zu,t&=~qu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Ou))throw Error(o(327));if(Ms(),e===Ru&&0!==(e.expiredLanes&Mu)){var t=Mu,n=Ts(e,t);0!==(ju&qu)&&(n=Ts(e,t=Vt(e,t)))}else n=Ts(e,t=Vt(e,0));if(0!==e.tag&&2===n&&(Ou|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=Ts(e,t))),1===n)throw n=Uu,_s(e,0),gs(e,t),ms(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Os(e),ms(e,zi()),null}function bs(e,t){var n=Ou;Ou|=1;try{return e(t)}finally{0===(Ou=n)&&(Gu(),$i())}}function ws(e,t){var n=Ou;Ou&=-2,Ou|=8;try{return e(t)}finally{0===(Ou=n)&&(Gu(),$i())}}function xs(e,t){fi(Fu,Lu),Lu|=t,ju|=t}function Es(){Lu=Fu.current,li(Fu)}function _s(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),Qa();break;case 5:La(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:Es()}n=n.return}Ru=e,Du=Hs(e.current,null),Mu=Lu=ju=t,Vu=0,Uu=null,zu=qu=Bu=0}function Is(e,t){for(;;){var n=Du;try{if(na(),Ya.current=Oo,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Xa=0,to=eo=Za=null,ro=!1,Pu.current=null,null===n||null===n.return){Vu=1,Uu=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Mu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=Bs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Vu&&(Vu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xu||!Xu.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Ps(n)}catch(E){t=E,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function Ss(){var e=Au.current;return Au.current=Oo,null===e?Oo:e}function Ts(e,t){var n=Ou;Ou|=16;var r=Ss();for(Ru===e&&Mu===t||_s(e,t);;)try{Cs();break}catch(i){Is(e,i)}if(na(),Ou=n,Au.current=r,null!==Du)throw Error(o(261));return Ru=null,Mu=0,Vu}function Cs(){for(;null!==Du;)As(Du)}function Ns(){for(;null!==Du&&!Ci();)As(Du)}function As(e){var t=$u(e.alternate,e,Lu);e.memoizedProps=e.pendingProps,null===t?Ps(e):Du=t,Pu.current=null}function Ps(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Lu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Lu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Vu&&(Vu=5)}function Os(e){var t=Wi();return Hi(99,Rs.bind(null,e,t)),null}function Rs(e,t){do{Ms()}while(null!==es);if(0!==(48&Ou))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Wt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Ru&&(Du=Ru=null,Mu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ou,Ou|=32,Pu.current=null,Br=Qt,yr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(S){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;qr={focusedElem:u,selectionRange:s},Qt=!1,ls=null,fs=!1,Qu=r;do{try{Ds()}catch(S){if(null===Qu)throw Error(o(330));js(Qu,S),Qu=Qu.nextEffect}}while(null!==Qu);ls=null,Qu=r;do{try{for(u=e;null!==Qu;){var k=Qu.flags;if(16&k&&ge(Qu.stateNode,""),128&k){var b=Qu.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xu(Qu),Qu.flags&=-3;break;case 6:xu(Qu),Qu.flags&=-3,Su(Qu.alternate,Qu);break;case 1024:Qu.flags&=-1025;break;case 1028:Qu.flags&=-1025,Su(Qu.alternate,Qu);break;case 4:Su(Qu.alternate,Qu);break;case 8:Iu(u,s=Qu);var x=s.alternate;bu(s),null!==x&&bu(x)}Qu=Qu.nextEffect}}catch(S){if(null===Qu)throw Error(o(330));js(Qu,S),Qu=Qu.nextEffect}}while(null!==Qu);if(w=qr,b=mr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&yr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!w.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),x>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qt=!!Br,qr=Br=null,e.current=n,Qu=r;do{try{for(k=e;null!==Qu;){var E=Qu.flags;if(36&E&&yu(k,Qu.alternate,Qu),128&E){b=void 0;var _=Qu.ref;if(null!==_){var I=Qu.stateNode;Qu.tag,b=I,"function"===typeof _?_(b):_.current=b}}Qu=Qu.nextEffect}}catch(S){if(null===Qu)throw Error(o(330));js(Qu,S),Qu=Qu.nextEffect}}while(null!==Qu);Qu=null,Vi(),Ou=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for(Qu=r;null!==Qu;)t=Qu.nextEffect,Qu.nextEffect=null,8&Qu.flags&&((E=Qu).sibling=null,E.stateNode=null),Qu=t;if(0===(r=e.pendingLanes)&&(Xu=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,_i&&"function"===typeof _i.onCommitFiberRoot)try{_i.onCommitFiberRoot(Ei,n,void 0,64===(64&n.current.flags))}catch(S){}if(ms(e,zi()),Yu)throw Yu=!1,e=Ju,Ju=null,e;return 0!==(8&Ou)||$i(),null}function Ds(){for(;null!==Qu;){var e=Qu.alternate;fs||null===ls||(0!==(8&Qu.flags)?et(Qu,ls)&&(fs=!0):13===Qu.tag&&Cu(e,Qu)&&et(Qu,ls)&&(fs=!0));var t=Qu.flags;0!==(256&t)&&mu(e,Qu),0===(512&t)||Zu||(Zu=!0,Gi(97,(function(){return Ms(),null}))),Qu=Qu.nextEffect}}function Ms(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Hi(e,Vs)}return!1}function Ls(e,t){ns.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ms(),null})))}function Fs(e,t){rs.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ms(),null})))}function Vs(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Ou))throw Error(o(331));var t=Ou;Ou|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));js(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));js(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Ou=t,$i(),!0}function Us(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(zt(e,1,t),ms(e,t))}function js(e,t){if(3===e.tag)Us(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Us(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))zt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Bs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Mu&n)===n&&(4===Vu||3===Vu&&(62914560&Mu)===Mu&&500>zi()-Ku?_s(e,0):zu|=n),ms(e,t)}function qs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Wi()?1:2:(0===ss&&(ss=ju),0===(t=Bt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(zt(e,t,n),ms(e,n))}function zs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(e,t,n,r){return new zs(e,t,n,r)}function Ks(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hs(e,t){var n=e.alternate;return null===n?((n=Ws(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Ks(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return $s(n.children,i,a,t);case L:u=8,i|=16;break;case I:u=8,i|=1;break;case S:return(e=Ws(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=a,e;case A:return(e=Ws(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case P:return(e=Ws(19,n,t,i)).elementType=P,e.lanes=a,e;case F:return Qs(n,i,a,t);case V:return(e=Ws(24,n,t,i)).elementType=V,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case N:u=11;break e;case O:u=14;break e;case R:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ws(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function $s(e,t,n,r){return(e=Ws(7,e,r,t)).lanes=n,e}function Qs(e,t,n,r){return(e=Ws(23,e,r,t)).elementType=F,e.lanes=n,e}function Ys(e,t,n){return(e=Ws(6,e,null,t)).lanes=n,e}function Js(e,t,n){return(t=Ws(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=qt(0),this.expirationTimes=qt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(yi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xs(e,t,null!=n&&!0===n.hydrate),t=Ws(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}$u=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Go(t),Ga();break;case 5:Ma(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Ra(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,qo(e,t,n)}return au(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ho(null,t,r,!0,a,n)}else t.tag=0,Vo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ks(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===O)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Wo(null,t,i,e,n);break e;case 1:t=Ko(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=jo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(ja=$r(t.stateNode.containerInfo.firstChild),Ua=t,a=Ba=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],$a.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Vo(e,t,r,n),Ga();t=t.child}return t;case 5:return Ma(t),null===e&&Wa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Wr(r,i)?u=null:null!==a&&Wr(r,a)&&(t.flags|=16),zo(e,t),Vo(e,t,u,n),t.child;case 6:return null===e&&Wa(t),null;case 13:return Xo(e,t,n);case 4:return Ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):Vo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Vo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Vo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Xi,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Vo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Vo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),jo(e,t,i,a=Ji(i.type,a),r,n);case 15:return Bo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ho(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return qo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Re=bs,De=function(e,t,n,r,i){var a=Ou;Ou|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Ou=a)&&(Gu(),$i())}},Me=function(){0===(49&Ou)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,zi())}))}$i()}(),Ms())},Le=function(e,t){var n=Ou;Ou|=2;try{return e(t)}finally{0===(Ou=n)&&(Gu(),$i())}};var sc={Events:[ri,ii,ai,Pe,Oe,Ms,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Ei=fc.inject(lc),_i=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ou;if(0!==(48&n))return e(t);Ou|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Ou=n,$i()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case u:case o:case h:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case s:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){"use strict";n(459)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+S(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+S(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function P(){var e=A.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},896:function(e,t,n){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function i(e,t,n){i.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function a(e,t){a.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function o(e,t){o.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function u(e,t,n){u.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function s(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t="undefined"==typeof e?"undefined":A(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(e,t,n,r,f,h,d){d=d||[];var p=(f=f||[]).slice(0);if("undefined"!=typeof h){if(r){if("function"==typeof r&&r(p,h))return;if("object"===("undefined"==typeof r?"undefined":A(r))){if(r.prefilter&&r.prefilter(p,h))return;if(r.normalize){var v=r.normalize(p,h,e,t);v&&(e=v[0],t=v[1])}}}p.push(h)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var m="undefined"==typeof e?"undefined":A(e),y="undefined"==typeof t?"undefined":A(t),g="undefined"!==m||d&&d[d.length-1].lhs&&d[d.length-1].lhs.hasOwnProperty(h),k="undefined"!==y||d&&d[d.length-1].rhs&&d[d.length-1].rhs.hasOwnProperty(h);if(!g&&k)n(new a(p,t));else if(!k&&g)n(new o(p,e));else if(c(e)!==c(t))n(new i(p,e,t));else if("date"===c(e)&&e-t!==0)n(new i(p,e,t));else if("object"===m&&null!==e&&null!==t)if(d.filter((function(t){return t.lhs===e})).length)e!==t&&n(new i(p,e,t));else{if(d.push({lhs:e,rhs:t}),Array.isArray(e)){var b;for(e.length,b=0;b<e.length;b++)b>=t.length?n(new u(p,b,new o(void 0,e[b]))):l(e[b],t[b],n,r,p,b,d);for(;b<t.length;)n(new u(p,b,new a(void 0,t[b++])))}else{var w=Object.keys(e),x=Object.keys(t);w.forEach((function(i,a){var o=x.indexOf(i);o>=0?(l(e[i],t[i],n,r,p,i,d),x=s(x,o)):l(e[i],void 0,n,r,p,i,d)})),x.forEach((function(e){l(void 0,t[e],n,r,p,e,d)}))}d.length=d.length-1}else e!==t&&("number"===m&&isNaN(e)&&isNaN(t)||n(new i(p,e,t)))}function f(e,t,n,r){return r=r||[],l(e,t,(function(e){e&&r.push(e)}),n),r.length?r:void 0}function h(e,t,n){if(n.path&&n.path.length){var r,i=e[t],a=n.path.length-1;for(r=0;r<a;r++)i=i[n.path[r]];switch(n.kind){case"A":h(i[n.path[r]],n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}else switch(n.kind){case"A":h(e[t],n.index,n.item);break;case"D":e=s(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function d(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,i=-1,a=n.path?n.path.length-1:0;++i<a;)"undefined"==typeof r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":h(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function p(e,t,n){if(n.path&&n.path.length){var r,i=e[t],a=n.path.length-1;for(r=0;r<a;r++)i=i[n.path[r]];switch(n.kind){case"A":p(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}else switch(n.kind){case"A":p(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=s(e,t)}return e}function v(e,t,n){if(e&&t&&n&&n.kind){var r,i,a=e;for(i=n.path.length-1,r=0;r<i;r++)"undefined"==typeof a[n.path[r]]&&(a[n.path[r]]={}),a=a[n.path[r]];switch(n.kind){case"A":p(a[n.path[r]],n.index,n.item);break;case"D":case"E":a[n.path[r]]=n.lhs;break;case"N":delete a[n.path[r]]}}}function m(e,t,n){e&&t&&l(e,t,(function(r){n&&!n(e,t,r)||d(e,t,r)}))}function y(e){return"color: "+R[e].color+"; font-weight: bold"}function g(e){var t=e.kind,n=e.path,r=e.lhs,i=e.rhs,a=e.index,o=e.item;switch(t){case"E":return[n.join("."),r,"\u2192",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+a+"]",o];default:return[]}}function k(e,t,n,r){var i=f(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach((function(e){var t=e.kind,r=g(e);n.log.apply(n,["%c "+R[t].text,y(t)].concat(P(r)))})):n.log("\u2014\u2014 no diff \u2014\u2014");try{n.groupEnd()}catch(e){n.log("\u2014\u2014 diff end \u2014\u2014 ")}}function b(e,t,n,r){switch("undefined"==typeof e?"undefined":A(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,P(n)):e[r];case"function":return e(t);default:return e}}function w(e){var t=e.timestamp,n=e.duration;return function(e,r,i){var a=["action"];return a.push("%c"+String(e.type)),t&&a.push("%c@ "+r),n&&a.push("%c(in "+i.toFixed(2)+" ms)"),a.join(" ")}}function x(e,t){var n=t.logger,r=t.actionTransformer,i=t.titleFormatter,a=void 0===i?w(t):i,o=t.collapsed,u=t.colors,s=t.level,c=t.diff,l="undefined"==typeof t.titleFormatter;e.forEach((function(i,f){var h=i.started,d=i.startedTime,p=i.action,v=i.prevState,m=i.error,y=i.took,g=i.nextState,w=e[f+1];w&&(g=w.prevState,y=w.started-h);var x=r(p),E="function"==typeof o?o((function(){return g}),p,i):o,_=C(d),I=u.title?"color: "+u.title(x)+";":"",S=["color: gray; font-weight: lighter;"];S.push(I),t.timestamp&&S.push("color: gray; font-weight: lighter;"),t.duration&&S.push("color: gray; font-weight: lighter;");var T=a(x,_,y);try{E?u.title&&l?n.groupCollapsed.apply(n,["%c "+T].concat(S)):n.groupCollapsed(T):u.title&&l?n.group.apply(n,["%c "+T].concat(S)):n.group(T)}catch(e){n.log(T)}var N=b(s,x,[v],"prevState"),A=b(s,x,[x],"action"),P=b(s,x,[m,v],"error"),O=b(s,x,[g],"nextState");if(N)if(u.prevState){var R="color: "+u.prevState(v)+"; font-weight: bold";n[N]("%c prev state",R,v)}else n[N]("prev state",v);if(A)if(u.action){var D="color: "+u.action(x)+"; font-weight: bold";n[A]("%c action    ",D,x)}else n[A]("action    ",x);if(m&&P)if(u.error){var M="color: "+u.error(m,v)+"; font-weight: bold;";n[P]("%c error     ",M,m)}else n[P]("error     ",m);if(O)if(u.nextState){var L="color: "+u.nextState(g)+"; font-weight: bold";n[O]("%c next state",L,g)}else n[O]("next state",g);c&&k(v,g,n,E);try{n.groupEnd()}catch(e){n.log("\u2014\u2014 log end \u2014\u2014")}}))}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},D,e),n=t.logger,r=t.stateTransformer,i=t.errorTransformer,a=t.predicate,o=t.logErrors,u=t.diffPredicate;if("undefined"==typeof n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var s=[];return function(e){var n=e.getState;return function(e){return function(c){if("function"==typeof a&&!a(n,c))return e(c);var l={};s.push(l),l.started=N.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=c;var f=void 0;if(o)try{f=e(c)}catch(e){l.error=i(e)}else f=e(c);l.took=N.now()-l.started,l.nextState=r(n());var h=t.diff&&"function"==typeof u?u(n,c):t.diff;if(x(s,Object.assign({},t,{diff:h})),s.length=0,l.error)throw l.error;return f}}}}var _,I,S=function(e,t){return new Array(t+1).join(e)},T=function(e,t){return S("0",t-e.toString().length)+e},C=function(e){return T(e.getHours(),2)+":"+T(e.getMinutes(),2)+":"+T(e.getSeconds(),2)+"."+T(e.getMilliseconds(),3)},N="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},O=[];_="object"===("undefined"==typeof n.g?"undefined":A(n.g))&&n.g?n.g:"undefined"!=typeof window?window:{},(I=_.DeepDiff)&&O.push((function(){"undefined"!=typeof I&&_.DeepDiff===f&&(_.DeepDiff=I,I=void 0)})),t(i,r),t(a,r),t(o,r),t(u,r),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:m,enumerable:!0},applyChange:{value:d,enumerable:!0},revertChange:{value:v,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof I},enumerable:!0},noConflict:{value:function(){return O&&(O.forEach((function(e){e()})),O=null),f},enumerable:!0}});var R={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},D={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?E()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=D,e.createLogger=E,e.logger=M,e.default=M,Object.defineProperty(e,"__esModule",{value:!0})}(t)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function E(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(_.prototype),s(_.prototype,o,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new _(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>I(o,n))void 0!==s&&0>I(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>I(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],T=[],C=1,N=null,A=3,P=!1,O=!1,R=!1;function D(e){for(var t=E(T);null!==t;){if(null===t.callback)_(T);else{if(!(t.startTime<=e))break;_(T),t.sortIndex=t.expirationTime,x(S,t)}t=E(T)}}function M(e){if(R=!1,D(e),!O)if(null!==E(S))O=!0,n(L);else{var t=E(T);null!==t&&r(M,t.startTime-e)}}function L(e,n){O=!1,R&&(R=!1,i()),P=!0;var a=A;try{for(D(n),N=E(S);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,A=N.priorityLevel;var u=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?N.callback=u:N===E(S)&&_(S),D(n)}else _(S);N=E(S)}if(null!==N)var s=!0;else{var c=E(T);null!==c&&r(M,c.startTime-n),s=!1}return s}finally{N=null,A=a,P=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||P||(O=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return E(S)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(T,e),null===E(S)&&e===E(T)&&(R?i():R=!0,r(M,o-u))):(e.sortIndex=s,x(S,e),O||P||(O=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useState,o=r.useEffect,u=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return u((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),o((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=i.useSyncExternalStore,u=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=u(null);if(null===f.current){var h={hasValue:!1,value:null};f.current=h}else h=f.current;f=c((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return u=t}return u=e}if(t=u,a(o,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(o=e,u=n)}var o,u,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=o(e,f[0],f[1]);return s((function(){h.hasValue=!0,h.value=d}),[d]),l(d),d}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="./",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Et},SDK_VERSION:function(){return Rn},_DEFAULT_ENTRY_NAME:function(){return bn},_addComponent:function(){return _n},_addOrOverwriteComponent:function(){return In},_apps:function(){return xn},_clearComponents:function(){return Nn},_components:function(){return En},_getProvider:function(){return Tn},_registerComponent:function(){return Sn},_removeServiceInstance:function(){return Cn},deleteApp:function(){return Fn},getApp:function(){return Mn},getApps:function(){return Ln},initializeApp:function(){return Dn},onLog:function(){return jn},registerVersion:function(){return Un},setLogLevel:function(){return Bn}});var t,r=n(791),i=n(164),a=n.t(i,2);function o(e){if(Array.isArray(e))return e}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return o(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||s(e,t)||c()}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var h=function(e){return e};var d="beforeunload",p="popstate";function v(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,h({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(p,(function(){if(o)w.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(w.length){if(null!=r){var u=c-r;u&&(o={action:e,location:i,retry:function(){T(-1*u)}},T(u))}}else S(e)}}));var u=t.Pop,s=a(),c=s[0],l=s[1],v=y(),w=y();function x(e){return"string"===typeof e?e:k(e)}function E(e,t){return void 0===t&&(t=null),h(f({pathname:l.pathname,hash:"",search:""},"string"===typeof e?b(e):e,{state:t,key:g()}))}function _(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function I(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function S(e){u=e;var t=a();c=t[0],l=t[1],v.call({action:u,location:l})}function T(e){i.go(e)}null==c&&(c=0,i.replaceState(f({},i.state,{idx:c}),""));var C={get action(){return u},get location(){return l},createHref:x,push:function e(n,a){var o=t.Push,u=E(n,a);if(I(o,u,(function(){e(n,a)}))){var s=_(u,c+1),l=s[0],f=s[1];try{i.pushState(l,"",f)}catch(h){r.location.assign(f)}S(o)}},replace:function e(n,r){var a=t.Replace,o=E(n,r);if(I(a,o,(function(){e(n,r)}))){var u=_(o,c),s=u[0],l=u[1];i.replaceState(s,"",l),S(a)}},go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(e){return v.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(d,m),function(){t(),w.length||r.removeEventListener(d,m)}}};return C}function m(e){e.preventDefault(),e.returnValue=""}function y(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function g(){return Math.random().toString(36).substr(2,8)}function k(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function b(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var w=(0,r.createContext)(null);var x=(0,r.createContext)(null);var E=(0,r.createContext)({outlet:null,matches:[]});function _(e,t){if(!e)throw new Error(t)}function I(e,t,n){void 0===n&&(n="/");var r=R(("string"===typeof t?b(t):t).pathname||"/",n);if(null==r)return null;var i=S(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=A(i[o],r);return a}function S(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||_(!1),a.relativePath=a.relativePath.slice(r.length));var o=D([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&_(!1),S(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:N(o,e.index),routesMeta:u})})),t}var T=/^:\w+$/,C=function(e){return"*"===e};function N(e,t){var n=e.split("/"),r=n.length;return n.some(C)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!C(e)})).reduce((function(e,t){return e+(T.test(t)?3:""===t?1:10)}),r)}function A(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=P({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:D([i,l.pathname]),pathnameBase:M(D([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=D([i,l.pathnameBase]))}return a}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function O(e,t,n){var r,i="string"===typeof e?b(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?b(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:L(a),hash:F(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var D=function(e){return e.join("/").replace(/\/\/+/g,"/")},M=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},L=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},F=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function V(e){U()||_(!1);var t=(0,r.useContext)(w),n=t.basename,i=t.navigator,a=q(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?b(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?n+(f?"/":""):D([n,u])}return i.createHref({pathname:c,search:s,hash:o})}function U(){return null!=(0,r.useContext)(x)}function j(){return U()||_(!1),(0,r.useContext)(x).location}function B(){U()||_(!1);var e=(0,r.useContext)(w),t=e.basename,n=e.navigator,i=(0,r.useContext)(E).matches,a=j().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,r.useRef)(!1);(0,r.useEffect)((function(){u.current=!0}));var s=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=O(e,JSON.parse(o),a);"/"!==t&&(i.pathname=D([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return s}function q(e){var t=(0,r.useContext)(E).matches,n=j().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return O(e,JSON.parse(i),n)}),[e,i,n])}function z(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(E.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function W(e){_(!1)}function K(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;U()&&_(!1);var d=M(i),p=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=b(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,E=v.hash,I=void 0===E?"":E,S=v.state,T=void 0===S?null:S,C=v.key,N=void 0===C?"default":C,A=(0,r.useMemo)((function(){var e=R(y,d);return null==e?null:{pathname:e,search:k,hash:I,state:T,key:N}}),[d,y,k,I,T,N]);return null==A?null:(0,r.createElement)(w.Provider,{value:p},(0,r.createElement)(x.Provider,{children:o,value:{location:A,navigationType:c}}))}function H(e){var t=e.children,n=e.location;return function(e,t){U()||_(!1);var n,i=(0,r.useContext)(E).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,j());if(t){var c,l="string"===typeof t?b(t):t;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||_(!1),n=l}else n=s;var f=n.pathname||"/",h=I(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return z(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:D([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:D([u,e.pathnameBase])})})),i)}(G(t),n)}function G(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==W&&_(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=G(e.props.children)),t.push(n)}else t.push.apply(t,G(e.props.children))})),t}function $(){return $=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}function Q(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Y=["onClick","reloadDocument","replace","state","target","to"];function J(e){var t=e.basename,n=e.children,i=e.window,a=(0,r.useRef)();null==a.current&&(a.current=v({window:i}));var o=a.current,u=l((0,r.useState)({action:o.action,location:o.location}),2),s=u[0],c=u[1];return(0,r.useLayoutEffect)((function(){return o.listen(c)}),[o]),(0,r.createElement)(K,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}var X=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=Q(e,Y),f=V(c),h=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=B(),s=j(),c=q(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||k(s)===k(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,i,e])}(c,{replace:o,state:u,target:s});return(0,r.createElement)("a",$({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||i||h(e)},ref:t,target:s}))}));var Z=n(248),ee=n(327);var te=function(e){e()},ne=function(){return te},re=r.createContext(null);n(110),n(900);var ie={notify:function(){},get:function(){return[]}};function ae(e,t){var n,r=ie;function i(){o.onStateChange&&o.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=ne(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var o={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=ie)},getListeners:function(){return r}};return o}var oe=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?r.useLayoutEffect:r.useEffect;var ue=function(e){var t=e.store,n=e.context,i=e.children,a=e.serverState,o=(0,r.useMemo)((function(){var e=ae(t);return{store:t,subscription:e,getServerState:a?function(){return a}:void 0}}),[t,a]),u=(0,r.useMemo)((function(){return t.getState()}),[t]);oe((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,u]);var s=n||re;return r.createElement(s.Provider,{value:o},i)};var se;function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}!function(e){e}(ee.useSyncExternalStoreWithSelector),function(e){e}(Z.useSyncExternalStore),se=i.unstable_batchedUpdates,te=se;var de="function"===typeof Symbol&&Symbol.observable||"@@observable",pe=function(){return Math.random().toString(36).substring(7).split("").join(".")},ve={INIT:"@@redux/INIT"+pe(),REPLACE:"@@redux/REPLACE"+pe(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+pe()}};function me(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ye(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(he(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(he(1));return n(ye)(e,t)}if("function"!==typeof e)throw new Error(he(2));var i=e,a=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function l(){if(s)throw new Error(he(3));return a}function f(e){if("function"!==typeof e)throw new Error(he(4));if(s)throw new Error(he(5));var t=!0;return c(),u.push(e),function(){if(t){if(s)throw new Error(he(6));t=!1,c();var n=u.indexOf(e);u.splice(n,1),o=null}}}function h(e){if(!me(e))throw new Error(he(7));if("undefined"===typeof e.type)throw new Error(he(8));if(s)throw new Error(he(9));try{s=!0,a=i(a,e)}finally{s=!1}for(var t=o=u,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(he(10));i=e,h({type:ve.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(he(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[de]=function(){return this},e}return h({type:ve.INIT}),(r={dispatch:h,subscribe:f,getState:l,replaceReducer:d})[de]=p,r}function ge(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var ke=n(896),be=n.n(ke),we={currentUser:null},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;return"SET_CURRENT_USER"===t.type?fe(fe({},e),{},{currentUser:t.payload}):e},Ee=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:ve.INIT}))throw new Error(he(12));if("undefined"===typeof n(void 0,{type:ve.PROBE_UNKNOWN_ACTION()}))throw new Error(he(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(he(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}({user:xe}),_e=[be()],Ie=ye(Ee,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(he(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=ge.apply(void 0,a)(n.dispatch),fe(fe({},n),{},{dispatch:r})}}}.apply(void 0,_e)),Se=Ie;function Te(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Ce(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Te(a,r,i,o,u,"next",e)}function u(e){Te(a,r,i,o,u,"throw",e)}o(void 0)}))}}function Ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t,n){return t&&Ae(e.prototype,t),n&&Ae(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oe(e,t){return Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Oe(e,t)}function Re(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oe(e,t)}function De(e){return De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},De(e)}function Me(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function Fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ve(e,t){if(t&&("object"===Le(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fe(e)}function Ue(e){var t=Me();return function(){var n,r=De(e);if(t){var i=De(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ve(this,n)}}var je=n(757),Be=n.n(je);function qe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ze=n(184),We=function(e){var t=e.title,n=e.imageUrl,r=e.size,i=e.linkUrl,a=B();return(0,ze.jsxs)("div",{className:"".concat(r," menu-item"),onClick:function(){return a("".concat(i))},children:[(0,ze.jsx)("div",{className:"background-image",style:{backgroundImage:"url(".concat(n,")")}}),(0,ze.jsxs)("div",{className:"content",children:[(0,ze.jsx)("h1",{className:"title",children:t.toUpperCase()}),(0,ze.jsx)("span",{className:"subtitle",children:"SHOW NOW"})]})]})},Ke=["id"],He=[{title:"hats",imageUrl:"https://i.ibb.co/cvpntL1/hats.png",id:1,linkUrl:"shop/hats"},{title:"jackets",imageUrl:"https://i.ibb.co/px2tCc3/jackets.png",id:2,linkUrl:"shop/jackets"},{title:"sneakers",imageUrl:"https://i.ibb.co/0jqHpnp/sneakers.png",id:3,linkUrl:"shop/sneakers"},{title:"womens",imageUrl:"https://i.ibb.co/GCCdy8t/womens.png",size:"large",id:4,linkUrl:"shop/womens"},{title:"mens",imageUrl:"https://i.ibb.co/R70vBrQ/men.png",size:"large",id:5,linkUrl:"shop/mens"}],Ge=function(){return(0,ze.jsx)("div",{className:"directory-menu",children:He.map((function(e){var t=e.id,n=qe(e,Ke);return(0,ze.jsx)(We,fe({},n),t)}))})},$e=function(){return(0,ze.jsx)("div",{className:"homepage",children:(0,ze.jsx)(Ge,{})})},Qe=[{id:1,title:"Hats",routeName:"hats",items:[{id:1,name:"Brown Brim",imageUrl:"https://i.ibb.co/ZYW3VTp/brown-brim.png",price:25},{id:2,name:"Blue Beanie",imageUrl:"https://i.ibb.co/ypkgK0X/blue-beanie.png",price:18},{id:3,name:"Brown Cowboy",imageUrl:"https://i.ibb.co/QdJwgmp/brown-cowboy.png",price:35},{id:4,name:"Grey Brim",imageUrl:"https://i.ibb.co/RjBLWxB/grey-brim.png",price:25},{id:5,name:"Green Beanie",imageUrl:"https://i.ibb.co/YTjW3vF/green-beanie.png",price:18},{id:6,name:"Palm Tree Cap",imageUrl:"https://i.ibb.co/rKBDvJX/palm-tree-cap.png",price:14},{id:7,name:"Red Beanie",imageUrl:"https://i.ibb.co/bLB646Z/red-beanie.png",price:18},{id:8,name:"Wolf Cap",imageUrl:"https://i.ibb.co/1f2nWMM/wolf-cap.png",price:14},{id:9,name:"Blue Snapback",imageUrl:"https://i.ibb.co/X2VJP2W/blue-snapback.png",price:16}]},{id:2,title:"Sneakers",routeName:"sneakers",items:[{id:1,name:"Adidas NMD",imageUrl:"https://i.ibb.co/0s3pdnc/adidas-nmd.png",price:220},{id:2,name:"Adidas Yeezy",imageUrl:"https://i.ibb.co/dJbG1cT/yeezy.png",price:280},{id:3,name:"Black Converse",imageUrl:"https://i.ibb.co/bPmVXyP/black-converse.png",price:110},{id:4,name:"Nike White AirForce",imageUrl:"https://i.ibb.co/1RcFPk0/white-nike-high-tops.png",price:160},{id:5,name:"Nike Red High Tops",imageUrl:"https://i.ibb.co/QcvzydB/nikes-red.png",price:160},{id:6,name:"Nike Brown High Tops",imageUrl:"https://i.ibb.co/fMTV342/nike-brown.png",price:160},{id:7,name:"Air Jordan Limited",imageUrl:"https://i.ibb.co/w4k6Ws9/nike-funky.png",price:190},{id:8,name:"Timberlands",imageUrl:"https://i.ibb.co/Mhh6wBg/timberlands.png",price:200}]},{id:3,title:"Jackets",routeName:"jackets",items:[{id:1,name:"Black Jean Shearling",imageUrl:"https://i.ibb.co/XzcwL5s/black-shearling.png",price:125},{id:2,name:"Blue Jean Jacket",imageUrl:"https://i.ibb.co/mJS6vz0/blue-jean-jacket.png",price:90},{id:3,name:"Grey Jean Jacket",imageUrl:"https://i.ibb.co/N71k1ML/grey-jean-jacket.png",price:90},{id:4,name:"Brown Shearling",imageUrl:"https://i.ibb.co/s96FpdP/brown-shearling.png",price:165},{id:5,name:"Tan Trench",imageUrl:"https://i.ibb.co/M6hHc3F/brown-trench.png",price:185}]},{id:4,title:"Womens",routeName:"womens",items:[{id:1,name:"Blue Tanktop",imageUrl:"https://i.ibb.co/7CQVJNm/blue-tank.png",price:25},{id:2,name:"Floral Blouse",imageUrl:"https://i.ibb.co/4W2DGKm/floral-blouse.png",price:20},{id:3,name:"Floral Dress",imageUrl:"https://i.ibb.co/KV18Ysr/floral-skirt.png",price:80},{id:4,name:"Red Dots Dress",imageUrl:"https://i.ibb.co/N3BN1bh/red-polka-dot-dress.png",price:80},{id:5,name:"Striped Sweater",imageUrl:"https://i.ibb.co/KmSkMbH/striped-sweater.png",price:45},{id:6,name:"Yellow Track Suit",imageUrl:"https://i.ibb.co/v1cvwNf/yellow-track-suit.png",price:135},{id:7,name:"White Blouse",imageUrl:"https://i.ibb.co/qBcrsJg/white-vest.png",price:20}]},{id:5,title:"Mens",routeName:"mens",items:[{id:1,name:"Camo Down Vest",imageUrl:"https://i.ibb.co/xJS0T3Y/camo-vest.png",price:325},{id:2,name:"Floral T-shirt",imageUrl:"https://i.ibb.co/qMQ75QZ/floral-shirt.png",price:20},{id:3,name:"Black & White Longsleeve",imageUrl:"https://i.ibb.co/55z32tw/long-sleeve.png",price:25},{id:4,name:"Pink T-shirt",imageUrl:"https://i.ibb.co/RvwnBL8/pink-shirt.png",price:25},{id:5,name:"Jean Long Sleeve",imageUrl:"https://i.ibb.co/VpW4x5t/roll-up-jean-shirt.png",price:40},{id:6,name:"Burgundy T-shirt",imageUrl:"https://i.ibb.co/mh3VM1f/polka-dot-shirt.png",price:25}]}],Ye=function(e){e.id;var t=e.name,n=e.price,r=e.imageUrl;return(0,ze.jsxs)("div",{className:"collection-item",children:[(0,ze.jsx)("div",{className:"image",style:{backgroundImage:"url(".concat(r,")")}}),(0,ze.jsxs)("div",{className:"collection-footer",children:[(0,ze.jsx)("span",{className:"name",children:t}),(0,ze.jsx)("span",{className:"price",children:n})]})]})},Je=["id"],Xe=function(e){var t=e.title,n=e.items;return(0,ze.jsxs)("div",{className:"collection-preview",children:[(0,ze.jsx)("h1",{className:"title",children:t.toUpperCase()}),(0,ze.jsx)("div",{className:"preview",children:n.filter((function(e,t){return t<4})).map((function(e){var t=e.id,n=qe(e,Je);return(0,ze.jsx)(Ye,fe({},n),t)}))})]})},Ze=["id"],et=function(e){var t=Qe;return(0,ze.jsx)("div",{className:"shop-page",children:t.map((function(e){var t=e.id,n=qe(e,Ze);return(0,ze.jsx)(Xe,fe({},n),t)}))})},tt=["handleChange","label"],nt=function(e){var t=e.handleChange,n=e.label,r=qe(e,tt);return(0,ze.jsxs)("div",{className:"group",children:[(0,ze.jsx)("input",fe({className:"form-input",onChange:t},r)),n?(0,ze.jsx)("label",{className:"".concat(r.value.length?"shrink":""," form-input-label "),children:n}):null]})},rt=["children","isGoogleSignIn"],it=function(e){var t=e.children,n=e.isGoogleSignIn,r=qe(e,rt);return(0,ze.jsx)("button",fe(fe({className:"".concat(n?"google-sign-in":""," custom-button")},r),{},{children:t}))};function at(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function ot(e,t,n){return ot=Me()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Oe(i,n.prototype),i},ot.apply(null,arguments)}function ut(e){var t="function"===typeof Map?new Map:void 0;return ut=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ot(e,arguments,De(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Oe(n,e)},ut(e)}var st=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ct={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(st(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},lt=function(e){return function(e){var t=st(e);return ct.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ft=function(e){try{return ct.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ht(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&dt(n)&&(e[n]=ht(e[n],t[n]));return e}function dt(e){return"__proto__"!==e}var pt=function(){function e(){var t=this;Ne(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Pe(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function vt(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[lt(JSON.stringify({alg:"none",type:"JWT"})),lt(JSON.stringify(a)),""].join(".")}function mt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function yt(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function gt(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function kt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function bt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function wt(){var e=mt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function xt(){return"object"===typeof indexedDB}var Et=function(e){Re(n,e);var t=Ue(n);function n(e,r,i){var a;return Ne(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Fe(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Fe(a),_t.prototype.create),a}return Pe(n)}(ut(Error)),_t=function(){function e(t,n,r){Ne(this,e),this.service=t,this.serviceName=n,this.errors=r}return Pe(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?It(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Et(n,a,t);return o}}]),e}();function It(e,t){return e.replace(St,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var St=/\{\$([^}]+)}/g;function Tt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ct(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Nt(u)&&Nt(s)){if(!Ct(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Nt(e){return null!==e&&"object"===typeof e}function At(e){for(var t=[],n=function(){var e=l(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Pt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=l(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ot(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Rt(e,t){var n=new Dt(e,t);return n.subscribe.bind(n)}var Dt=function(){function e(t,n){var r=this;Ne(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Pe(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=at(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Mt),void 0===r.error&&(r.error=Mt),void 0===r.complete&&(r.complete=Mt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Mt(){}function Lt(e){return e&&e._delegate?e._delegate:e}function Ft(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Vt(e){return function(e){if(Array.isArray(e))return u(e)}(e)||Ft(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ut=function(){function e(t,n,r){Ne(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Pe(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),jt="[DEFAULT]",Bt=function(){function e(t,n){Ne(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Pe(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new pt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:jt})}catch(s){}var t,n=at(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=l(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ce(je.mark((function e(){var t;return je.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Vt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Vt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=at(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=l(i.value,2),s=u[0],c=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=at(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Tm){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===jt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Tm){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt;return this.component?this.component.multipleInstances?e:jt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var qt,zt,Wt=function(){function e(t){Ne(this,e),this.name=t,this.providers=new Map}return Pe(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Bt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Kt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(zt||(zt={}));var Ht={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},Gt=zt.INFO,$t=(ce(qt={},zt.DEBUG,"log"),ce(qt,zt.VERBOSE,"log"),ce(qt,zt.INFO,"info"),ce(qt,zt.WARN,"warn"),ce(qt,zt.ERROR,"error"),qt),Qt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=$t[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Yt=function(){function e(t){Ne(this,e),this.name=t,this._logLevel=Gt,this._logHandler=Qt,this._userLogHandler=null,Kt.push(this)}return Pe(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in zt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ht[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zt.DEBUG].concat(t)),this._logHandler.apply(this,[this,zt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,zt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zt.INFO].concat(t)),this._logHandler.apply(this,[this,zt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zt.WARN].concat(t)),this._logHandler.apply(this,[this,zt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,zt.ERROR].concat(t)),this._logHandler.apply(this,[this,zt.ERROR].concat(t))}}]),e}();var Jt,Xt;var Zt=new WeakMap,en=new WeakMap,tn=new WeakMap,nn=new WeakMap,rn=new WeakMap;var an={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return en.get(e);if("objectStoreNames"===t)return e.objectStoreNames||tn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function on(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Xt||(Xt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(cn(this),n),sn(Zt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return sn(e.apply(cn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[cn(this),t].concat(r));return tn.set(a,t.sort?t.sort():[t]),sn(a)}}function un(e){return"function"===typeof e?on(e):(e instanceof IDBTransaction&&function(e){if(!en.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));en.set(e,t)}}(e),function(e,t){return t.some((function(t){return e instanceof t}))}(e,Jt||(Jt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,an):e)}function sn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(sn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Zt.set(t,e)})).catch((function(){})),rn.set(t,e),t}(e);if(nn.has(e))return nn.get(e);var t=un(e);return t!==e&&(nn.set(e,t),rn.set(t,e)),t}var cn=function(e){return rn.get(e)};var ln,fn,hn=["get","getKey","getAll","getAllKeys","count"],dn=["put","add","delete","clear"],pn=new Map;function vn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(pn.get(t))return pn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=dn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||hn.includes(n))){var a=function(){var e=Ce(je.mark((function e(t){var a,o,u,s,c,l,f=arguments;return je.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return pn.set(t,a),a}}}an=function(e){return fe(fe({},e),{},{get:function(t,n,r){return vn(t,n)||e.get(t,n,r)},has:function(t,n){return!!vn(t,n)||e.has(t,n)}})}(an);var mn=function(){function e(t){Ne(this,e),this.container=t}return Pe(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var yn="@firebase/app",gn="0.7.23",kn=new Yt("@firebase/app"),bn="[DEFAULT]",wn=(ce(ln={},yn,"fire-core"),ce(ln,"@firebase/app-compat","fire-core-compat"),ce(ln,"@firebase/analytics","fire-analytics"),ce(ln,"@firebase/analytics-compat","fire-analytics-compat"),ce(ln,"@firebase/app-check","fire-app-check"),ce(ln,"@firebase/app-check-compat","fire-app-check-compat"),ce(ln,"@firebase/auth","fire-auth"),ce(ln,"@firebase/auth-compat","fire-auth-compat"),ce(ln,"@firebase/database","fire-rtdb"),ce(ln,"@firebase/database-compat","fire-rtdb-compat"),ce(ln,"@firebase/functions","fire-fn"),ce(ln,"@firebase/functions-compat","fire-fn-compat"),ce(ln,"@firebase/installations","fire-iid"),ce(ln,"@firebase/installations-compat","fire-iid-compat"),ce(ln,"@firebase/messaging","fire-fcm"),ce(ln,"@firebase/messaging-compat","fire-fcm-compat"),ce(ln,"@firebase/performance","fire-perf"),ce(ln,"@firebase/performance-compat","fire-perf-compat"),ce(ln,"@firebase/remote-config","fire-rc"),ce(ln,"@firebase/remote-config-compat","fire-rc-compat"),ce(ln,"@firebase/storage","fire-gcs"),ce(ln,"@firebase/storage-compat","fire-gcs-compat"),ce(ln,"@firebase/firestore","fire-fst"),ce(ln,"@firebase/firestore-compat","fire-fst-compat"),ce(ln,"fire-js","fire-js"),ce(ln,"firebase","fire-js-all"),ln),xn=new Map,En=new Map;function _n(e,t){try{e.container.addComponent(t)}catch(n){kn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function In(e,t){e.container.addOrOverwriteComponent(t)}function Sn(e){var t=e.name;if(En.has(t))return kn.debug("There were multiple attempts to register component ".concat(t,".")),!1;En.set(t,e);var n,r=at(xn.values());try{for(r.s();!(n=r.n()).done;){_n(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Tn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Cn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bn;Tn(e,t).clearInstance(n)}function Nn(){En.clear()}var An=(ce(fn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ce(fn,"bad-app-name","Illegal App name: '{$appName}"),ce(fn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),ce(fn,"app-deleted","Firebase App named '{$appName}' already deleted"),ce(fn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),ce(fn,"invalid-log-argument","First argument to `onLog` must be null or a function."),ce(fn,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),ce(fn,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),ce(fn,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),ce(fn,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),fn),Pn=new _t("app","Firebase",An),On=function(){function e(t,n,r){var i=this;Ne(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ut("app",(function(){return i}),"PUBLIC"))}return Pe(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Pn.create("app-deleted",{appName:this._name})}}]),e}(),Rn="9.8.0";function Dn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:bn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Pn.create("bad-app-name",{appName:String(i)});var a=xn.get(i);if(a){if(Ct(e,a.options)&&Ct(r,a.config))return a;throw Pn.create("duplicate-app",{appName:i})}var o,u=new Wt(i),s=at(En.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new On(e,r,u);return xn.set(i,l),l}function Mn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn,t=xn.get(e);if(!t)throw Pn.create("no-app",{appName:e});return t}function Ln(){return Array.from(xn.values())}function Fn(e){return Vn.apply(this,arguments)}function Vn(){return Vn=Ce(je.mark((function e(t){var n;return je.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!xn.has(n)){e.next=6;break}return xn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Vn.apply(this,arguments)}function Un(e,t,n){var r,i=null!==(r=wn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void kn.warn(u.join(" "))}Sn(new Ut("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function jn(e,t){if(null!==e&&"function"!==typeof e)throw Pn.create("invalid-log-argument");!function(e,t){var n,r=at(Kt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ht[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:zt[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Bn(e){var t;t=e,Kt.forEach((function(e){e.setLogLevel(t)}))}var qn="firebase-heartbeat-store",zn=null;function Wn(){return zn||(zn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=sn(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(sn(u.result),e.oldVersion,e.newVersion,sn(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(qn)}}).catch((function(e){throw Pn.create("storage-open",{originalErrorMessage:e.message})}))),zn}function Kn(e){return Hn.apply(this,arguments)}function Hn(){return Hn=Ce(je.mark((function e(t){var n;return je.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wn();case 3:return n=e.sent,e.abrupt("return",n.transaction(qn).objectStore(qn).get(Qn(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Pn.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Hn.apply(this,arguments)}function Gn(e,t){return $n.apply(this,arguments)}function $n(){return $n=Ce(je.mark((function e(t,n){var r,i,a;return je.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wn();case 3:return r=e.sent,i=r.transaction(qn,"readwrite"),a=i.objectStore(qn),e.next=8,a.put(n,Qn(t));case 8:return e.abrupt("return",i.done);case 11:throw e.prev=11,e.t0=e.catch(0),Pn.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),$n.apply(this,arguments)}function Qn(e){return"".concat(e.name,"!").concat(e.options.appId)}var Yn=function(){function e(t){var n=this;Ne(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new tr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Pe(e,[{key:"triggerHeartbeat",value:function(){var e=Ce(je.mark((function e(){var t,n,r;return je.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Jn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ce(je.mark((function e(){var t,n,r,i,a;return je.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Jn(),n=Xn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=lt(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Jn(){return(new Date).toISOString().substring(0,10)}function Xn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=at(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),nr(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),nr(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Zn,er,tr=function(){function e(t){Ne(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Pe(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ce(je.mark((function e(){return je.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ce(je.mark((function e(){var t;return je.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Kn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ce(je.mark((function e(t){var n,r;return je.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Gn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ce(je.mark((function e(t){var n,r;return je.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Gn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Vt(r.heartbeats),Vt(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function nr(e){return lt(JSON.stringify({version:2,heartbeats:e})).length}Zn="",Sn(new Ut("platform-logger",(function(e){return new mn(e)}),"PRIVATE")),Sn(new Ut("heartbeat",(function(e){return new Yn(e)}),"PRIVATE")),Un(yn,gn,Zn),Un(yn,gn,"esm2017"),Un("fire-js","");var rr=function(){function e(t,n){var r=this;Ne(this,e),this._delegate=t,this.firebase=n,_n(t,new Ut("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Pe(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Fn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){_n(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){In(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ir=(ce(er={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),ce(er,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),er),ar=new _t("app-compat","Firebase",ir);var or=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Dn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Tt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Un,setLogLevel:Bn,onLog:jn,apps:null,SDK_VERSION:Rn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Sn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ar.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ht(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Tt(n,e=e||bn))throw ar.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(rr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ht(n,e)},createSubscribe:Rt,ErrorFactory:_t,deepExtend:ht}),n}(),ur=new Yt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ur.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var sr=self.firebase.SDK_VERSION;sr&&sr.indexOf("LITE")>=0&&ur.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var cr=or;!function(e){Un("@firebase/app-compat","0.1.24",e)}();function lr(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=De(e)););return e}function fr(){return fr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=lr(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},fr.apply(this,arguments)}cr.registerVersion("firebase","9.8.0","app-compat");var hr,dr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},pr={},vr=vr||{},mr=dr||self;function yr(){}function gr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function kr(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var br="closure_uid_"+(1e9*Math.random()>>>0),wr=0;function xr(e,t,n){return e.call.apply(e.bind,arguments)}function Er(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _r(e,t,n){return(_r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xr:Er).apply(null,arguments)}function Ir(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Sr(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Tr(){this.s=this.s,this.o=this.o}var Cr={};Tr.prototype.s=!1,Tr.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,br)&&e[br]||(e[br]=++wr)}(this);delete Cr[e]}},Tr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Nr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ar=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Pr(e){return Array.prototype.concat.apply([],arguments)}function Or(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Rr(e){return/^[\s\xa0]*$/.test(e)}var Dr,Mr=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Lr(e,t){return-1!=e.indexOf(t)}function Fr(e,t){return e<t?-1:e>t?1:0}e:{var Vr=mr.navigator;if(Vr){var Ur=Vr.userAgent;if(Ur){Dr=Ur;break e}}Dr=""}function jr(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Br(e){var t={};for(var n in e)t[n]=e[n];return t}var qr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zr(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<qr.length;a++)n=qr[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Wr(e){return Wr[" "](e),e}Wr[" "]=yr;var Kr,Hr=Lr(Dr,"Opera"),Gr=Lr(Dr,"Trident")||Lr(Dr,"MSIE"),$r=Lr(Dr,"Edge"),Qr=$r||Gr,Yr=Lr(Dr,"Gecko")&&!(Lr(Dr.toLowerCase(),"webkit")&&!Lr(Dr,"Edge"))&&!(Lr(Dr,"Trident")||Lr(Dr,"MSIE"))&&!Lr(Dr,"Edge"),Jr=Lr(Dr.toLowerCase(),"webkit")&&!Lr(Dr,"Edge");function Xr(){var e=mr.document;return e?e.documentMode:void 0}e:{var Zr="",ei=function(){var e=Dr;return Yr?/rv:([^\);]+)(\)|;)/.exec(e):$r?/Edge\/([\d\.]+)/.exec(e):Gr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Jr?/WebKit\/(\S+)/.exec(e):Hr?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(ei&&(Zr=ei?ei[1]:""),Gr){var ti=Xr();if(null!=ti&&ti>parseFloat(Zr)){Kr=String(ti);break e}}Kr=Zr}var ni,ri={};function ii(){return function(e){var t=ri;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Mr(String(Kr)).split("."),n=Mr("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Fr(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Fr(0==a[2].length,0==o[2].length)||Fr(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(mr.document&&Gr){var ai=Xr();ni=ai||(parseInt(Kr,10)||void 0)}else ni=void 0;var oi=ni,ui=function(){if(!mr.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{mr.addEventListener("test",yr,t),mr.removeEventListener("test",yr,t)}catch(n){}return e}();function si(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ci(e,t){if(si.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Yr){e:{try{Wr(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:li[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ci.Z.h.call(this)}}si.prototype.h=function(){this.defaultPrevented=!0},Sr(ci,si);var li={2:"touch",3:"pen",4:"mouse"};ci.prototype.h=function(){ci.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var fi="closure_listenable_"+(1e6*Math.random()|0),hi=0;function di(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++hi,this.ca=this.fa=!1}function pi(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function vi(e){this.src=e,this.g={},this.h=0}function mi(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Nr(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(pi(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function yi(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}vi.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=yi(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new di(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var gi="closure_lm_"+(1e6*Math.random()|0),ki={};function bi(e,t,n,r,i){if(r&&r.once)return xi(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)bi(e,t[a],n,r,i);return null}return n=Ni(n),e&&e[fi]?e.N(t,n,kr(r)?!!r.capture:!!r,i):wi(e,t,n,!1,r,i)}function wi(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=kr(i)?!!i.capture:!!i,u=Ti(e);if(u||(e[gi]=u=new vi(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Si;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ui||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ii(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function xi(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)xi(e,t[a],n,r,i);return null}return n=Ni(n),e&&e[fi]?e.O(t,n,kr(r)?!!r.capture:!!r,i):wi(e,t,n,!0,r,i)}function Ei(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ei(e,t[a],n,r,i);else r=kr(r)?!!r.capture:!!r,n=Ni(n),e&&e[fi]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=yi(a=e.g[t],n,r,i))&&(pi(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ti(e))&&(t=e.g[t.toString()],e=-1,t&&(e=yi(t,n,r,i)),(n=-1<e?t[e]:null)&&_i(n))}function _i(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[fi])mi(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ii(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ti(t))?(mi(n,e),0==n.h&&(n.src=null,t[gi]=null)):pi(e)}}}function Ii(e){return e in ki?ki[e]:ki[e]="on"+e}function Si(e,t){if(e.ca)e=!0;else{t=new ci(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&_i(e),e=n.call(r,t)}return e}function Ti(e){return(e=e[gi])instanceof vi?e:null}var Ci="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ni(e){return"function"===typeof e?e:(e[Ci]||(e[Ci]=function(t){return e.handleEvent(t)}),e[Ci])}function Ai(){Tr.call(this),this.i=new vi(this),this.P=this,this.I=null}function Pi(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new si(t,e);else if(t instanceof si)t.target=t.target||e;else{var i=t;zr(t=new si(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Oi(o,r,!0,t)&&i}if(i=Oi(o=t.g=e,r,!0,t)&&i,i=Oi(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Oi(o=t.g=n[a],r,!1,t)&&i}function Oi(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&mi(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Sr(Ai,Tr),Ai.prototype[fi]=!0,Ai.prototype.removeEventListener=function(e,t,n,r){Ei(this,e,t,n,r)},Ai.prototype.M=function(){if(Ai.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)pi(n[r]);delete t.g[e],t.h--}}this.I=null},Ai.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ai.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ri=mr.JSON.stringify;function Di(){var e=qi,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Mi,Li=function(){function e(){Ne(this,e),this.h=this.g=null}return Pe(e,[{key:"add",value:function(e,t){var n=Fi.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Fi=new(function(){function e(t,n){Ne(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Pe(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Vi}),(function(e){return e.reset()})),Vi=function(){function e(){Ne(this,e),this.next=this.g=this.h=null}return Pe(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Ui(e){mr.setTimeout((function(){throw e}),0)}function ji(e,t){Mi||function(){var e=mr.Promise.resolve(void 0);Mi=function(){e.then(zi)}}(),Bi||(Mi(),Bi=!0),qi.add(e,t)}var Bi=!1,qi=new Li;function zi(){for(var e;e=Di();){try{e.h.call(e.g)}catch(n){Ui(n)}var t=Fi;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Bi=!1}function Wi(e,t){Ai.call(this),this.h=e||1,this.g=t||mr,this.j=_r(this.kb,this),this.l=Date.now()}function Ki(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Hi(e,t,n){if("function"===typeof e)n&&(e=_r(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_r(e.handleEvent,e)}return 2147483647<Number(t)?-1:mr.setTimeout(e,t||0)}function Gi(e){e.g=Hi((function(){e.g=null,e.i&&(e.i=!1,Gi(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Sr(Wi,Ai),(hr=Wi.prototype).da=!1,hr.S=null,hr.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Pi(this,"tick"),this.da&&(Ki(this),this.start()))}},hr.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},hr.M=function(){Wi.Z.M.call(this),Ki(this),delete this.g};var $i=function(e){Re(n,e);var t=Ue(n);function n(e,r){var i;return Ne(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Pe(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Gi(this)}},{key:"M",value:function(){fr(De(n.prototype),"M",this).call(this),this.g&&(mr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Tr);function Qi(e){Tr.call(this),this.h=e,this.g={}}Sr(Qi,Tr);var Yi=[];function Ji(e,t,n,r){Array.isArray(n)||(n&&(Yi[0]=n.toString()),n=Yi);for(var i=0;i<n.length;i++){var a=bi(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Xi(e){jr(e.g,(function(e,t){this.g.hasOwnProperty(t)&&_i(e)}),e),e.g={}}function Zi(){this.g=!0}function ea(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Ri(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Qi.prototype.M=function(){Qi.Z.M.call(this),Xi(this)},Qi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zi.prototype.Aa=function(){this.g=!1},Zi.prototype.info=function(){};var ta={},na=null;function ra(){return na=na||new Ai}function ia(e){si.call(this,ta.Ma,e)}function aa(e){var t=ra();Pi(t,new ia(t,e))}function oa(e,t){si.call(this,ta.STAT_EVENT,e),this.stat=t}function ua(e){var t=ra();Pi(t,new oa(t,e))}function sa(e,t){si.call(this,ta.Na,e),this.size=t}function ca(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return mr.setTimeout((function(){e()}),t)}ta.Ma="serverreachability",Sr(ia,si),ta.STAT_EVENT="statevent",Sr(oa,si),ta.Na="timingevent",Sr(sa,si);var la={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},fa={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ha(){}function da(e){return e.h||(e.h=e.i())}function pa(){}ha.prototype.h=null;var va,ma={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ya(){si.call(this,"d")}function ga(){si.call(this,"c")}function ka(){}function ba(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Qi(this),this.P=xa,e=Qr?125:void 0,this.W=new Wi(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new wa}function wa(){this.i=null,this.g="",this.h=!1}Sr(ya,si),Sr(ga,si),Sr(ka,ha),ka.prototype.g=function(){return new XMLHttpRequest},ka.prototype.i=function(){return{}},va=new ka;var xa=45e3,Ea={},_a={};function Ia(e,t,n){e.K=1,e.v=$a(qa(t)),e.s=n,e.U=!0,Sa(e,null)}function Sa(e,t){e.F=Date.now(),Aa(e),e.A=qa(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),uo(n.h,"t",r),e.C=0,n=e.l.H,e.h=new wa,e.g=lu(e.l,n?t:null,!e.s),0<e.O&&(e.L=new $i(_r(e.Ia,e,e.g),e.O)),Ji(e.V,e.g,"readystatechange",e.gb),t=e.H?Br(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),aa(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ta(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Ca(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Na(e,n))==_a){4==t&&(e.o=4,ua(14),i=!1),ea(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ea){e.o=4,ua(15),ea(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ea(e.j,e.m,r,null),Ma(e,r)}Ta(e)&&r!=_a&&r!=Ea&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ua(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),nu(t),t.L=!0,ua(11))):(ea(e.j,e.m,n,"[Invalid Chunked Response]"),Da(e),Ra(e))}function Na(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?_a:(n=Number(t.substring(n,r)),isNaN(n)?Ea:(r+=1)+n>t.length?_a:(t=t.substr(r,n),e.C=r+n,t))}function Aa(e){e.Y=Date.now()+e.P,Pa(e,e.P)}function Pa(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ca(_r(e.eb,e),t)}function Oa(e){e.B&&(mr.clearTimeout(e.B),e.B=null)}function Ra(e){0==e.l.G||e.I||au(e.l,e)}function Da(e){Oa(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ki(e.W),Xi(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ma(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||mo(n.i,e)))if(n.I=e.N,!e.J&&mo(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;iu(n),Go(n)}tu(n),ua(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ca(_r(n.ab,n),6e3));if(1>=vo(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else uu(n,11)}else if((e.J||n.g==e)&&iu(n),!Rr(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Lr(l,"spdy")||Lr(l,"quic")||Lr(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(yo(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Ga(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=cu(r,r.H?r.la:null,r.W),d.J){go(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Oa(p),Aa(p)),r.g=d}else eu(r);0<n.l.length&&Yo(n)}else"stop"!=a[0]&&"close"!=a[0]||uu(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?uu(n,7):Ho(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}aa(4)}catch(a){}}function La(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(gr(e)||"string"===typeof e)Ar(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(gr(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(gr(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Fa(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Fa)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Va(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ua(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Ua(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ua(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(hr=ba.prototype).setTimeout=function(e){this.P=e},hr.gb=function(e){e=e.target;var t=this.L;t&&3==Bo(e)?t.l():this.Ia(e)},hr.Ia=function(e){try{if(e==this.g)e:{var t=Bo(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Qr||this.g&&(this.h.h||this.g.ga()||qo(this.g)))){this.I||4!=t||7==n||aa(8==n||0>=r?3:2),Oa(this);var i=this.g.ba();this.N=i;t:if(Ta(this)){var a=qo(this.g);e="";var o=a.length,u=4==Bo(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Da(this),Ra(this);var s="";break t}this.h.i=new mr.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rr(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,ua(12),Da(this),Ra(this);break e}ea(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ma(this,i)}this.U?(Ca(this,t,s),Qr&&this.i&&3==t&&(Ji(this.V,this.W,"tick",this.fb),this.W.start())):(ea(this.j,this.m,s,null),Ma(this,s)),4==t&&Da(this),this.i&&!this.I&&(4==t?au(this.l,this):(this.i=!1,Aa(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,ua(12)):(this.o=0,ua(13)),Da(this),Ra(this)}}}catch(t){}},hr.fb=function(){if(this.g){var e=Bo(this.g),t=this.g.ga();this.C<t.length&&(Oa(this),Ca(this,e,t),this.i&&4!=e&&Aa(this))}},hr.cancel=function(){this.I=!0,Da(this)},hr.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(aa(3),ua(17)),Da(this),this.o=2,Ra(this)):Pa(this,this.Y-e)},(hr=Fa.prototype).R=function(){Va(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},hr.T=function(){return Va(this),this.g.concat()},hr.get=function(e,t){return Ua(this.h,e)?this.h[e]:t},hr.set=function(e,t){Ua(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},hr.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var ja=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ba(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ba){this.g=void 0!==t?t:e.g,za(this,e.j),this.s=e.s,Wa(this,e.i),Ka(this,e.m),this.l=e.l,t=e.h;var n=new ro;n.i=t.i,t.g&&(n.g=new Fa(t.g),n.h=t.h),Ha(this,n),this.o=e.o}else e&&(n=String(e).match(ja))?(this.g=!!t,za(this,n[1]||"",!0),this.s=Qa(n[2]||""),Wa(this,n[3]||"",!0),Ka(this,n[4]),this.l=Qa(n[5]||"",!0),Ha(this,n[6]||"",!0),this.o=Qa(n[7]||"")):(this.g=!!t,this.h=new ro(null,this.g))}function qa(e){return new Ba(e)}function za(e,t,n){e.j=n?Qa(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Wa(e,t,n){e.i=n?Qa(t,!0):t}function Ka(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ha(e,t,n){t instanceof ro?(e.h=t,function(e,t){t&&!e.j&&(io(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(ao(this,t),uo(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Ya(t,to)),e.h=new ro(t,e.g))}function Ga(e,t,n){e.h.set(t,n)}function $a(e){return Ga(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Qa(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ya(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ja),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ja(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ba.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ya(t,Xa,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ya(t,Xa,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ya(n,"/"==n.charAt(0)?eo:Za,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ya(n,no)),e.join("")};var Xa=/[#\/\?@]/g,Za=/[#\?:]/g,eo=/[#\?]/g,to=/[#\?@]/g,no=/#/g;function ro(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function io(e){e.g||(e.g=new Fa,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function ao(e,t){io(e),t=so(e,t),Ua(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Ua((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Va(e)))}function oo(e,t){return io(e),t=so(e,t),Ua(e.g.h,t)}function uo(e,t,n){ao(e,t),0<n.length&&(e.i=null,e.g.set(so(e,t),Or(n)),e.h+=n.length)}function so(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(hr=ro.prototype).add=function(e,t){io(this),this.i=null,e=so(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},hr.forEach=function(e,t){io(this),this.g.forEach((function(n,r){Ar(n,(function(n){e.call(t,n,r,this)}),this)}),this)},hr.T=function(){io(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},hr.R=function(e){io(this);var t=[];if("string"===typeof e)oo(this,e)&&(t=Pr(t,this.g.get(so(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Pr(t,e[n])}return t},hr.set=function(e,t){return io(this),this.i=null,oo(this,e=so(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},hr.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},hr.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var co=Pe((function e(t,n){Ne(this,e),this.h=t,this.g=n}));function lo(e){this.l=e||ho,mr.PerformanceNavigationTiming?e=0<(e=mr.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(mr.g&&mr.g.Ea&&mr.g.Ea()&&mr.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var fo,ho=10;function po(e){return!!e.h||!!e.g&&e.g.size>=e.j}function vo(e){return e.h?1:e.g?e.g.size:0}function mo(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function yo(e,t){e.g?e.g.add(t):e.h=t}function go(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ko(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=at(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Or(e.i)}function bo(){}function wo(){this.g=new bo}function xo(e,t,n){var r=n||"";try{La(e,(function(e,n){var i=e;kr(e)&&(i=Ri(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Eo(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function _o(e){this.l=e.$b||null,this.j=e.ib||!1}function Io(e,t){Ai.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=So,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lo.prototype.cancel=function(){if(this.i=ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=at(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},bo.prototype.stringify=function(e){return mr.JSON.stringify(e,void 0)},bo.prototype.parse=function(e){return mr.JSON.parse(e,void 0)},Sr(_o,ha),_o.prototype.g=function(){return new Io(this.l,this.j)},_o.prototype.i=(fo={},function(){return fo}),Sr(Io,Ai);var So=0;function To(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Co(e){e.readyState=4,e.l=null,e.j=null,e.A=null,No(e)}function No(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(hr=Io.prototype).open=function(e,t){if(this.readyState!=So)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,No(this)},hr.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||mr).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},hr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Co(this)),this.readyState=So},hr.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,No(this)),this.g&&(this.readyState=3,No(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof mr.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;To(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},hr.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Co(this):No(this),3==this.readyState&&To(this)}},hr.Ua=function(e){this.g&&(this.response=this.responseText=e,Co(this))},hr.Ta=function(e){this.g&&(this.response=e,Co(this))},hr.ha=function(){this.g&&Co(this)},hr.setRequestHeader=function(e,t){this.v.append(e,t)},hr.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},hr.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Io.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ao=mr.JSON.parse;function Po(e){Ai.call(this),this.headers=new Fa,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Oo,this.K=this.L=!1}Sr(Po,Ai);var Oo="",Ro=/^https?$/i,Do=["POST","PUT"];function Mo(e){return"content-type"==e.toLowerCase()}function Lo(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Fo(e),Uo(e)}function Fo(e){e.D||(e.D=!0,Pi(e,"complete"),Pi(e,"error"))}function Vo(e){if(e.h&&"undefined"!=typeof vr&&(!e.C[1]||4!=Bo(e)||2!=e.ba()))if(e.v&&4==Bo(e))Hi(e.Fa,0,e);else if(Pi(e,"readystatechange"),4==Bo(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(ja)[1]||null;if(!a&&mr.self&&mr.self.location){var o=mr.self.location.protocol;a=o.substr(0,o.length-1)}i=!Ro.test(a?a.toLowerCase():"")}t=i}if(t)Pi(e,"complete"),Pi(e,"success");else{e.m=6;try{var u=2<Bo(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Fo(e)}}finally{Uo(e)}}}function Uo(e,t){if(e.g){jo(e);var n=e.g,r=e.C[0]?yr:null;e.g=null,e.C=null,t||Pi(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function jo(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(mr.clearTimeout(e.A),e.A=null)}function Bo(e){return e.g?e.g.readyState:0}function qo(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Oo:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function zo(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return jr(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ga(e,t,n))}function Wo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ko(e){this.za=0,this.l=[],this.h=new Zi,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Wo("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Wo("baseRetryDelayMs",5e3,e),this.$a=Wo("retryDelaySeedMs",1e4,e),this.Ya=Wo("forwardChannelMaxRetries",2,e),this.ra=Wo("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new lo(e&&e.concurrentRequestLimit),this.Ca=new wo,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ho(e){if($o(e),3==e.G){var t=e.V++,n=qa(e.F);Ga(n,"SID",e.J),Ga(n,"RID",t),Ga(n,"TYPE","terminate"),Xo(e,n),(t=new ba(e,e.h,t,void 0)).K=2,t.v=$a(qa(n)),n=!1,mr.navigator&&mr.navigator.sendBeacon&&(n=mr.navigator.sendBeacon(t.v.toString(),"")),!n&&mr.Image&&((new Image).src=t.v,n=!0),n||(t.g=lu(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Aa(t)}su(e)}function Go(e){e.g&&(nu(e),e.g.cancel(),e.g=null)}function $o(e){Go(e),e.u&&(mr.clearTimeout(e.u),e.u=null),iu(e),e.i.cancel(),e.m&&("number"===typeof e.m&&mr.clearTimeout(e.m),e.m=null)}function Qo(e,t){e.l.push(new co(e.Za++,t)),3==e.G&&Yo(e)}function Yo(e){po(e.i)||e.m||(e.m=!0,ji(e.Ha,e),e.C=0)}function Jo(e,t){var n;n=t?t.m:e.V++;var r=qa(e.F);Ga(r,"SID",e.J),Ga(r,"RID",n),Ga(r,"AID",e.U),Xo(e,r),e.o&&e.s&&zo(r,e.o,e.s),n=new ba(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Zo(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),yo(e.i,n),Ia(n,r,t)}function Xo(e,t){e.j&&La({},(function(e,n){Ga(t,n,e)}))}function Zo(e,t,n){n=Math.min(e.l.length,n);var r=e.j?_r(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{xo(l,o,"req"+c+"_")}catch(Vu){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function eu(e){e.g||e.u||(e.Y=1,ji(e.Ga,e),e.A=0)}function tu(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ca(_r(e.Ga,e),ou(e,e.A)),e.A++,!0)}function nu(e){null!=e.B&&(mr.clearTimeout(e.B),e.B=null)}function ru(e){e.g=new ba(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=qa(e.oa);Ga(t,"RID","rpc"),Ga(t,"SID",e.J),Ga(t,"CI",e.N?"0":"1"),Ga(t,"AID",e.U),Xo(e,t),Ga(t,"TYPE","xmlhttp"),e.o&&e.s&&zo(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=$a(qa(t)),n.s=null,n.U=!0,Sa(n,e)}function iu(e){null!=e.v&&(mr.clearTimeout(e.v),e.v=null)}function au(e,t){var n=null;if(e.g==t){iu(e),nu(e),e.g=null;var r=2}else{if(!mo(e.i,t))return;n=t.D,go(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Pi(r=ra(),new sa(r,n,t,i)),Yo(e)}else eu(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(vo(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ca(_r(e.Ha,e,t),ou(e,e.C)),e.C++,!0))}(e,t)||2==r&&tu(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:uu(e,5);break;case 4:uu(e,10);break;case 3:uu(e,6);break;default:uu(e,2)}}function ou(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function uu(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=_r(e.jb,e);n||(n=new Ba("//www.google.com/images/cleardot.gif"),mr.location&&"http"==mr.location.protocol||za(n,"https"),$a(n)),function(e,t){var n=new Zi;if(mr.Image){var r=new Image;r.onload=Ir(Eo,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Ir(Eo,n,r,"TestLoadImage: error",!1,t),r.onabort=Ir(Eo,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Ir(Eo,n,r,"TestLoadImage: timeout",!1,t),mr.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ua(2);e.G=0,e.j&&e.j.va(t),su(e),$o(e)}function su(e){e.G=0,e.I=-1,e.j&&(0==ko(e.i).length&&0==e.l.length||(e.i.i.length=0,Or(e.l),e.l.length=0),e.j.ua())}function cu(e,t,n){var r=function(e){return e instanceof Ba?qa(e):new Ba(e,void 0)}(n);if(""!=r.i)t&&Wa(r,t+"."+r.i),Ka(r,r.m);else{var i=mr.location;r=function(e,t,n,r){var i=new Ba(null,void 0);return e&&za(i,e),t&&Wa(i,t),n&&Ka(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&jr(e.aa,(function(e,t){Ga(r,t,e)})),t=e.D,n=e.sa,t&&n&&Ga(r,t,n),Ga(r,"VER",e.ma),Xo(e,r),r}function lu(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Po(new _o({ib:!0})):new Po(e.qa)).L=e.H,t}function fu(){}function hu(){if(Gr&&!(10<=Number(oi)))throw Error("Environmental error: no available transport.")}function du(e,t){Ai.call(this),this.g=new Ko(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Rr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Rr(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new mu(this)}function pu(e){ya.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vu(){ga.call(this),this.status=1}function mu(e){this.g=e}(hr=Po.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():va.g(),this.C=this.u?da(this.u):da(va),this.g.onreadystatechange=_r(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Lo(this,a)}e=n||"";var i=new Fa(this.headers);r&&La(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Mo,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=mr.FormData&&e instanceof mr.FormData,!(0<=Nr(Do,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{jo(this),0<this.B&&((this.K=function(e){return Gr&&ii()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_r(this.pa,this)):this.A=Hi(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Lo(this,a)}},hr.pa=function(){"undefined"!=typeof vr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pi(this,"timeout"),this.abort(8))},hr.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Pi(this,"complete"),Pi(this,"abort"),Uo(this))},hr.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Uo(this,!0)),Po.Z.M.call(this)},hr.Fa=function(){this.s||(this.F||this.v||this.l?Vo(this):this.cb())},hr.cb=function(){Vo(this)},hr.ba=function(){try{return 2<Bo(this)?this.g.status:-1}catch(fo){return-1}},hr.ga=function(){try{return this.g?this.g.responseText:""}catch(fo){return""}},hr.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ao(t)}},hr.Da=function(){return this.m},hr.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(hr=Ko.prototype).ma=8,hr.G=1,hr.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},hr.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new ba(this,this.h,e,void 0),n=this.s;if(this.P&&(n?zr(n=Br(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Zo(this,t,r),Ga(i=qa(this.F),"RID",e),Ga(i,"CVER",22),this.D&&Ga(i,"X-HTTP-Session-Id",this.D),Xo(this,i),this.o&&n&&zo(i,this.o,n),yo(this.i,t),this.Ra&&Ga(i,"TYPE","init"),this.ja?(Ga(i,"$req",r),Ga(i,"SID","null"),t.$=!0,Ia(t,i,null)):Ia(t,i,r),this.G=2}}else 3==this.G&&(e?Jo(this,e):0==this.l.length||po(this.i)||Jo(this))},hr.Ga=function(){if(this.u=null,ru(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ca(_r(this.bb,this),e)}},hr.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ua(10),Go(this),ru(this))},hr.ab=function(){null!=this.v&&(this.v=null,Go(this),tu(this),ua(19))},hr.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ua(2)):(this.h.info("Failed to ping google.com"),ua(1))},(hr=fu.prototype).xa=function(){},hr.wa=function(){},hr.va=function(){},hr.ua=function(){},hr.Oa=function(){},hu.prototype.g=function(e,t){return new du(e,t)},Sr(du,Ai),du.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),ji(_r(e.hb,e,t))),ua(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=cu(e,null,e.W),Yo(e)},du.prototype.close=function(){Ho(this.g)},du.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Qo(this.g,t)}else this.v?((t={}).__data__=Ri(e),Qo(this.g,t)):Qo(this.g,e)},du.prototype.M=function(){this.g.j=null,delete this.j,Ho(this.g),delete this.g,du.Z.M.call(this)},Sr(pu,ya),Sr(vu,ga),Sr(mu,fu),mu.prototype.xa=function(){Pi(this.g,"a")},mu.prototype.wa=function(e){Pi(this.g,new pu(e))},mu.prototype.va=function(e){Pi(this.g,new vu(e))},mu.prototype.ua=function(){Pi(this.g,"b")},hu.prototype.createWebChannel=hu.prototype.g,du.prototype.send=du.prototype.u,du.prototype.open=du.prototype.m,du.prototype.close=du.prototype.close,la.NO_ERROR=0,la.TIMEOUT=8,la.HTTP_ERROR=6,fa.COMPLETE="complete",pa.EventType=ma,ma.OPEN="a",ma.CLOSE="b",ma.ERROR="c",ma.MESSAGE="d",Ai.prototype.listen=Ai.prototype.N,Po.prototype.listenOnce=Po.prototype.O,Po.prototype.getLastError=Po.prototype.La,Po.prototype.getLastErrorCode=Po.prototype.Da,Po.prototype.getStatus=Po.prototype.ba,Po.prototype.getResponseJson=Po.prototype.Qa,Po.prototype.getResponseText=Po.prototype.ga,Po.prototype.send=Po.prototype.ea;var yu=pr.createWebChannelTransport=function(){return new hu},gu=pr.getStatEventTarget=function(){return ra()},ku=pr.ErrorCode=la,bu=pr.EventType=fa,wu=pr.Event=ta,xu=pr.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Eu=pr.FetchXmlHttpFactory=_o,_u=pr.WebChannel=pa,Iu=pr.XhrIo=Po,Su="@firebase/firestore",Tu=function(){function e(t){Ne(this,e),this.uid=t}return Pe(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Tu.UNAUTHENTICATED=new Tu(null),Tu.GOOGLE_CREDENTIALS=new Tu("google-credentials-uid"),Tu.FIRST_PARTY=new Tu("first-party-uid"),Tu.MOCK_USER=new Tu("mock-user");var Cu="9.8.0",Nu=new Yt("@firebase/firestore");function Au(){return Nu.logLevel}function Pu(e){if(Nu.logLevel<=zt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Du);Nu.debug.apply(Nu,["Firestore (".concat(Cu,"): ").concat(e)].concat(Vt(i)))}}function Ou(e){if(Nu.logLevel<=zt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Du);Nu.error.apply(Nu,["Firestore (".concat(Cu,"): ").concat(e)].concat(Vt(i)))}}function Ru(e){if(Nu.logLevel<=zt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Du);Nu.warn.apply(Nu,["Firestore (".concat(Cu,"): ").concat(e)].concat(Vt(i)))}}function Du(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Mu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Cu,") INTERNAL ASSERTION FAILED: ")+e;throw Ou(t),new Error(t)}function Lu(e,t){e||Mu()}function Fu(e,t){return e}var Vu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Uu=function(e){Re(n,e);var t=Ue(n);function n(e,r){var i;return Ne(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Pe(n)}(Et),ju=Pe((function e(){var t=this;Ne(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Bu=Pe((function e(t,n){Ne(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),qu=function(){function e(){Ne(this,e)}return Pe(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Tu.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),zu=function(){function e(t){Ne(this,e),this.token=t,this.changeListener=null}return Pe(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Wu=function(){function e(t){Ne(this,e),this.t=t,this.currentUser=Tu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Pe(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new ju;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new ju,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Pu("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Pu("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ju)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Pu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Lu("string"==typeof n.accessToken),new Bu(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Lu(null===e||"string"==typeof e),new Tu(e)}}]),e}(),Ku=Pe((function e(t,n,r){Ne(this,e),this.type="FirstParty",this.user=Tu.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Hu=function(){function e(t,n,r){Ne(this,e),this.h=t,this.l=n,this.m=r}return Pe(e,[{key:"getToken",value:function(){return Promise.resolve(new Ku(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Tu.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Gu=Pe((function e(t){Ne(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),$u=function(){function e(t){Ne(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Pe(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Pu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Pu("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Pu("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Pu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Lu("string"==typeof t.token),e.p=t.token,new Gu(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Qu=function(){function e(t,n){var r=this;Ne(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Pe(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Yu(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Qu.A=-1;var Ju=function(){function e(){Ne(this,e)}return Pe(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Yu(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Xu(e,t){return e<t?-1:e>t?1:0}function Zu(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function es(e){return e+"\0"}var ts=function(){function e(t,n){if(Ne(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Uu(Vu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Uu(Vu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Uu(Vu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Uu(Vu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Pe(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Xu(this.nanoseconds,e.nanoseconds):Xu(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),ns=function(){function e(t){Ne(this,e),this.timestamp=t}return Pe(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new ts(0,0))}},{key:"max",value:function(){return new e(new ts(253402300799,999999999))}}]),e}();function rs(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function is(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function as(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var os=function(){function e(t,n,r){Ne(this,e),void 0===n?n=0:n>t.length&&Mu(),void 0===r?r=t.length-n:r>t.length-n&&Mu(),this.segments=t,this.offset=n,this.len=r}return Pe(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),us=function(e){Re(n,e);var t=Ue(n);function n(){return Ne(this,n),t.apply(this,arguments)}return Pe(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Uu(Vu.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Vt(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(os),ss=/^[_a-zA-Z][_a-zA-Z0-9]*$/,cs=function(e){Re(n,e);var t=Ue(n);function n(){return Ne(this,n),t.apply(this,arguments)}return Pe(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ss.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Uu(Vu.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Uu(Vu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Uu(Vu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Uu(Vu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(os),ls=function(){function e(t){Ne(this,e),this.fields=t,t.sort(cs.comparator)}return Pe(e,[{key:"covers",value:function(e){var t,n=at(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Zu(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var fs=function(e){function t(e){Ne(this,t),this.binaryString=e}return Pe(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Xu(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();fs.EMPTY_BYTE_STRING=new fs("");var hs=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(e){if(Lu(!!e),"string"==typeof e){var t=0,n=hs.exec(e);if(Lu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ps(e.seconds),nanos:ps(e.nanos)}}function ps(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function vs(e){return"string"==typeof e?fs.fromBase64String(e):fs.fromUint8Array(e)}function ms(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ys(e){var t=e.mapValue.fields.__previous_value__;return ms(t)?ys(t):t}function gs(e){var t=ds(e.mapValue.fields.__local_write_time__.timestampValue);return new ts(t.seconds,t.nanos)}var ks=Pe((function e(t,n,r,i,a,o,u,s){Ne(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),bs=function(){function e(t,n){Ne(this,e),this.projectId=t,this.database=n||"(default)"}return Pe(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function ws(e){return null==e}function xs(e){return 0===e&&1/e==-1/0}function Es(e){return"number"==typeof e&&Number.isInteger(e)&&!xs(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var _s=function(){function e(t){Ne(this,e),this.path=t}return Pe(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===us.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(us.fromString(t))}},{key:"fromName",value:function(t){return new e(us.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(us.emptyPath())}},{key:"comparator",value:function(e,t){return us.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new us(t.slice()))}}]),e}(),Is={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ss={nullValue:"NULL_VALUE"};function Ts(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ms(e)?4:Bs(e)?9007199254740991:10:Mu()}function Cs(e,t){if(e===t)return!0;var n=Ts(e);if(n!==Ts(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return gs(e).isEqual(gs(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ds(e.timestampValue),r=ds(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return vs(e.bytesValue).isEqual(vs(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ps(e.geoPointValue.latitude)===ps(t.geoPointValue.latitude)&&ps(e.geoPointValue.longitude)===ps(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ps(e.integerValue)===ps(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ps(e.doubleValue),r=ps(t.doubleValue);return n===r?xs(n)===xs(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Zu(e.arrayValue.values||[],t.arrayValue.values||[],Cs);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(rs(n)!==rs(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Cs(n[i],r[i])))return!1;return!0}(e,t);default:return Mu()}}function Ns(e,t){return void 0!==(e.values||[]).find((function(e){return Cs(e,t)}))}function As(e,t){if(e===t)return 0;var n=Ts(e),r=Ts(t);if(n!==r)return Xu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xu(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ps(e.integerValue||e.doubleValue),r=ps(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ps(e.timestampValue,t.timestampValue);case 4:return Ps(gs(e),gs(t));case 5:return Xu(e.stringValue,t.stringValue);case 6:return function(e,t){var n=vs(e),r=vs(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Xu(n[i],r[i]);if(0!==a)return a}return Xu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Xu(ps(e.latitude),ps(t.latitude));return 0!==n?n:Xu(ps(e.longitude),ps(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=As(n[i],r[i]);if(a)return a}return Xu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Is.mapValue&&t===Is.mapValue)return 0;if(e===Is.mapValue)return 1;if(t===Is.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Xu(r[o],a[o]);if(0!==u)return u;var s=As(n[r[o]],i[a[o]]);if(0!==s)return s}return Xu(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Mu()}}function Ps(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Xu(e,t);var n=ds(e),r=ds(t),i=Xu(n.seconds,r.seconds);return 0!==i?i:Xu(n.nanos,r.nanos)}function Os(e){return Rs(e)}function Rs(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ds(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?vs(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,_s.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=at(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Rs(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=at(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Rs(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Mu();var t,n}function Ds(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ms(e){return!!e&&"integerValue"in e}function Ls(e){return!!e&&"arrayValue"in e}function Fs(e){return!!e&&"nullValue"in e}function Vs(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Us(e){return!!e&&"mapValue"in e}function js(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return is(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=js(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=js(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Bs(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function qs(e){return"nullValue"in e?Ss:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Ds(bs.empty(),_s.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Mu()}function zs(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Ds(bs.empty(),_s.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Is:Mu()}function Ws(e,t){var n=As(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Ks(e,t){var n=As(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Hs=function(){function e(t){Ne(this,e),this.value=t}return Pe(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Us(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=js(t)}},{key:"setAll",value:function(e){var t=this,n=cs.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=js(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Us(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Cs(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Us(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){is(t,(function(t,n){return e[t]=n}));var r,i=at(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(js(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Gs(e){var t=[];return is(e.fields,(function(e,n){var r=new cs([e]);if(Us(n)){var i=Gs(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=at(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new ls(t)}var $s=function(){function e(t,n,r,i,a,o){Ne(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Pe(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Hs.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Hs.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,ns.min(),ns.min(),Hs.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,ns.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,ns.min(),Hs.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,ns.min(),Hs.empty(),2)}}]),e}(),Qs=Pe((function e(t,n,r,i){Ne(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Ys(e){return e.fields.find((function(e){return 2===e.kind}))}function Js(e){return e.fields.filter((function(e){return 2!==e.kind}))}Qs.UNKNOWN_ID=-1;var Xs=Pe((function e(t,n){Ne(this,e),this.fieldPath=t,this.kind=n})),Zs=function(){function e(t,n){Ne(this,e),this.sequenceNumber=t,this.offset=n}return Pe(e,null,[{key:"empty",value:function(){return new e(0,nc.min())}}]),e}();function ec(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ns.fromTimestamp(1e9===r?new ts(n+1,0):new ts(n,r));return new nc(i,_s.empty(),t)}function tc(e){return new nc(e.readTime,e.key,-1)}var nc=function(){function e(t,n,r){Ne(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Pe(e,null,[{key:"min",value:function(){return new e(ns.min(),_s.empty(),-1)}},{key:"max",value:function(){return new e(ns.max(),_s.empty(),-1)}}]),e}();function rc(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=_s.comparator(e.documentKey,t.documentKey))?n:Xu(e.largestBatchId,t.largestBatchId)}var ic=function(){function e(t,n){Ne(this,e),this.comparator=t,this.root=n||oc.EMPTY}return Pe(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,oc.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,oc.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new ac(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new ac(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new ac(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new ac(this.root,e,this.comparator,!0)}}]),e}(),ac=function(){function e(t,n,r,i){Ne(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Pe(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),oc=function(){function e(t,n,r,i,a){Ne(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Pe(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Mu();if(this.right.isRed())throw Mu();var e=this.left.check();if(e!==this.right.check())throw Mu();return e+(this.isRed()?0:1)}}]),e}();oc.EMPTY=null,oc.RED=!0,oc.BLACK=!1,oc.EMPTY=new(function(){function e(){Ne(this,e),this.size=0}return Pe(e,[{key:"key",get:function(){throw Mu()}},{key:"value",get:function(){throw Mu()}},{key:"color",get:function(){throw Mu()}},{key:"left",get:function(){throw Mu()}},{key:"right",get:function(){throw Mu()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new oc(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var uc=function(){function e(t){Ne(this,e),this.comparator=t,this.data=new ic(this.comparator)}return Pe(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new sc(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new sc(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),sc=function(){function e(t){Ne(this,e),this.iter=t}return Pe(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function cc(e){return e.hasNext()?e.getNext():void 0}var lc=Pe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Ne(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function fc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new lc(e,t,n,r,i,a,o)}function hc(e){var t=Fu(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Os(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ws(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Os(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Os(e)})).join(",")),t.P=n}return t.P}function dc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Nc(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Cs(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Pc(e.startAt,t.startAt)&&Pc(e.endAt,t.endAt)}function pc(e){return _s.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function vc(e,t){return e.filters.filter((function(e){return e instanceof gc&&e.field.isEqual(t)}))}function mc(e,t,n){var r,i=Ss,a=!0,o=at(vc(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Ss,c=!0;switch(u.op){case"<":case"<=":s=qs(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Ss}Ws({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ws({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function yc(e,t,n){var r,i=Is,a=!0,o=at(vc(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Is,c=!0;switch(u.op){case">=":case">":s=zs(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Is}Ks({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ks({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var gc=function(e){Re(n,e);var t=Ue(n);function n(e,r,i){var a;return Ne(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Pe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(As(t,this.value)):null!==t&&Ts(this.value)===Ts(t)&&this.v(As(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mu()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new kc(e,t,r):"array-contains"===t?new Ec(e,r):"in"===t?new _c(e,r):"not-in"===t?new Ic(e,r):"array-contains-any"===t?new Sc(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new bc(e,n):new wc(e,n)}}]),n}(function(){return Pe((function e(){Ne(this,e)}))}()),kc=function(e){Re(n,e);var t=Ue(n);function n(e,r,i){var a;return Ne(this,n),(a=t.call(this,e,r,i)).key=_s.fromName(i.referenceValue),a}return Pe(n,[{key:"matches",value:function(e){var t=_s.comparator(e.key,this.key);return this.v(t)}}]),n}(gc),bc=function(e){Re(n,e);var t=Ue(n);function n(e,r){var i;return Ne(this,n),(i=t.call(this,e,"in",r)).keys=xc("in",r),i}return Pe(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(gc),wc=function(e){Re(n,e);var t=Ue(n);function n(e,r){var i;return Ne(this,n),(i=t.call(this,e,"not-in",r)).keys=xc("not-in",r),i}return Pe(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(gc);function xc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return _s.fromName(e.referenceValue)}))}var Ec=function(e){Re(n,e);var t=Ue(n);function n(e,r){return Ne(this,n),t.call(this,e,"array-contains",r)}return Pe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ls(t)&&Ns(t.arrayValue,this.value)}}]),n}(gc),_c=function(e){Re(n,e);var t=Ue(n);function n(e,r){return Ne(this,n),t.call(this,e,"in",r)}return Pe(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ns(this.value.arrayValue,t)}}]),n}(gc),Ic=function(e){Re(n,e);var t=Ue(n);function n(e,r){return Ne(this,n),t.call(this,e,"not-in",r)}return Pe(n,[{key:"matches",value:function(e){if(Ns(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ns(this.value.arrayValue,t)}}]),n}(gc),Sc=function(e){Re(n,e);var t=Ue(n);function n(e,r){return Ne(this,n),t.call(this,e,"array-contains-any",r)}return Pe(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ls(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ns(t.value.arrayValue,e)}))}}]),n}(gc),Tc=Pe((function e(t,n){Ne(this,e),this.position=t,this.inclusive=n})),Cc=Pe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Ne(this,e),this.field=t,this.dir=n}));function Nc(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ac(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?_s.comparator(_s.fromName(o.referenceValue),n.key):As(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Pc(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Cs(e.position[n],t.position[n]))return!1;return!0}var Oc=Pe((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Ne(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function Rc(e,t,n,r,i,a,o,u){return new Oc(e,t,n,r,i,a,o,u)}function Dc(e){return new Oc(e)}function Mc(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Lc(e){var t,n=at(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Fc(e){return null!==e.collectionGroup}function Vc(e){var t=Fu(e);if(null===t.D){t.D=[];var n=Lc(t),r=Mc(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new Cc(n)),t.D.push(new Cc(cs.keyField(),"asc"));else{var i,a=!1,o=at(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new Cc(cs.keyField(),s))}}}return t.D}function Uc(e){var t=Fu(e);if(!t.C)if("F"===t.limitType)t.C=fc(t.path,t.collectionGroup,Vc(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=at(Vc(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Cc(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Tc(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Tc(t.startAt.position,t.startAt.inclusive):null;t.C=fc(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function jc(e,t,n){return new Oc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Bc(e,t){return dc(Uc(e),Uc(t))&&e.limitType===t.limitType}function qc(e){return"".concat(hc(Uc(e)),"|lt:").concat(e.limitType)}function zc(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Os(t.value));var t})).join(", "),"]")),ws(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Os(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Os(e)})).join(",")),"Target(".concat(t,")")}(Uc(e)),"; limitType=").concat(e.limitType,")")}function Wc(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):_s.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=at(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=at(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Ac(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Vc(e),t))&&!(e.endAt&&!function(e,t,n){var r=Ac(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Vc(e),t))}(e,t)}function Kc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Hc(e){return function(t,n){var r,i=!1,a=at(Vc(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Gc(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Gc(e,t,n){var r=e.field.isKeyField()?_s.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?As(r,i):Mu()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Mu()}}function $c(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xs(t)?"-0":t}}function Qc(e){return{integerValue:""+e}}function Yc(e,t){return Es(t)?Qc(t):$c(e,t)}var Jc=Pe((function e(){Ne(this,e),this._=void 0}));function Xc(e,t,n){return e instanceof tl?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof nl?rl(e,t):e instanceof il?al(e,t):function(e,t){var n=el(e,t),r=ul(n)+ul(e.k);return Ms(n)&&Ms(e.k)?Qc(r):$c(e.M,r)}(e,t)}function Zc(e,t,n){return e instanceof nl?rl(e,t):e instanceof il?al(e,t):n}function el(e,t){return e instanceof ol?Ms(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var tl=function(e){Re(n,e);var t=Ue(n);function n(){return Ne(this,n),t.apply(this,arguments)}return Pe(n)}(Jc),nl=function(e){Re(n,e);var t=Ue(n);function n(e){var r;return Ne(this,n),(r=t.call(this)).elements=e,r}return Pe(n)}(Jc);function rl(e,t){var n,r=sl(t),i=at(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Cs(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var il=function(e){Re(n,e);var t=Ue(n);function n(e){var r;return Ne(this,n),(r=t.call(this)).elements=e,r}return Pe(n)}(Jc);function al(e,t){var n,r=sl(t),i=at(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Cs(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ol=function(e){Re(n,e);var t=Ue(n);function n(e,r){var i;return Ne(this,n),(i=t.call(this)).M=e,i.k=r,i}return Pe(n)}(Jc);function ul(e){return ps(e.integerValue||e.doubleValue)}function sl(e){return Ls(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var cl=Pe((function e(t,n){Ne(this,e),this.field=t,this.transform=n}));var ll=Pe((function e(t,n){Ne(this,e),this.version=t,this.transformResults=n})),fl=function(){function e(t,n){Ne(this,e),this.updateTime=t,this.exists=n}return Pe(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function hl(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var dl=Pe((function e(){Ne(this,e)}));function pl(e,t,n){e instanceof kl?function(e,t,n){var r=e.value.clone(),i=xl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof bl?function(e,t,n){if(hl(e.precondition,t)){var r=xl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(wl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function vl(e,t,n){e instanceof kl?function(e,t,n){if(hl(e.precondition,t)){var r=e.value.clone(),i=El(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(gl(t),r).setHasLocalMutations()}}(e,t,n):e instanceof bl?function(e,t,n){if(hl(e.precondition,t)){var r=El(e.fieldTransforms,n,t),i=t.data;i.setAll(wl(e)),i.setAll(r),t.convertToFoundDocument(gl(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){hl(e.precondition,t)&&t.convertToNoDocument(ns.min())}(e,t)}function ml(e,t){var n,r=null,i=at(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=el(a.transform,o||null);null!=u&&(null==r&&(r=Hs.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function yl(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Zu(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof nl&&t instanceof nl||e instanceof il&&t instanceof il?Zu(e.elements,t.elements,Cs):e instanceof ol&&t instanceof ol?Cs(e.k,t.k):e instanceof tl&&t instanceof tl}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function gl(e){return e.isFoundDocument()?e.version:ns.min()}var kl=function(e){Re(n,e);var t=Ue(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Ne(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Pe(n)}(dl),bl=function(e){Re(n,e);var t=Ue(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Ne(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Pe(n)}(dl);function wl(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function xl(e,t,n){var r=new Map;Lu(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Zc(o,u,n[i]))}return r}function El(e,t,n){var r,i=new Map,a=at(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Xc(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var _l,Il,Sl=function(e){Re(n,e);var t=Ue(n);function n(e,r){var i;return Ne(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Pe(n)}(dl),Tl=function(e){Re(n,e);var t=Ue(n);function n(e,r){var i;return Ne(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Pe(n)}(dl),Cl=Pe((function e(t){Ne(this,e),this.count=t}));function Nl(e){switch(e){default:return Mu();case Vu.CANCELLED:case Vu.UNKNOWN:case Vu.DEADLINE_EXCEEDED:case Vu.RESOURCE_EXHAUSTED:case Vu.INTERNAL:case Vu.UNAVAILABLE:case Vu.UNAUTHENTICATED:return!1;case Vu.INVALID_ARGUMENT:case Vu.NOT_FOUND:case Vu.ALREADY_EXISTS:case Vu.PERMISSION_DENIED:case Vu.FAILED_PRECONDITION:case Vu.ABORTED:case Vu.OUT_OF_RANGE:case Vu.UNIMPLEMENTED:case Vu.DATA_LOSS:return!0}}function Al(e){if(void 0===e)return Ou("GRPC error has no .code"),Vu.UNKNOWN;switch(e){case _l.OK:return Vu.OK;case _l.CANCELLED:return Vu.CANCELLED;case _l.UNKNOWN:return Vu.UNKNOWN;case _l.DEADLINE_EXCEEDED:return Vu.DEADLINE_EXCEEDED;case _l.RESOURCE_EXHAUSTED:return Vu.RESOURCE_EXHAUSTED;case _l.INTERNAL:return Vu.INTERNAL;case _l.UNAVAILABLE:return Vu.UNAVAILABLE;case _l.UNAUTHENTICATED:return Vu.UNAUTHENTICATED;case _l.INVALID_ARGUMENT:return Vu.INVALID_ARGUMENT;case _l.NOT_FOUND:return Vu.NOT_FOUND;case _l.ALREADY_EXISTS:return Vu.ALREADY_EXISTS;case _l.PERMISSION_DENIED:return Vu.PERMISSION_DENIED;case _l.FAILED_PRECONDITION:return Vu.FAILED_PRECONDITION;case _l.ABORTED:return Vu.ABORTED;case _l.OUT_OF_RANGE:return Vu.OUT_OF_RANGE;case _l.UNIMPLEMENTED:return Vu.UNIMPLEMENTED;case _l.DATA_LOSS:return Vu.DATA_LOSS;default:return Mu()}}(Il=_l||(_l={}))[Il.OK=0]="OK",Il[Il.CANCELLED=1]="CANCELLED",Il[Il.UNKNOWN=2]="UNKNOWN",Il[Il.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Il[Il.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Il[Il.NOT_FOUND=5]="NOT_FOUND",Il[Il.ALREADY_EXISTS=6]="ALREADY_EXISTS",Il[Il.PERMISSION_DENIED=7]="PERMISSION_DENIED",Il[Il.UNAUTHENTICATED=16]="UNAUTHENTICATED",Il[Il.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Il[Il.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Il[Il.ABORTED=10]="ABORTED",Il[Il.OUT_OF_RANGE=11]="OUT_OF_RANGE",Il[Il.UNIMPLEMENTED=12]="UNIMPLEMENTED",Il[Il.INTERNAL=13]="INTERNAL",Il[Il.UNAVAILABLE=14]="UNAVAILABLE",Il[Il.DATA_LOSS=15]="DATA_LOSS";var Pl=function(){function e(t,n){Ne(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Pe(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=at(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){is(this.inner,(function(t,n){var r,i=at(n);try{for(i.s();!(r=i.n()).done;){var a=l(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return as(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Ol=new ic(_s.comparator);function Rl(){return Ol}var Dl=new ic(_s.comparator);function Ml(){for(var e=Dl,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Ll(){return new Pl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Fl=new ic(_s.comparator),Vl=new uc(_s.comparator);function Ul(){for(var e=Vl,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var jl=new uc(Xu);function Bl(){return jl}var ql=function(){function e(t,n,r,i,a){Ne(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Pe(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,zl.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ns.min(),r,Bl(),Rl(),Ul())}}]),e}(),zl=function(){function e(t,n,r,i,a){Ne(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Pe(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(fs.EMPTY_BYTE_STRING,n,Ul(),Ul(),Ul())}}]),e}(),Wl=Pe((function e(t,n,r,i){Ne(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),Kl=Pe((function e(t,n){Ne(this,e),this.targetId=t,this.$=n})),Hl=Pe((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fs.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ne(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Gl=function(){function e(){Ne(this,e),this.B=0,this.L=Yl(),this.U=fs.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return Pe(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=Ul(),t=Ul(),n=Ul();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Mu()}})),new zl(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Yl()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),$l=function(){function e(t){Ne(this,e),this.nt=t,this.st=new Map,this.it=Rl(),this.rt=Ql(),this.ot=new uc(Xu)}return Pe(e,[{key:"ut",value:function(e){var t,n=at(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=at(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Mu()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(pc(i))if(0===n){var a=new _s(i.path);this.ct(t,a,$s.newNoDocument(a,ns.min()))}else Lu(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&pc(a.target)){var o=new _s(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,$s.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Ul();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new ql(e,n,this.ot,this.it,r);return this.it=Rl(),this.rt=Ql(),this.ot=new uc(Xu),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Gl,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new uc(Xu),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Pu("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Gl),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Ql(){return new ic(_s.comparator)}function Yl(){return new ic(_s.comparator)}var Jl={asc:"ASCENDING",desc:"DESCENDING"},Xl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zl=Pe((function e(t,n){Ne(this,e),this.databaseId=t,this.N=n}));function ef(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function tf(e,t){return e.N?t.toBase64():t.toUint8Array()}function nf(e,t){return ef(e,t.toTimestamp())}function rf(e){return Lu(!!e),ns.fromTimestamp(function(e){var t=ds(e);return new ts(t.seconds,t.nanos)}(e))}function af(e,t){return function(e){return new us(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function of(e){var t=us.fromString(e);return Lu(Nf(t)),t}function uf(e,t){return af(e.databaseId,t.path)}function sf(e,t){var n=of(t);if(n.get(1)!==e.databaseId.projectId)throw new Uu(Vu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Uu(Vu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _s(hf(n))}function cf(e,t){return af(e.databaseId,t)}function lf(e){var t=of(e);return 4===t.length?us.emptyPath():hf(t)}function ff(e){return new us(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function hf(e){return Lu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function df(e,t,n){return{name:uf(e,t),fields:n.value.mapValue.fields}}function pf(e,t,n){var r=sf(e,t.name),i=rf(t.updateTime),a=new Hs({mapValue:{fields:t.fields}}),o=$s.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function vf(e,t){return"found"in t?function(e,t){Lu(!!t.found),t.found.name,t.found.updateTime;var n=sf(e,t.found.name),r=rf(t.found.updateTime),i=new Hs({mapValue:{fields:t.found.fields}});return $s.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Lu(!!t.missing),Lu(!!t.readTime);var n=sf(e,t.missing),r=rf(t.readTime);return $s.newNoDocument(n,r)}(e,t):Mu()}function mf(e,t){var n;if(t instanceof kl)n={update:df(e,t.key,t.value)};else if(t instanceof Sl)n={delete:uf(e,t.key)};else if(t instanceof bl)n={update:df(e,t.key,t.data),updateMask:Cf(t.fieldMask)};else{if(!(t instanceof Tl))return Mu();n={verify:uf(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof tl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof nl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof il)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ol)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Mu()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:nf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Mu()}(e,t.precondition)),n}function yf(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?fl.updateTime(rf(e.updateTime)):void 0!==e.exists?fl.exists(e.exists):fl.none()}(t.currentDocument):fl.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Lu("REQUEST_TIME"===t.setToServerValue),n=new tl;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new nl(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new il(i)}else"increment"in t?n=new ol(e,t.increment):Mu();var a=cs.fromServerFormat(t.fieldPath);return new cl(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=sf(e,t.update.name),a=new Hs({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new ls(t.map((function(e){return cs.fromServerFormat(e)})))}(t.updateMask);return new bl(i,a,o,n,r)}return new kl(i,a,n,r)}if(t.delete){var u=sf(e,t.delete);return new Sl(u,n)}if(t.verify){var s=sf(e,t.verify);return new Tl(s,n)}return Mu()}function gf(e,t){return{documents:[cf(e,t.path)]}}function kf(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=cf(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=cf(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Vs(e.value))return{unaryFilter:{field:_f(e.field),op:"IS_NAN"}};if(Fs(e.value))return{unaryFilter:{field:_f(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Vs(e.value))return{unaryFilter:{field:_f(e.field),op:"IS_NOT_NAN"}};if(Fs(e.value))return{unaryFilter:{field:_f(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_f(e.field),op:Ef(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:_f(e.field),direction:xf(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||ws(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function bf(e){var t=lf(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Lu(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=wf(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Cc(If(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return ws(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Tc(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Tc(n,t)}(n.endAt)),Rc(t,i,u,o,s,"F",c,l)}function wf(e){return e?void 0!==e.unaryFilter?[Tf(e)]:void 0!==e.fieldFilter?[Sf(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return wf(e)})).reduce((function(e,t){return e.concat(t)})):Mu():[]}function xf(e){return Jl[e]}function Ef(e){return Xl[e]}function _f(e){return{fieldPath:e.canonicalString()}}function If(e){return cs.fromServerFormat(e.fieldPath)}function Sf(e){return gc.create(If(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Mu()}}(e.fieldFilter.op),e.fieldFilter.value)}function Tf(e){switch(e.unaryFilter.op){case"IS_NAN":var t=If(e.unaryFilter.field);return gc.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=If(e.unaryFilter.field);return gc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=If(e.unaryFilter.field);return gc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=If(e.unaryFilter.field);return gc.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Mu()}}function Cf(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Nf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Af(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Of(t)),t=Pf(e.get(n),t);return Of(t)}function Pf(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Of(e){return e+"\x01\x01"}function Rf(e){var t=e.length;if(Lu(t>=2),2===t)return Lu("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),us.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Mu(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Mu()}a=o+2}return new us(r)}var Df=["userId","batchId"];function Mf(e,t){return[e,Af(t)]}function Lf(e,t,n){return[e,Af(t),n]}var Ff={},Vf=["prefixPath","collectionGroup","readTime","documentId"],Uf=["prefixPath","collectionGroup","documentId"],jf=["collectionGroup","readTime","prefixPath","documentId"],Bf=["canonicalId","targetId"],qf=["targetId","path"],zf=["path","targetId"],Wf=["collectionId","parent"],Kf=["indexId","uid"],Hf=["uid","sequenceNumber"],Gf=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$f=["indexId","uid","orderedDocumentKey"],Qf=["userId","collectionPath","documentId"],Yf=["userId","collectionPath","largestBatchId"],Jf=["userId","collectionGroup","largestBatchId"],Xf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Zf=[].concat(Vt(Xf),["documentOverlays"]),eh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],th=[].concat(eh,["indexConfiguration","indexState","indexEntries"]),nh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",rh=function(){function e(){Ne(this,e),this.onCommittedListeners=[]}return Pe(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),ih=function(){function e(t){var n=this;Ne(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Pe(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Mu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=at(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),ah=function(){function e(t,n){var r=this;Ne(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new ju,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new sh(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=dh(e.target.error);r.At.reject(new sh(t,n))}}return Pe(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Pu("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new lh(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new sh(n,t)}}}]),e}(),oh=function(){function e(t,n,r){Ne(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(mt())&&Ou("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Pe(e,[{key:"Nt",value:function(){var e=Ce(Be().mark((function e(t){var n=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Pu("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new sh(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Uu(Vu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Uu(Vu.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new sh(t,n))},i.onupgradeneeded=function(e){Pu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Pu("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ce(Be().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Be().mark((function e(){var n,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=ah.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),ih.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Pu("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Pu("SimpleDb","Removing database:",e),fh(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!xt())return!1;if(e.St())return!0;var t=mt(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),uh=function(){function e(t){Ne(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return Pe(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return fh(this.Ft.delete())}}]),e}(),sh=function(e){Re(n,e);var t=Ue(n);function n(e,r){var i;return Ne(this,n),(i=t.call(this,Vu.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Pe(n)}(Uu);function ch(e){return"IndexedDbTransactionError"===e.name}var lh=function(){function e(t){Ne(this,e),this.store=t}return Pe(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Pu("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Pu("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),fh(n)}},{key:"add",value:function(e){return Pu("SimpleDb","ADD",this.store.name,e,e),fh(this.store.add(e))}},{key:"get",value:function(e){var t=this;return fh(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Pu("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Pu("SimpleDb","DELETE",this.store.name,e),fh(this.store.delete(e))}},{key:"count",value:function(){return Pu("SimpleDb","COUNT",this.store.name),fh(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new ih((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new ih((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){Pu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new ih((function(n,r){t.onerror=function(e){var t=dh(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new ih((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new uh(i),o=t(i.primaryKey,i.value,a);if(o instanceof ih){var u=o.catch((function(e){return a.done(),ih.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return ih.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function fh(e){return new ih((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=dh(e.target.error);n(t)}}))}var hh=!1;function dh(e){var t=oh.Vt(mt());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Uu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return hh||(hh=!0,setTimeout((function(){throw r}),0)),r}}return e}var ph=function(e){Re(n,e);var t=Ue(n);function n(e,r){var i;return Ne(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return Pe(n)}(rh);function vh(e,t){var n=Fu(e);return oh.xt(n.Ht,t)}var mh=function(){function e(t,n,r,i){Ne(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Pe(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&pl(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=at(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&vl(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=at(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&vl(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ns.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ul())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Zu(this.mutations,e.mutations,(function(e,t){return yl(e,t)}))&&Zu(this.baseMutations,e.baseMutations,(function(e,t){return yl(e,t)}))}}]),e}(),yh=function(){function e(t,n,r,i){Ne(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Pe(e,null,[{key:"from",value:function(t,n,r){Lu(t.mutations.length===r.length);for(var i=Fl,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),gh=function(){function e(t,n){Ne(this,e),this.largestBatchId=t,this.mutation=n}return Pe(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),kh=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ns.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ns.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fs.EMPTY_BYTE_STRING;Ne(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Pe(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),bh=Pe((function e(t){Ne(this,e),this.Jt=t}));function wh(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:xh(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:uf(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ef(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Eh(t.version)};else{if(!t.isUnknownDocument())return Mu();r.unknownDocument={path:n.path.toArray(),version:Eh(t.version)}}return r}function xh(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Eh(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function _h(e){var t=new ts(e.seconds,e.nanoseconds);return ns.fromTimestamp(t)}function Ih(e,t){for(var n=(t.baseMutations||[]).map((function(t){return yf(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return yf(e.Jt,t)})),u=ts.fromMillis(t.localWriteTimeMs);return new mh(t.batchId,u,n,o)}function Sh(e){var t,n,r=_h(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?_h(e.lastLimboFreeSnapshotVersion):ns.min();return void 0!==e.query.documents?(Lu(1===(n=e.query).documents.length),t=Uc(Dc(lf(n.documents[0])))):t=function(e){return Uc(bf(e))}(e.query),new kh(t,e.targetId,0,e.lastListenSequenceNumber,r,i,fs.fromBase64String(e.resumeToken))}function Th(e,t){var n,r=Eh(t.snapshotVersion),i=Eh(t.lastLimboFreeSnapshotVersion);n=pc(t.target)?gf(e.Jt,t.target):kf(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:hc(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Ch(e){var t=bf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?jc(t,t.limit,"L"):t}function Nh(e,t){return new gh(t.largestBatchId,yf(e.Jt,t.overlayMutation))}function Ah(e,t){var n=t.path.lastSegment();return[e,Af(t.path.popLast()),n]}var Ph=function(){function e(){Ne(this,e)}return Pe(e,[{key:"getBundleMetadata",value:function(e,t){return Oh(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:_h(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Oh(e).put({bundleId:(n=t).id,createTime:Eh(rf(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Rh(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ch(t.bundledQuery),readTime:_h(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Rh(e).put(function(e){return{name:e.name,readTime:Eh(rf(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Oh(e){return vh(e,"bundles")}function Rh(e){return vh(e,"namedQueries")}var Dh=function(){function e(t,n){Ne(this,e),this.M=t,this.userId=n}return Pe(e,[{key:"getOverlay",value:function(e,t){var n=this;return Mh(e).get(Ah(this.userId,t)).next((function(e){return e?Nh(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new gh(t,a);i.push(r.Xt(e,o))})),ih.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Af(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Mh(e).Qt("collectionPathOverlayIndex",i))})),ih.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Ll(),a=Af(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Mh(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=at(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Nh(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Ll(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Mh(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Nh(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return Mh(e).put(function(e,t,n){var r=l(Ah(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:mf(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Mh(e){return vh(e,"documentOverlays")}var Lh=function(){function e(){Ne(this,e)}return Pe(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(ps(e.integerValue));else if("doubleValue"in e){var n=ps(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),xs(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(vs(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Bs(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Mu()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=at(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),_s.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function Fh(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Vh(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Fh(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Lh.fe=new Lh;var Uh=function(){function e(){Ne(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Pe(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=at(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=at(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=Vh(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=Vh(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),jh=function(){function e(t){Ne(this,e),this.De=t}return Pe(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),Bh=function(){function e(t){Ne(this,e),this.De=t}return Pe(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),qh=function(){function e(){Ne(this,e),this.De=new Uh,this.Ce=new jh(this.De),this.xe=new Bh(this.De)}return Pe(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),zh=function(){function e(t,n,r,i){Ne(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Pe(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Wh(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Kh(e.arrayValue,t.arrayValue))?n:0!==(n=Kh(e.directionalValue,t.directionalValue))?n:_s.comparator(e.documentKey,t.documentKey)}function Kh(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Hh=function(){function e(t){Ne(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=at(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Pe(e,[{key:"$e",value:function(e){var t=Ys(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Js(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=at(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Gh=function(){function e(){Ne(this,e),this.qe=new $h}return Pe(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),ih.resolve()}},{key:"getCollectionParents",value:function(e,t){return ih.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ih.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ih.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ih.resolve(null)}},{key:"getIndexType",value:function(e,t){return ih.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return ih.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ih.resolve(null)}},{key:"getMinOffset",value:function(e,t){return ih.resolve(nc.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return ih.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ih.resolve()}}]),e}(),$h=function(){function e(){Ne(this,e),this.index={}}return Pe(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new uc(us.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new uc(us.comparator)).toArray()}}]),e}(),Qh=new Uint8Array(0),Yh=function(){function e(t,n){Ne(this,e),this.user=t,this.databaseId=n,this.Ke=new $h,this.Ge=new Pl((function(e){return hc(e)}),(function(e,t){return dc(e,t)})),this.uid=t.uid||""}return Pe(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:Af(i)};return Jh(e).put(a)}return ih.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[es(t),""],!1,!0);return Jh(e).qt(r).next((function(e){var r,i=at(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Rf(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=Zh(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Zh(e),r=ed(e),i=Xh(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Xh(e),i=!0,a=new Map;return ih.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Ul(),o=[];return ih.forEach(a,(function(i,a){var u;Pu("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(hc(t)));var s=function(e,t){var n=Ys(t);if(void 0===n)return null;var r,i=at(vc(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=at(Js(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=at(vc(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=at(Js(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?mc(e,o.fieldPath,e.startAt):yc(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Tc(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=at(Js(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?yc(e,o.fieldPath,e.endAt):mc(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Tc(r,i)}(a,i),h=n.We(i,a,l),d=n.We(i,a,f),p=n.ze(i,a,c),v=n.He(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return ih.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=_s.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return ih.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"He",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.Je(t[s/c]):Qh,h=u.Ye(e,f,n[s%c],r),d=u.Xe(e,f,i[s%c],a),p=o.map((function(t){return u.Ye(e,f,t,!0)}));l.push.apply(l,Vt(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"Ye",value:function(e,t,n,r){var i=new zh(e,_s.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new zh(e,_s.empty(),t,n);return r?i.ke():i}},{key:"je",value:function(e,t){var n=new Hh(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=at(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.$e(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return ih.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new uc(cs.comparator),r=!1,i=at(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=at(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"Ze",value:function(e,t){var n,r=new qh,i=at(Js(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);Lh.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"Je",value:function(e){var t=new qh;return Lh.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new qh;return Lh.fe.Zt(Ds(this.databaseId,t),n.Ne(function(e){var t=Js(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"ze",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new qh);var i,a=0,o=at(Js(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=at(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.en(t,s.fieldPath)&&Ls(c))r=this.nn(r,s,c);else{var h=f.Ne(s.kind);Lh.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"We",value:function(e,t,n){return this.ze(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=Vt(e),a=[],o=at(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=at(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new qh;f.seed(l.Se()),Lh.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof gc&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Zh(e),i=ed(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return ih.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Zs(t.sequenceNumber,new nc(_h(t.readTime),new _s(Rf(t.documentKey)),t.largestBatchId)):Zs.empty(),r=e.fields.map((function(e){var t=l(e,2),n=t[0],r=t[1];return new Xs(cs.fromServerFormat(n),r)}));return new Qs(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Xu(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Zh(e),a=ed(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return ih.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Eh(r.readTime),documentKey:Af(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return ih.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?ih.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),ih.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?ih.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return Xh(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return Xh(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=Xh(e),i=new uc(Wh);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new zh(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new uc(Wh),r=this.Ze(t,e);if(null==r)return n;var i=Ys(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Ls(a)){var o,u=at(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new zh(t.indexId,e.key,this.Je(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new zh(t.indexId,e.key,Qh,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;Pu("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=cc(a),s=cc(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=cc(o)):l?(i(u),u=cc(a)):(u=cc(a),s=cc(o))}}(r,i,Wh,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),ih.waitFor(o)}},{key:"rn",value:function(e){var t=1;return ed(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Wh(e,t)})).filter((function(e,t,n){return!t||0!==Wh(e,n[t-1])}));var r=[];r.push(e);var i,a=at(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Wh(o,e),s=Wh(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Qh,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Qh,[]]));return c}},{key:"getMinOffset",value:function(e,t){var n,r=this;return ih.forEach(this.Qe(t),(function(t){return r.je(e,t).next((function(e){e?(!n||rc(e.indexState.offset,n)<0)&&(n=e.indexState.offset):n=nc.min()}))})).next((function(){return n}))}}]),e}();function Jh(e){return vh(e,"collectionParents")}function Xh(e){return vh(e,"indexEntries")}function Zh(e){return vh(e,"indexConfiguration")}function ed(e){return vh(e,"indexState")}var td={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nd=function(){function e(t,n,r){Ne(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Pe(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function rd(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Lu(1===u)})));var c,l=[],f=at(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Lf(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return ih.waitFor(a).next((function(){return l}))}function id(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Mu();t=e.noDocument}return JSON.stringify(t).length}nd.DEFAULT_COLLECTION_PERCENTILE=10,nd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nd.DEFAULT=new nd(41943040,nd.DEFAULT_COLLECTION_PERCENTILE,nd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nd.DISABLED=new nd(-1,0,0);var ad=function(){function e(t,n,r,i){Ne(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return Pe(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ud(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=sd(e),o=ud(e);return o.add({}).next((function(u){Lu("number"==typeof u);var s,c=new mh(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return mf(e.Jt,t)})),i=n.mutations.map((function(t){return mf(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new uc((function(e,t){return Xu(e.canonicalString(),t.canonicalString())})),d=at(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Lf(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Ff))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[u]=c.keys()})),ih.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return ud(e).get(t).next((function(e){return e?(Lu(e.userId===n.userId),Ih(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?ih.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return ud(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Lu(t.batchId>=r),a=Ih(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ud(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ud(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return Ih(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Mf(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return sd(e).Wt({range:i},(function(r,i,o){var u=l(r,3),s=u[0],c=u[1],f=u[2],h=Rf(c);if(s===n.userId&&t.path.isEqual(h))return ud(e).get(f).next((function(e){if(!e)throw Mu();Lu(e.userId===n.userId),a.push(Ih(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new uc(Xu),i=[];return t.forEach((function(t){var a=Mf(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=sd(e).Wt({range:o},(function(e,i,a){var o=l(e,3),u=o[0],s=o[1],c=o[2],f=Rf(s);u===n.userId&&t.path.isEqual(f)?r=r.add(c):a.done()}));i.push(u)})),ih.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Mf(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new uc(Xu);return sd(e).Wt({range:o},(function(e,t,a){var o=l(e,3),s=o[0],c=o[1],f=o[2],h=Rf(c);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.dn(e,u)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(ud(e).get(t).next((function(e){if(null===e)throw Mu();Lu(e.userId===n.userId),r.push(Ih(n.M,e))})))})),ih.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return rd(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),ih.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ih.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return sd(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Rf(e[1]);i.push(a)}else r.done()})).next((function(){Lu(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return od(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return cd(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Lu(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function od(e,t,n){var r=Mf(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return sd(e).Wt({range:a,jt:!0},(function(e,n,r){var a=l(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function ud(e){return vh(e,"mutations")}function sd(e){return vh(e,"documentMutations")}function cd(e){return vh(e,"mutationQueues")}var ld=function(){function e(t){Ne(this,e),this.mn=t}return Pe(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),fd=function(){function e(t,n){Ne(this,e),this.referenceDelegate=t,this.M=n}return Pe(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new ld(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return ns.fromTimestamp(new ts(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return hd(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return Lu(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return hd(e).Wt((function(o,u){var s=Sh(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return ih.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return hd(e).Wt((function(e,n){var r=Sh(n);t(r)}))}},{key:"pn",value:function(e){return dd(e).get("targetGlobalKey").next((function(e){return Lu(null!==e),e}))}},{key:"In",value:function(e,t){return dd(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return hd(e).put(Th(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=hc(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return hd(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Sh(n);dc(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=pd(e);return t.forEach((function(t){var o=Af(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),ih.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=pd(e);return ih.forEach(t,(function(t){var a=Af(t.path);return ih.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=pd(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=pd(e),i=Ul();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=Rf(e[1]),a=new _s(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Af(t.path),r=IDBKeyRange.bound([n],[es(n)],!1,!0),i=0;return pd(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=l(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return hd(e).get(t).next((function(e){return e?Sh(e):null}))}}]),e}();function hd(e){return vh(e,"targets")}function dd(e){return vh(e,"targetGlobal")}function pd(e){return vh(e,"targetDocuments")}function vd(e){return md.apply(this,arguments)}function md(){return md=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Vu.FAILED_PRECONDITION&&t.message===nh){e.next=2;break}throw t;case 2:Pu("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),md.apply(this,arguments)}function yd(e,t){var n=l(e,2),r=n[0],i=n[1],a=l(t,2),o=a[0],u=a[1],s=Xu(r,o);return 0===s?Xu(i,u):s}var gd=function(){function e(t){Ne(this,e),this.An=t,this.buffer=new uc(yd),this.Rn=0}return Pe(e,[{key:"bn",value:function(){return++this.Rn}},{key:"Pn",value:function(e){var t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();yd(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),kd=function(){function e(t,n){Ne(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return Pe(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;Pu("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Ce(Be().mark((function n(){return Be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!ch(n.t0)){n.next=12;break}Pu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,vd(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),bd=function(){function e(t,n){Ne(this,e),this.Dn=t,this.params=n}return Pe(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ih.resolve(Qu.A);var r=new gd(t);return this.Dn.forEachTarget(e,(function(e){return r.Pn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.Pn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Pu("LruGarbageCollector","Garbage collection skipped; disabled"),ih.resolve(td)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Pu("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),td):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Pu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Au()<=zt.DEBUG&&Pu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),ih.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),wd=function(){function e(t,n){Ne(this,e),this.db=t,this.garbageCollector=function(e,t){return new bd(e,t)}(this,n)}return Pe(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return xd(e,n)}},{key:"removeReference",value:function(e,t,n){return xd(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return xd(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return cd(e).zt((function(r){return od(e,r,t).next((function(e){return e&&(n=!0),ih.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,u){if(u<=t){var s=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,ns.min()),pd(e).delete([0,Af(o.path)])}))}));i.push(s)}})).next((function(){return ih.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return xd(e,t)}},{key:"Mn",value:function(e,t){var n,r=pd(e),i=Qu.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=l(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Qu.A&&t(new _s(Rf(n)),i),i=s,n=u):i=Qu.A})).next((function(){i!==Qu.A&&t(new _s(Rf(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function xd(e,t){return pd(e).put(function(e,t){return{targetId:0,path:Af(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Ed=function(){function e(){Ne(this,e),this.changes=new Pl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Pe(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,$s.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ih.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),_d=function(){function e(t){Ne(this,e),this.M=t}return Pe(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Td(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Td(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],xh(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=$s.newInvalidDocument(t);return Td(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Cd(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:$s.newInvalidDocument(t)};return Td(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Cd(t))},(function(e,i){r={document:n.$n(t,i),size:id(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Rl();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=Rl(),i=new ic(_s.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,id(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return ih.resolve();var r=new uc(Ad);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Cd(r.first()),Cd(r.last())),a=r.getIterator(),o=a.getNext();return Td(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=_s.fromSegments([].concat(Vt(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Ad(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(Cd(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),xh(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Td(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Rl(),i=at(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(_s.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Rl(),o=Nd(t,n),u=Nd(t,nc.max());return Td(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.$n(_s.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Id(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Sd(e).get("remoteDocumentGlobalKey").next((function(e){return Lu(!!e),e}))}},{key:"Fn",value:function(e,t){return Sd(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=pf(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=_s.fromSegments(t.noDocument.path),i=_h(t.noDocument.readTime);n=$s.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Mu();var a=_s.fromSegments(t.unknownDocument.path),o=_h(t.unknownDocument.version);n=$s.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new ts(e[0],e[1]);return ns.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(ns.min()))return n}return $s.newInvalidDocument(e)}}]),e}(),Id=function(e){Re(n,e);var t=Ue(n);function n(e,r){var i;return Ne(this,n),(i=t.call(this)).Kn=e,i.trackRemovals=r,i.Gn=new Pl((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Pe(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new uc((function(e,t){return Xu(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=wh(t.Kn.M,o);i=i.add(a.path.popLast());var c=id(s);r+=c-u.size,n.push(t.Kn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=wh(t.Kn.M,o.convertToNoDocument(ns.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),ih.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Ed);function Sd(e){return vh(e,"remoteDocumentGlobal")}function Td(e){return vh(e,"remoteDocumentsV14")}function Cd(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Nd(e,t){var n=t.documentKey.path.toArray();return[e,xh(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Ad(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Xu(n[a],r[a]))return i;return(i=Xu(n.length,r.length))||((i=Xu(n[n.length-2],r[r.length-2]))||Xu(n[n.length-1],r[r.length-1]))}var Pd=function(){function e(t){Ne(this,e),this.M=t}return Pe(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new ah("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Df,{unique:!0}),e.createObjectStore("documentMutations")}(e),Od(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=ih.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Od(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ns.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Df,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return ih.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Qf});t.createIndex("collectionPathOverlayIndex",Yf,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Jf,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Vf});t.createIndex("documentKeyIndex",Uf),t.createIndex("collectionGroupIndex",jf)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Kf}).createIndex("sequenceNumberIndex",Hf,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Gf}).createIndex("documentKeyIndex",$f,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=id(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return ih.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return ih.forEach(r,(function(r){Lu(r.userId===n.userId);var i=Ih(t.M,r);return rd(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new us(n),o=function(e){return[0,Af(e)]}(a);r.push(t.get(o).next((function(n){return n?ih.resolve():function(n){return t.put({targetId:0,path:Af(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return ih.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Wf});var n=t.store("collectionParents"),r=new $h,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Af(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new us(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=l(e,3),r=(n[0],n[1]),a=(n[2],Rf(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=Sh(r),a=Th(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new _s(us.fromString(i.document.name).popFirst(5)):i.noDocument?_s.fromSegments(i.noDocument.path):i.unknownDocument?_s.fromSegments(i.unknownDocument.path):Mu()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return ih.waitFor(r)}))}}]),e}();function Od(e){e.createObjectStore("targetDocuments",{keyPath:qf}).createIndex("documentTargetsIndex",zf,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Bf,{unique:!0}),e.createObjectStore("targetGlobal")}var Rd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Dd=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(Ne(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=u,this.Xn=c,this.Zn=l,this.ts=f,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new Uu(Vu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new wd(this,i),this.hs=n+"main",this.M=new bh(s),this.ls=new oh(this.hs,this.ts,new Pd(this.M)),this.fs=new fd(this.referenceDelegate,this.M),this.ds=function(e){return new _d(e)}(this.M),this._s=new Ph,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===l&&Ou("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Pe(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Uu(Vu.FAILED_PRECONDITION,Rd);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new Qu(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=Ce(Be().mark((function n(r){return Be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=Ce(Be().mark((function t(n){return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Ld(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.bs(t).next((function(){return!0}))}))})).catch((function(t){if(ch(t))return Pu("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Pu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return Md(e).get("owner").next((function(e){return ih.resolve(t.Ps(e))}))}},{key:"Vs",value:function(e){return Ld(e).delete(this.clientId)}},{key:"vs",value:function(){var e=Ce(Be().mark((function e(){var t,n,r,i,a=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=vh(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ih.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=at(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"Ps",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?ih.resolve(!0):Md(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.Ps(n)&&t.networkEnabled)return!0;if(!t.Ps(n)){if(!n.allowTabSynchronization)throw new Uu(Vu.FAILED_PRECONDITION,Rd);return!1}}return!(!t.networkEnabled||!t.inForeground)||Ld(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Pu("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ce(Be().mark((function e(){var t=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new ph(e,Qu.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Ld(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return ad.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new Yh(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Dh.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Pu("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.ts)?th:13===i?eh:12===i?Zf:11===i?Xf:void Mu();return this.ls.runTransaction(e,o,u,(function(i){return a=new ph(i,r.es?r.es.next():Qu.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw Ou("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new Uu(Vu.FAILED_PRECONDITION,nh);return n(a)})).next((function(e){return r.bs(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return Md(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.Ps(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Uu(Vu.FAILED_PRECONDITION,Rd)}))}},{key:"bs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Md(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=Md(e);return n.get("owner").next((function(e){return t.Ps(e)?(Pu("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ih.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Ou("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!gt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Pu("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ou("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(Sr){Ou("Failed to set zombie client id.",Sr)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(Sr){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return oh.vt()}}]),e}();function Md(e){return vh(e,"owner")}function Ld(e){return vh(e,"clientMetadata")}function Fd(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Vd=function(){function e(t,n,r){Ne(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return Pe(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=at(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=at(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return _s.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):Fc(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new _s(t)).next((function(e){var t=Ml();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Ml();return this.indexManager.getCollectionParents(e,i).next((function(o){return ih.forEach(o,(function(o){var u=function(e,t){return new Oc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=at(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=at(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=$s.newInvalidDocument(s),r=r.insert(s,c)),vl(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){Wc(t,n)||(r=r.remove(e))})),r}))}}]),e}(),Ud=function(){function e(t,n,r,i){Ne(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return Pe(e,null,[{key:"Ys",value:function(t,n){var r,i=Ul(),a=Ul(),o=at(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),jd=function(){function e(){Ne(this,e),this.Xs=!1}return Pe(e,[{key:"initialize",value:function(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}},{key:"Qs",value:function(e,t,n,r){var i=this;return this.ti(e,t).next((function(a){return a||i.ei(e,t,r,n)})).next((function(n){return n||i.ni(e,t)}))}},{key:"ti",value:function(e,t){return ih.resolve(null)}},{key:"ei",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(ns.min())?this.ni(e,t):this.Zs.Ks(e,n).next((function(a){var o=i.si(t,a);return i.ii(t,o,n,r)?i.ni(e,t):(Au()<=zt.DEBUG&&Pu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zc(t)),i.ri(e,o,t,ec(r,-1)))}))}},{key:"si",value:function(e,t){var n=new uc(Hc(e));return t.forEach((function(t,r){Wc(e,r)&&(n=n.add(r))})),n}},{key:"ii",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ni",value:function(e,t){return Au()<=zt.DEBUG&&Pu("QueryEngine","Using full collection scan to execute query:",zc(t)),this.Zs.Qs(e,t,nc.min())}},{key:"ri",value:function(e,t,n,r){return this.Zs.Qs(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Bd=function(){function e(t,n,r,i){Ne(this,e),this.persistence=t,this.oi=n,this.M=i,this.ui=new ic(Xu),this.ai=new Pl((function(e){return hc(e)}),dc),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(r)}return Pe(e,[{key:"li",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new Vd(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ui)}))}}]),e}();function qd(e,t,n,r){return new Bd(e,t,n,r)}function zd(e,t){return Wd.apply(this,arguments)}function Wd(){return Wd=Ce(Be().mark((function e(t,n){var r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fu(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.li(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Ul(),s=at(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=at(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=at(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=at(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.fi.Ks(e,u).next((function(e){return{di:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Wd.apply(this,arguments)}function Kd(e,t){var n=Fu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.hi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ih.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Lu(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}function Hd(e){var t=Fu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function Gd(e,t){var n=Fu(e),r=t.snapshotVersion,i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(fs.EMPTY_BYTE_STRING,ns.min()).withLastLimboFreeSnapshotVersion(ns.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var u=Rl();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push($d(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(ns.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return ih.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.fi.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.ui=i,e}))}function $d(e,t,n){var r=Ul();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Rl();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(ns.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Pu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Qd(e,t){var n=Fu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function Yd(e,t){var n=Fu(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,ih.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new kh(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ui=n.ui.insert(e.targetId,e),n.ai.set(t,e.targetId)),e}))}function Jd(e,t,n){return Xd.apply(this,arguments)}function Xd(){return Xd=Ce(Be().mark((function e(t,n,r){var i,a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Fu(t),a=i.ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),ch(e.t1)){e.next=12;break}throw e.t1;case 12:Pu("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ui=i.ui.remove(n),i.ai.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Xd.apply(this,arguments)}function Zd(e,t,n){var r=Fu(e),i=ns.min(),a=Ul();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Fu(e),i=r.ai.get(n);return void 0!==i?ih.resolve(r.ui.get(i)):r.fs.getTargetData(t,n)}(r,e,Uc(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.oi.Qs(e,t,n?i:ns.min(),n?a:Ul())})).next((function(e){return np(r,Kc(t),e),{documents:e,_i:a}}))}))}function ep(e,t){var n=Fu(e),r=Fu(n.fs),i=n.ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function tp(e,t){var n=Fu(e),r=n.ci.get(t)||ns.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.hi.getAllFromCollectionGroup(e,t,ec(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return np(n,t,e),e}))}function np(e,t,n){var r=ns.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ci.set(t,r)}function rp(e,t,n,r){return ip.apply(this,arguments)}function ip(){return ip=Ce(Be().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Fu(t),o=Ul(),u=Rl(),s=at(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.mi(l)).setReadTime(n.gi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.hi.newChangeBuffer({trackRemovals:!0}),e.next=7,Yd(a,function(e){return Uc(Dc(us.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return $d(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.fi.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),ip.apply(this,arguments)}function ap(e,t){return op.apply(this,arguments)}function op(){return op=Ce(Be().mark((function e(t,n){var r,i,a,o=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Ul(),e.next=3,Yd(t,Uc(Ch(n.bundledQuery)));case 3:return i=e.sent,a=Fu(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=rf(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(fs.EMPTY_BYTE_STRING,t);return a.ui=a.ui.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),op.apply(this,arguments)}var up=function(){function e(t){Ne(this,e),this.M=t,this.yi=new Map,this.pi=new Map}return Pe(e,[{key:"getBundleMetadata",value:function(e,t){return ih.resolve(this.yi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:rf(n.createTime)}),ih.resolve()}},{key:"getNamedQuery",value:function(e,t){return ih.resolve(this.pi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.pi.set(t.name,function(e){return{name:e.name,query:Ch(e.bundledQuery),readTime:rf(e.readTime)}}(t)),ih.resolve()}}]),e}(),sp=function(){function e(){Ne(this,e),this.overlays=new ic(_s.comparator),this.Ii=new Map}return Pe(e,[{key:"getOverlay",value:function(e,t){return ih.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),ih.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Ii.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Ii.delete(n)),ih.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Ll(),i=t.length+1,a=new _s(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return ih.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ic((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Ll(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Ll(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return ih.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Ii.get(r.largestBatchId).delete(n.key);this.Ii.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new gh(t,n));var a=this.Ii.get(t);void 0===a&&(a=Ul(),this.Ii.set(t,a)),this.Ii.set(t,a.add(n.key))}}}]),e}(),cp=function(){function e(){Ne(this,e),this.Ti=new uc(lp.Ei),this.Ai=new uc(lp.Ri)}return Pe(e,[{key:"isEmpty",value:function(){return this.Ti.isEmpty()}},{key:"addReference",value:function(e,t){var n=new lp(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}},{key:"bi",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Pi(new lp(e,t))}},{key:"Vi",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"vi",value:function(e){var t=this,n=new _s(new us([])),r=new lp(n,e),i=new lp(n,e+1),a=[];return this.Ai.forEachInRange([r,i],(function(e){t.Pi(e),a.push(e.key)})),a}},{key:"Si",value:function(){var e=this;this.Ti.forEach((function(t){return e.Pi(t)}))}},{key:"Pi",value:function(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}},{key:"Di",value:function(e){var t=new _s(new us([])),n=new lp(t,e),r=new lp(t,e+1),i=Ul();return this.Ai.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new lp(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),lp=function(){function e(t,n){Ne(this,e),this.key=t,this.Ci=n}return Pe(e,null,[{key:"Ei",value:function(e,t){return _s.comparator(e.key,t.key)||Xu(e.Ci,t.Ci)}},{key:"Ri",value:function(e,t){return Xu(e.Ci,t.Ci)||_s.comparator(e.key,t.key)}}]),e}(),fp=function(){function e(t,n){Ne(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new uc(lp.Ei)}return Pe(e,[{key:"checkEmpty",value:function(e){return ih.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new mh(i,t,n,r);this.Bs.push(a);var o,u=at(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Ni=this.Ni.add(new lp(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return ih.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ih.resolve(this.ki(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Mi(n),i=r<0?0:r;return ih.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ih.resolve(0===this.Bs.length?-1:this.xi-1)}},{key:"getAllMutationBatches",value:function(e){return ih.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new lp(t,0),i=new lp(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],(function(e){var t=n.ki(e.Ci);a.push(t)})),ih.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new uc(Xu);return t.forEach((function(e){var t=new lp(e,0),i=new lp(e,Number.POSITIVE_INFINITY);n.Ni.forEachInRange([t,i],(function(e){r=r.add(e.Ci)}))})),ih.resolve(this.Oi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;_s.isDocumentKey(i)||(i=i.child(""));var a=new lp(new _s(i),0),o=new uc(Xu);return this.Ni.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Ci)),!0)}),a),ih.resolve(this.Oi(o))}},{key:"Oi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ki(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Lu(0===this.Fi(t.batchId,"removed")),this.Bs.shift();var r=this.Ni;return ih.forEach(t.mutations,(function(i){var a=new lp(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Ni=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new lp(t,0),r=this.Ni.firstAfterOrEqual(n);return ih.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,ih.resolve()}},{key:"Fi",value:function(e,t){return this.Mi(e)}},{key:"Mi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"ki",value:function(e){var t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),hp=function(){function e(t){Ne(this,e),this.$i=t,this.docs=new ic(_s.comparator),this.size=0}return Pe(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ih.resolve(n?n.document.mutableCopy():$s.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Rl();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():$s.newInvalidDocument(e))})),ih.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Rl(),i=new _s(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||rc(tc(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return ih.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Mu()}},{key:"Bi",value:function(e,t){return ih.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new dp(this)}},{key:"getSize",value:function(e){return ih.resolve(this.size)}}]),e}(),dp=function(e){Re(n,e);var t=Ue(n);function n(e){var r;return Ne(this,n),(r=t.call(this)).Kn=e,r}return Pe(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),ih.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(Ed),pp=function(){function e(t){Ne(this,e),this.persistence=t,this.Li=new Pl((function(e){return hc(e)}),dc),this.lastRemoteSnapshotVersion=ns.min(),this.highestTargetId=0,this.Ui=0,this.qi=new cp,this.targetCount=0,this.Ki=ld.gn()}return Pe(e,[{key:"forEachTarget",value:function(e,t){return this.Li.forEach((function(e,n){return t(n)})),ih.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ih.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ih.resolve(this.Ui)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ki.next(),ih.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),ih.resolve()}},{key:"Tn",value:function(e){this.Li.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ki=new ld(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,ih.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),ih.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,ih.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Li.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Li.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ih.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ih.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Li.get(t)||null;return ih.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.qi.bi(t,n),ih.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.qi.Vi(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ih.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.qi.vi(t),ih.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.qi.Di(t);return ih.resolve(n)}},{key:"containsKey",value:function(e,t){return ih.resolve(this.qi.containsKey(t))}}]),e}(),vp=function(){function e(t,n){var r=this;Ne(this,e),this.Gi={},this.overlays={},this.es=new Qu(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new pp(this),this.indexManager=new Gh,this.ds=new hp((function(e){return r.referenceDelegate.Qi(e)})),this.M=new bh(n),this._s=new up(this.M)}return Pe(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new sp,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Gi[e.toKey()];return n||(n=new fp(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Pu("MemoryPersistence","Starting transaction:",e);var i=new mp(this.es.next());return this.referenceDelegate.ji(),n(i).next((function(e){return r.referenceDelegate.Wi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zi",value:function(e,t){return ih.or(Object.values(this.Gi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),mp=function(e){Re(n,e);var t=Ue(n);function n(e){var r;return Ne(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Pe(n)}(rh),yp=function(){function e(t){Ne(this,e),this.persistence=t,this.Hi=new cp,this.Ji=null}return Pe(e,[{key:"Xi",get:function(){if(this.Ji)return this.Ji;throw Mu()}},{key:"addReference",value:function(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),ih.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),ih.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Xi.add(t.toString()),ih.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Hi.vi(t.targetId).forEach((function(e){return n.Xi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Xi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ji",value:function(){this.Ji=new Set}},{key:"Wi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ih.forEach(this.Xi,(function(r){var i=_s.fromPath(r);return t.Zi(e,i).next((function(e){e||n.removeEntry(i,ns.min())}))})).next((function(){return t.Ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zi(e,t).next((function(e){e?n.Xi.delete(t.toString()):n.Xi.add(t.toString())}))}},{key:"Qi",value:function(e){return 0}},{key:"Zi",value:function(e,t){var n=this;return ih.or([function(){return ih.resolve(n.Hi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zi(e,t)}])}}],[{key:"Yi",value:function(t){return new e(t)}}]),e}();function gp(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function kp(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function bp(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var wp=function(){function e(t,n,r,i){Ne(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Pe(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Uu(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Ou("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),xp=function(){function e(t,n,r){Ne(this,e),this.targetId=t,this.state=n,this.error=r}return Pe(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Uu(i.error.code,i.error.message))),a?new e(t,i.state,r):(Ou("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Ep=function(){function e(t,n){Ne(this,e),this.clientId=t,this.activeTargetIds=n}return Pe(e,null,[{key:"tr",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Bl(),o=0;i&&o<r.activeTargetIds.length;++o)i=Es(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Ou("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),_p=function(){function e(t,n){Ne(this,e),this.clientId=t,this.onlineState=n}return Pe(e,null,[{key:"tr",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ou("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Ip=function(){function e(){Ne(this,e),this.activeTargetIds=Bl()}return Pe(e,[{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"er",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Sp=function(){function e(t,n,r,i,a){Ne(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new ic(Xu),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.hr=gp(this.persistenceKey,this.ir),this.lr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.ir,new Ip),this.dr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this._r=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.wr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.mr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.gr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}return Pe(e,[{key:"start",value:function(){var e=Ce(Be().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=at(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.ir){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(gp(this.persistenceKey,i)))&&(o=Ep.tr(i,a))&&(this.ar=this.ar.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.yr(),(u=this.storage.getItem(this.mr))&&(s=this.pr(u))&&this.Ir(s),c=at(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ur(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.lr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Tr(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Er(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Er(e,t,n),this.Ar(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(bp(this.persistenceKey,e));if(n){var r=xp.tr(e,n);r&&(t=r.state)}}return this.Rr.nr(e),this.yr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Rr.sr(e),this.yr()}},{key:"isLocalQueryTarget",value:function(e){return this.Rr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(bp(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.br(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ar(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Pr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Pu("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Pu("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Pu("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ur",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Pu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.hr)return void Ou("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(Ce(Be().mark((function e(){var r,i,a,o,u,s,c;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.dr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Sr(r,null));case 6:if(!(i=t.Dr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Sr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t._r.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Cr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Nr(a));case 16:e.next=41;break;case 18:if(!t.wr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.kr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(o));case 23:e.next=41;break;case 25:if(n.key!==t.mr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.pr(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ir(u));case 30:e.next=41;break;case 32:if(n.key!==t.lr){e.next=37;break}s=function(e){var t=Qu.A;if(null!=e)try{var n=JSON.parse(e);Lu("number"==typeof n),t=n}catch(e){Ou("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Qu.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.gr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Fr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Rr",get:function(){return this.ar.get(this.ir)}},{key:"yr",value:function(){this.setItem(this.hr,this.Rr.er())}},{key:"Er",value:function(e,t,n){var r=new wp(this.currentUser,e,t,n),i=kp(this.persistenceKey,this.currentUser,e);this.setItem(i,r.er())}},{key:"Ar",value:function(e){var t=kp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Pr",value:function(e){var t={clientId:this.ir,onlineState:e};this.storage.setItem(this.mr,JSON.stringify(t))}},{key:"br",value:function(e,t,n){var r=bp(this.persistenceKey,e),i=new xp(e,t,n);this.setItem(r,i.er())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}},{key:"vr",value:function(e){var t=this.dr.exec(e);return t?t[1]:null}},{key:"Dr",value:function(e,t){var n=this.vr(e);return Ep.tr(n,t)}},{key:"Cr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return wp.tr(new Tu(i),r,t)}},{key:"kr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]);return xp.tr(r,t)}},{key:"pr",value:function(e){return _p.tr(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Nr",value:function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.$r(t.batchId,t.state,t.error));case 2:Pu("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}},{key:"Sr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),a=this.Tr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Lr(o,u).then((function(){n.ar=r}))}},{key:"Ir",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Tr",value:function(e){var t=Bl();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Tp=function(){function e(){Ne(this,e),this.Ur=new Ip,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Pe(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.nr(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.sr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new Ip,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Cp=function(){function e(){Ne(this,e)}return Pe(e,[{key:"Kr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Np=function(){function e(){var t=this;Ne(this,e),this.Gr=function(){return t.Qr()},this.jr=function(){return t.Wr()},this.zr=[],this.Hr()}return Pe(e,[{key:"Kr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}},{key:"Hr",value:function(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}},{key:"Qr",value:function(){Pu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=at(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){Pu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=at(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Ap={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Pp=function(){function e(t){Ne(this,e),this.Jr=t.Jr,this.Yr=t.Yr}return Pe(e,[{key:"Xr",value:function(e){this.Zr=e}},{key:"eo",value:function(e){this.no=e}},{key:"onMessage",value:function(e){this.so=e}},{key:"close",value:function(){this.Yr()}},{key:"send",value:function(e){this.Jr(e)}},{key:"io",value:function(){this.Zr()}},{key:"ro",value:function(e){this.no(e)}},{key:"oo",value:function(e){this.so(e)}}]),e}(),Op=function(e){Re(n,e);var t=Ue(n);function n(e){var r;return Ne(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Pe(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Iu;o.listenOnce(bu.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case ku.NO_ERROR:var t=o.getResponseJson();Pu("Connection","XHR received:",JSON.stringify(t)),i(t);break;case ku.TIMEOUT:Pu("Connection",'RPC "'+e+'" timed out'),a(new Uu(Vu.DEADLINE_EXCEEDED,"Request time out"));break;case ku.HTTP_ERROR:var n=o.getStatus();if(Pu("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Vu).indexOf(t)>=0?t:Vu.UNKNOWN}(r.status);a(new Uu(u,r.message))}else a(new Uu(Vu.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Uu(Vu.UNAVAILABLE,"Connection failed."));break;default:Mu()}}finally{Pu("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=yu(),a=gu(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Eu({})),this.lo(o.initMessageHeaders,t,n),yt()||bt()||mt().indexOf("Electron/")>=0||wt()||mt().indexOf("MSAppHost/")>=0||kt()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Pu("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new Pp({Jr:function(e){l?Pu("Connection","Not sending because WebChannel is closed:",e):(c||(Pu("Connection","Opening WebChannel transport."),s.open(),c=!0),Pu("Connection","WebChannel sending:",e),s.send(e))},Yr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,_u.EventType.OPEN,(function(){l||Pu("Connection","WebChannel transport opened.")})),h(s,_u.EventType.CLOSE,(function(){l||(l=!0,Pu("Connection","WebChannel transport closed"),f.ro())})),h(s,_u.EventType.ERROR,(function(e){l||(l=!0,Ru("Connection","WebChannel transport errored:",e),f.ro(new Uu(Vu.UNAVAILABLE,"The operation could not be completed")))})),h(s,_u.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Lu(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Pu("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=_l[e];if(void 0!==t)return Al(t)}(a),u=i.message;void 0===o&&(o=Vu.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.ro(new Uu(o,u)),s.close()}else Pu("Connection","WebChannel received:",n),f.oo(n)}})),h(a,wu.STAT_EVENT,(function(e){e.stat===xu.PROXY?Pu("Connection","Detected buffering proxy"):e.stat===xu.NOPROXY&&Pu("Connection","Detected no buffering proxy")})),setTimeout((function(){f.io()}),0),f}}]),n}(function(){function e(t){Ne(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.uo=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Pe(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ho(e,t);Pu("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Pu("RestConnection","Received: ",e),e}),(function(t){throw Ru("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i){return this.co(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=Ap[e];return"".concat(this.uo,"/v1/").concat(t,":").concat(n)}}]),e}());function Rp(){return"undefined"!=typeof window?window:null}function Dp(){return"undefined"!=typeof document?document:null}function Mp(e){return new Zl(e,!0)}var Lp=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Ne(this,e),this.Yn=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return Pe(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Pu("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),Fp=function(){function e(t,n,r,i,a,o,u,s){Ne(this,e),this.Yn=t,this.Vo=r,this.vo=i,this.So=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Lp(t,n)}return Pe(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==t?this.No.reset():n&&n.code===Vu.RESOURCE_EXHAUSTED?(Ou(n.toString()),Ou("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===Vu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.eo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=l(t,2),i=r[0],a=r[1];e.Do===n&&e.Qo(i,a)}),(function(n){t((function(){var t=new Uu(Vu.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.xo=n.Yn.enqueueAfterDelay(n.vo,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.eo((function(e){r((function(){return n.jo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.No.Ro(Ce(Be().mark((function t(){return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"jo",value:function(e){return Pu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Do===e?n():(Pu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Vp=function(e){Re(n,e);var t=Ue(n);function n(e,r,i,a,o,u){var s;return Ne(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return Pe(n,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Mu()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Lu(void 0===t||"string"==typeof t),fs.fromBase64String(t||"")):(Lu(void 0===t||t instanceof Uint8Array),fs.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Vu.UNKNOWN:Al(e.code);return new Uu(t,e.message||"")}(o);n=new Hl(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=sf(e,s.document.name),l=rf(s.document.updateTime),f=new Hs({mapValue:{fields:s.document.fields}}),h=$s.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Wl(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=sf(e,v.document),y=v.readTime?rf(v.readTime):ns.min(),g=$s.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Wl([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=sf(e,b.document),x=b.removedTargetIds||[];n=new Wl([],x,w,null)}else{if(!("filter"in t))return Mu();t.filter;var E=t.filter;E.targetId;var _=E.count||0,I=new Cl(_),S=E.targetId;n=new Kl(S,I)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return ns.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ns.min():t.readTime?rf(t.readTime):ns.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t={};t.database=ff(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=pc(r)?{documents:gf(e,r)}:{query:kf(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=tf(e,t.resumeToken):t.snapshotVersion.compareTo(ns.min())>0&&(n.readTime=ef(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Mu()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Lo(t)}},{key:"Jo",value:function(e){var t={};t.database=ff(this.M),t.removeTarget=e,this.Lo(t)}}]),n}(Fp),Up=function(e){Re(n,e);var t=Ue(n);function n(e,r,i,a,o,u){var s;return Ne(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.Yo=!1,s}return Pe(n,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,fr(De(n.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(Lu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=function(e,t){return e&&e.length>0?(Lu(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?rf(e.updateTime):rf(t);return n.isEqual(ns.min())&&(n=rf(t)),new ll(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=rf(e.commitTime);return this.listener.tu(n,t)}return Lu(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=ff(this.M),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return mf(t.M,e)}))};this.Lo(n)}}]),n}(Fp),jp=function(e){Re(n,e);var t=Ue(n);function n(e,r,i,a){var o;return Ne(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.So=i,o.M=a,o.su=!1,o}return Pe(n,[{key:"iu",value:function(){if(this.su)throw new Uu(Vu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],u=a[1];return r.So.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Vu.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Uu(Vu.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=l(i,2),o=a[0],u=a[1];return r.So._o(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Vu.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Uu(Vu.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),n}(function(){return Pe((function e(){Ne(this,e)}))}()),Bp=function(){function e(t,n){Ne(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return Pe(e,[{key:"au",value:function(){var e=this;0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(Ou(t),this.uu=!1):Pu("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),qp=Pe((function e(t,n,r,i,a){var o=this;Ne(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.Kr((function(e){r.enqueueAndForget(Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Zp(o),!e.t0){e.next=5;break}return Pu("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ce(Be().mark((function e(t){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Fu(t)).wu.add(4),e.next=4,Kp(n);case 4:return n.yu.set("Unknown"),n.wu.delete(4),e.next=8,zp(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new Bp(r,i)}));function zp(e){return Wp.apply(this,arguments)}function Wp(){return Wp=Ce(Be().mark((function e(t){var n,r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Zp(t)){e.next=18;break}n=at(t.mu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Wp.apply(this,arguments)}function Kp(e){return Hp.apply(this,arguments)}function Hp(){return Hp=Ce(Be().mark((function e(t){var n,r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=at(t.mu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Hp.apply(this,arguments)}function Gp(e,t){var n=Fu(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),Xp(n)?Jp(n):Cv(n).Mo()&&Qp(n,t))}function $p(e,t){var n=Fu(e),r=Cv(n);n._u.delete(t),r.Mo()&&Yp(n,t),0===n._u.size&&(r.Mo()?r.$o():Zp(n)&&n.yu.set("Unknown"))}function Qp(e,t){e.pu.Z(t.targetId),Cv(e).Ho(t)}function Yp(e,t){e.pu.Z(t),Cv(e).Jo(t)}function Jp(e){e.pu=new $l({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e._u.get(t)||null}}),Cv(e).start(),e.yu.au()}function Xp(e){return Zp(e)&&!Cv(e).ko()&&e._u.size>0}function Zp(e){return 0===Fu(e).wu.size}function ev(e){e.pu=void 0}function tv(e){return nv.apply(this,arguments)}function nv(){return nv=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._u.forEach((function(e,n){Qp(t,e)}));case 1:case"end":return e.stop()}}),e)}))),nv.apply(this,arguments)}function rv(e,t){return iv.apply(this,arguments)}function iv(){return iv=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ev(t),Xp(t)?(t.yu.lu(n),Jp(t)):t.yu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),iv.apply(this,arguments)}function av(e,t,n){return ov.apply(this,arguments)}function ov(){return ov=Ce(Be().mark((function e(t,n,r){var i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.yu.set("Online"),!(n instanceof Hl&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ce(Be().mark((function e(t,n){var r,i,a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=at(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t._u.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t._u.delete(o),t.pu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Pu("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,uv(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Wl?t.pu.ut(n):n instanceof Kl?t.pu._t(n):t.pu.ht(n),r.isEqual(ns.min())){e.next=29;break}return e.prev=14,e.next=17,Hd(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken(fs.EMPTY_BYTE_STRING,n.snapshotVersion)),Yp(e,t);var r=new kh(n.target,t,1,n.sequenceNumber);Qp(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Pu("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,uv(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),ov.apply(this,arguments)}function uv(e,t,n){return sv.apply(this,arguments)}function sv(){return sv=Ce(Be().mark((function e(t,n,r){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ch(n)){e.next=2;break}throw n;case 2:return t.wu.add(1),e.next=5,Kp(t);case 5:t.yu.set("Offline"),r||(r=function(){return Hd(t.localStore)}),t.asyncQueue.enqueueRetryable(Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pu("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.wu.delete(1),e.next=6,zp(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),sv.apply(this,arguments)}function cv(e,t){return t().catch((function(n){return uv(e,n,t)}))}function lv(e){return fv.apply(this,arguments)}function fv(){return fv=Ce(Be().mark((function e(t){var n,r,i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Fu(t),r=Nv(n),i=n.du.length>0?n.du[n.du.length-1].batchId:-1;case 2:if(!hv(n)){e.next=19;break}return e.prev=3,e.next=6,Qd(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.du.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,dv(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,uv(n,e.t0);case 17:e.next=2;break;case 19:pv(n)&&vv(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),fv.apply(this,arguments)}function hv(e){return Zp(e)&&e.du.length<10}function dv(e,t){e.du.push(t);var n=Nv(e);n.Mo()&&n.Xo&&n.Zo(t.mutations)}function pv(e){return Zp(e)&&!Nv(e).ko()&&e.du.length>0}function vv(e){Nv(e).start()}function mv(e){return yv.apply(this,arguments)}function yv(){return yv=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Nv(t).nu();case 1:case"end":return e.stop()}}),e)}))),yv.apply(this,arguments)}function gv(e){return kv.apply(this,arguments)}function kv(){return kv=Ce(Be().mark((function e(t){var n,r,i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Nv(t),r=at(t.du);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),kv.apply(this,arguments)}function bv(e,t,n){return wv.apply(this,arguments)}function wv(){return wv=Ce(Be().mark((function e(t,n,r){var i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.du.shift(),a=yh.from(i,n,r),e.next=3,cv(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,lv(t);case 5:case"end":return e.stop()}}),e)}))),wv.apply(this,arguments)}function xv(e,t){return Ev.apply(this,arguments)}function Ev(){return Ev=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Nv(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ce(Be().mark((function e(t,n){var r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Nl(i=n.code)||i===Vu.ABORTED){e.next=7;break}return r=t.du.shift(),Nv(t).Fo(),e.next=5,cv(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,lv(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:pv(t)&&vv(t);case 5:case"end":return e.stop()}}),e)}))),Ev.apply(this,arguments)}function _v(e,t){return Iv.apply(this,arguments)}function Iv(){return Iv=Ce(Be().mark((function e(t,n){var r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Fu(t)).asyncQueue.verifyOperationInProgress(),Pu("RemoteStore","RemoteStore received new credentials"),i=Zp(r),r.wu.add(3),e.next=6,Kp(r);case 6:return i&&r.yu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.wu.delete(3),e.next=12,zp(r);case 12:case"end":return e.stop()}}),e)}))),Iv.apply(this,arguments)}function Sv(e,t){return Tv.apply(this,arguments)}function Tv(){return Tv=Ce(Be().mark((function e(t,n){var r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fu(t),!n){e.next=7;break}return r.wu.delete(2),e.next=5,zp(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.wu.add(2),e.next=12,Kp(r);case 12:r.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Tv.apply(this,arguments)}function Cv(e){return e.Iu||(e.Iu=function(e,t,n){var r=Fu(e);return r.iu(),new Vp(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:tv.bind(null,e),eo:rv.bind(null,e),zo:av.bind(null,e)}),e.mu.push(function(){var t=Ce(Be().mark((function t(n){return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Iu.Fo(),Xp(e)?Jp(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:ev(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}function Nv(e){return e.Tu||(e.Tu=function(e,t,n){var r=Fu(e);return r.iu(),new Up(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:mv.bind(null,e),eo:xv.bind(null,e),eu:gv.bind(null,e),tu:bv.bind(null,e)}),e.mu.push(function(){var t=Ce(Be().mark((function t(n){return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Tu.Fo(),t.next=4,lv(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(Pu("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}var Av=function(){function e(t,n,r,i,a){Ne(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ju,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Pe(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Uu(Vu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Pv(e,t){if(Ou("AsyncQueue","".concat(t,": ").concat(e)),ch(e))return new Uu(Vu.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Ov=function(){function e(t){Ne(this,e),this.comparator=t?function(e,n){return t(e,n)||_s.comparator(e.key,n.key)}:function(e,t){return _s.comparator(e.key,t.key)},this.keyedMap=Ml(),this.sortedSet=new ic(this.comparator)}return Pe(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Rv=function(){function e(){Ne(this,e),this.Eu=new ic(_s.comparator)}return Pe(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):Mu():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Dv=function(){function e(t,n,r,i,a,o,u,s){Ne(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Pe(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Ov.emptySet(n),a,r,i,!0,!1)}}]),e}(),Mv=Pe((function e(){Ne(this,e),this.Ru=void 0,this.listeners=[]})),Lv=Pe((function e(){Ne(this,e),this.queries=new Pl((function(e){return qc(e)}),Bc),this.onlineState="Unknown",this.bu=new Set}));function Fv(e,t){return Vv.apply(this,arguments)}function Vv(){return Vv=Ce(Be().mark((function e(t,n){var r,i,a,o,u;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fu(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Mv),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Pv(e.t0,"Initialization of query '".concat(zc(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.Ru&&n.Vu(o.Ru)&&zv(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),Vv.apply(this,arguments)}function Uv(e,t){return jv.apply(this,arguments)}function jv(){return jv=Ce(Be().mark((function e(t,n){var r,i,a,o,u;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fu(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),jv.apply(this,arguments)}function Bv(e,t){var n,r=Fu(e),i=!1,a=at(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=at(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Ru=o}}}catch(f){a.e(f)}finally{a.f()}i&&zv(r)}function qv(e,t,n){var r=Fu(e),i=r.queries.get(t);if(i){var a,o=at(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function zv(e){e.bu.forEach((function(e){e.next()}))}var Wv=function(){function e(t,n,r){Ne(this,e),this.query=t,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}return Pe(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=at(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Dv(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),a=!0):this.xu(e,this.onlineState)&&(this.Nu(e),a=!0),this.Du=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=Dv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}]),e}(),Kv=function(){function e(t,n){Ne(this,e),this.payload=t,this.byteLength=n}return Pe(e,[{key:"Mu",value:function(){return"metadata"in this.payload}}]),e}(),Hv=function(){function e(t){Ne(this,e),this.M=t}return Pe(e,[{key:"wi",value:function(e){return sf(this.M,e)}},{key:"mi",value:function(e){return e.metadata.exists?pf(this.M,e.document,!1):$s.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}},{key:"gi",value:function(e){return rf(e)}}]),e}(),Gv=function(){function e(t,n,r){Ne(this,e),this.Ou=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$v(t)}return Pe(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=us.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new Hv(this.M),i=at(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.wi(a.metadata.name),s=at(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Ul()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ce(Be().mark((function e(){var t,n,r,i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rp(this.localStore,new Hv(this.M),this.documents,this.Ou.id);case 2:t=e.sent,n=this.$u(this.documents),r=at(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,ap(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function $v(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Qv=Pe((function e(t){Ne(this,e),this.key=t})),Yv=Pe((function e(t){Ne(this,e),this.key=t})),Jv=function(){function e(t,n){Ne(this,e),this.query=t,this.Uu=n,this.qu=null,this.current=!1,this.Ku=Ul(),this.mutatedKeys=Ul(),this.Gu=Hc(t),this.Qu=new Ov(this.Gu)}return Pe(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new Rv,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Wc(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,ii:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mu()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new Dv(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Rv,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=Ul(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new Yv(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new Qv(e))})),n}},{key:"ta",value:function(e){this.Uu=e._i,this.Ku=Ul();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ea",value:function(){return Dv.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}]),e}(),Xv=Pe((function e(t,n,r){Ne(this,e),this.query=t,this.targetId=n,this.view=r})),Zv=Pe((function e(t){Ne(this,e),this.key=t,this.na=!1})),em=function(){function e(t,n,r,i,a,o){Ne(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new Pl((function(e){return qc(e)}),Bc),this.ra=new Map,this.oa=new Set,this.ua=new ic(_s.comparator),this.aa=new Map,this.ca=new cp,this.ha={},this.la=new Map,this.fa=ld.yn(),this.onlineState="Unknown",this.da=void 0}return Pe(e,[{key:"isPrimaryClient",get:function(){return!0===this.da}}]),e}();function tm(e,t){return nm.apply(this,arguments)}function nm(){return nm=Ce(Be().mark((function e(t,n){var r,i,a,o,u,s;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$m(t),!(o=r.ia.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ea(),e.next=15;break;case 6:return e.next=8,Yd(r.localStore,Uc(n));case 8:return u=e.sent,r.isPrimaryClient&&Gp(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,rm(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),nm.apply(this,arguments)}function rm(e,t,n,r){return im.apply(this,arguments)}function im(){return im=Ce(Be().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._a=function(e,n,r){return function(){var e=Ce(Be().mark((function e(t,n,r,i){var a,o,u;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.ii,!e.t0){e.next=6;break}return e.next=5,Zd(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(_m(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Zd(t.localStore,n,!0);case 3:return a=e.sent,o=new Jv(n,a._i),u=o.Wu(a.documents),s=zl.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),_m(t,r,c.Xu),l=new Xv(n,r,o),e.abrupt("return",(t.ia.set(n,l),t.ra.has(r)?t.ra.get(r).push(n):t.ra.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),im.apply(this,arguments)}function am(e,t){return om.apply(this,arguments)}function om(){return om=Ce(Be().mark((function e(t,n){var r,i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fu(t),i=r.ia.get(n),!((a=r.ra.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ra.set(i.targetId,a.filter((function(e){return!Bc(e,n)}))),void r.ia.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Jd(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),$p(r.remoteStore,i.targetId),xm(r,i.targetId)})).catch(vd);case 9:e.next=14;break;case 11:return xm(r,i.targetId),e.next=14,Jd(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),om.apply(this,arguments)}function um(e,t,n){return sm.apply(this,arguments)}function sm(){return sm=Ce(Be().mark((function e(t,n,r){var i,a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qm(t),e.prev=1,e.next=4,function(e,t){var n,r=Fu(e),i=ts.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Ul());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.fi.Ks(e,a).next((function(a){n=a;var o,u=[],s=at(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=ml(c,n.get(c.key));null!=l&&u.push(new bl(c.key,l,Gs(l.value.mapValue),fl.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Bs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ha[e.currentUser.toKey()];r||(r=new ic(Xu)),r=r.insert(t,n),e.ha[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Tm(i,a.changes);case 9:return e.next=11,lv(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Pv(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),sm.apply(this,arguments)}function cm(e,t){return lm.apply(this,arguments)}function lm(){return lm=Ce(Be().mark((function e(t,n){var r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fu(t),e.prev=1,e.next=4,Gd(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.aa.get(t);n&&(Lu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.na=!0:e.modifiedDocuments.size>0?Lu(n.na):e.removedDocuments.size>0&&(Lu(n.na),n.na=!1))})),e.next=8,Tm(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,vd(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),lm.apply(this,arguments)}function fm(e,t,n){var r=Fu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ia.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Fu(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=at(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&zv(n)}(r.eventManager,t),i.length&&r.sa.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function hm(e,t,n){return dm.apply(this,arguments)}function dm(){return dm=Ce(Be().mark((function e(t,n,r){var i,a,o,u,s,c;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Fu(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.aa.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new ic(_s.comparator)).insert(o,$s.newNoDocument(o,ns.min())),s=Ul().add(o),c=new ql(ns.min(),new Map,new uc(Xu),u,s),e.next=9,cm(i,c);case 9:i.ua=i.ua.remove(o),i.aa.delete(n),Sm(i),e.next=16;break;case 14:return e.next=16,Jd(i.localStore,n,!1).then((function(){return xm(i,n,r)})).catch(vd);case 16:case"end":return e.stop()}}),e)}))),dm.apply(this,arguments)}function pm(e,t){return vm.apply(this,arguments)}function vm(){return vm=Ce(Be().mark((function e(t,n){var r,i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fu(t),i=n.batch.batchId,e.prev=1,e.next=4,Kd(r.localStore,n);case 4:return a=e.sent,wm(r,i,null),bm(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Tm(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,vd(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),vm.apply(this,arguments)}function mm(e,t,n){return ym.apply(this,arguments)}function ym(){return ym=Ce(Be().mark((function e(t,n,r){var i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fu(t),e.prev=1,e.next=4,function(e,t){var n=Fu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return Lu(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,wm(i,n,r),bm(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Tm(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,vd(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),ym.apply(this,arguments)}function gm(e,t){return km.apply(this,arguments)}function km(){return km=Ce(Be().mark((function e(t,n){var r,i,a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zp((r=Fu(t)).remoteStore)||Pu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Fu(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.la.get(i)||[]).push(n),r.la.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Pv(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),km.apply(this,arguments)}function bm(e,t){(e.la.get(t)||[]).forEach((function(e){e.resolve()})),e.la.delete(t)}function wm(e,t,n){var r=Fu(e),i=r.ha[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ha[r.currentUser.toKey()]=i}}function xm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=at(e.ra.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ia.delete(a),n&&e.sa.wa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ra.delete(t),e.isPrimaryClient&&e.ca.vi(t).forEach((function(t){e.ca.containsKey(t)||Em(e,t)}))}function Em(e,t){e.oa.delete(t.path.canonicalString());var n=e.ua.get(t);null!==n&&($p(e.remoteStore,n),e.ua=e.ua.remove(t),e.aa.delete(n),Sm(e))}function _m(e,t,n){var r,i=at(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Qv?(e.ca.addReference(a.key,t),Im(e,a)):a instanceof Yv?(Pu("SyncEngine","Document no longer in limbo: "+a.key),e.ca.removeReference(a.key,t),e.ca.containsKey(a.key)||Em(e,a.key)):Mu()}}catch(o){i.e(o)}finally{i.f()}}function Im(e,t){var n=t.key,r=n.path.canonicalString();e.ua.get(n)||e.oa.has(r)||(Pu("SyncEngine","New document in limbo: "+n),e.oa.add(r),Sm(e))}function Sm(e){for(;e.oa.size>0&&e.ua.size<e.maxConcurrentLimboResolutions;){var t=e.oa.values().next().value;e.oa.delete(t);var n=new _s(us.fromString(t)),r=e.fa.next();e.aa.set(r,new Zv(n)),e.ua=e.ua.insert(n,r),Gp(e.remoteStore,new kh(Uc(Dc(n.path)),r,2,Qu.A))}}function Tm(e,t,n){return Cm.apply(this,arguments)}function Cm(){return Cm=Ce(Be().mark((function e(t,n,r){var i,a,o,u;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Fu(t),a=[],o=[],u=[],e.t0=i.ia.isEmpty(),e.t0){e.next=9;break}return i.ia.forEach((function(e,t){u.push(i._a(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Ud.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sa.zo(a),e.next=9,function(){var e=Ce(Be().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fu(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ih.forEach(n,(function(t){return ih.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ih.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),ch(e.t0)){e.next=10;break}throw e.t0;case 10:Pu("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=at(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.ui=r.ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Cm.apply(this,arguments)}function Nm(e,t){return Am.apply(this,arguments)}function Am(){return Am=Ce(Be().mark((function e(t,n){var r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Fu(t)).currentUser.isEqual(n)){e.next=11;break}return Pu("SyncEngine","User change. New user:",n.toKey()),e.next=5,zd(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.la.forEach((function(e){e.forEach((function(e){e.reject(new Uu(Vu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.la.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Tm(r,i.di);case 11:case"end":return e.stop()}}),e)}))),Am.apply(this,arguments)}function Pm(e,t){var n=Fu(e),r=n.aa.get(t);if(r&&r.na)return Ul().add(r.key);var i=Ul(),a=n.ra.get(t);if(!a)return i;var o,u=at(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ia.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function Om(e,t){return Rm.apply(this,arguments)}function Rm(){return Rm=Ce(Be().mark((function e(t,n){var r,i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fu(t),e.next=3,Zd(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ta(i),e.abrupt("return",(r.isPrimaryClient&&_m(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),Rm.apply(this,arguments)}function Dm(e,t){return Mm.apply(this,arguments)}function Mm(){return Mm=Ce(Be().mark((function e(t,n){var r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fu(t),e.abrupt("return",tp(r.localStore,n).then((function(e){return Tm(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Mm.apply(this,arguments)}function Lm(e,t,n,r){return Fm.apply(this,arguments)}function Fm(){return Fm=Ce(Be().mark((function e(t,n,r,i){var a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Fu(t),e.next=3,function(e,t){var n=Fu(e),r=Fu(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.fi.Ks(e,t):ih.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,lv(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(wm(a,n,i||null),bm(a,n),function(e,t){Fu(Fu(e).Bs)._n(t)}(a.localStore,n)):Mu();case 11:return e.next=13,Tm(a,o);case 13:e.next=16;break;case 15:Pu("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Fm.apply(this,arguments)}function Vm(e,t){return Um.apply(this,arguments)}function Um(){return Um=Ce(Be().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($m(r=Fu(t)),Qm(r),!0!==n||!0===r.da){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,jm(r,i.toArray());case 5:return a=e.sent,r.da=!0,e.next=9,Sv(r.remoteStore,!0);case 9:o=at(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Gp(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.da){e.next=25;break}return c=[],l=Promise.resolve(),r.ra.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return xm(r,t),Jd(r.localStore,t,!0)})),$p(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,jm(r,c);case 21:return function(e){var t=Fu(e);t.aa.forEach((function(e,n){$p(t.remoteStore,n)})),t.ca.Si(),t.aa=new Map,t.ua=new ic(_s.comparator)}(r),r.da=!1,e.next=25,Sv(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Um.apply(this,arguments)}function jm(e,t,n){return Bm.apply(this,arguments)}function Bm(){return Bm=Ce(Be().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Fu(t),a=[],o=[],u=at(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ra.get(c))||0===f.length){e.next=34;break}return e.next=11,Yd(i.localStore,Uc(f[0]));case 11:l=e.sent,h=at(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ia.get(p),e.next=20,Om(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,ep(i.localStore,c);case 36:return y=e.sent,e.next=39,Yd(i.localStore,y);case 39:return l=e.sent,e.next=42,rm(i,qm(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sa.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Bm.apply(this,arguments)}function qm(e){return Rc(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function zm(e){var t=Fu(e);return Fu(Fu(t.localStore).persistence).Fs()}function Wm(e,t,n,r){return Km.apply(this,arguments)}function Km(){return Km=Ce(Be().mark((function e(t,n,r,i){var a,o,u,s;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Fu(t)).da){e.next=3;break}return e.abrupt("return",void Pu("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ra.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,tp(a.localStore,Kc(o[0]));case 10:return u=e.sent,s=ql.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,Tm(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Jd(a.localStore,n,!0);case 17:return xm(a,n,i),e.abrupt("break",20);case 19:Mu();case 20:case"end":return e.stop()}}),e)}))),Km.apply(this,arguments)}function Hm(e,t,n){return Gm.apply(this,arguments)}function Gm(){return Gm=Ce(Be().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=$m(t)).da){e.next=45;break}a=at(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ra.has(u)){e.next=10;break}return Pu("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,ep(i.localStore,u);case 12:return s=e.sent,e.next=15,Yd(i.localStore,s);case 15:return c=e.sent,e.next=18,rm(i,qm(s),c.targetId,!1);case 18:Gp(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=at(r),e.prev=30,h=Be().mark((function e(){var t;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ra.has(t),!e.t0){e.next=5;break}return e.next=5,Jd(i.localStore,t,!1).then((function(){$p(i.remoteStore,t),xm(i,t)})).catch(vd);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Gm.apply(this,arguments)}function $m(e){var t=Fu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=cm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hm.bind(null,t),t.sa.zo=Bv.bind(null,t.eventManager),t.sa.wa=qv.bind(null,t.eventManager),t}function Qm(e){var t=Fu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mm.bind(null,t),t}function Ym(e,t,n){var r=Fu(e);(function(){var e=Ce(Be().mark((function e(t,n,r){var i,a,o,u,s;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Fu(e),r=rf(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress($v(i)),a=new Gv(i,t.localStore,n.M),e.next=15,n.ma();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.ma();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Tm(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=Fu(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Ru("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Jm=function(){function e(){Ne(this,e),this.synchronizeTabs=!1}return Pe(e,[{key:"initialize",value:function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=Mp(t.databaseInfo.databaseId),this.sharedClientState=this.ga(t),this.persistence=this.ya(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.pa(t),this.localStore=this.Ia(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pa",value:function(e){return null}},{key:"Ia",value:function(e){return qd(this.persistence,new jd,e.initialUser,this.M)}},{key:"ya",value:function(e){return new vp(yp.Yi,this.M)}},{key:"ga",value:function(e){return new Tp}},{key:"terminate",value:function(){var e=Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Xm=function(e){Re(n,e);var t=Ue(n);function n(e,r,i){var a;return Ne(this,n),(a=t.call(this)).Ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Pe(n,[{key:"initialize",value:function(){var e=Ce(Be().mark((function e(t){var r=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fr(De(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ta.initialize(this,t);case 4:return e.next=6,Qm(this.Ta.syncEngine);case 6:return e.next=8,lv(this.Ta.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ia",value:function(e){return qd(this.persistence,new jd,e.initialUser,this.M)}},{key:"pa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new kd(t,e.asyncQueue)}},{key:"ya",value:function(e){var t=Fd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?nd.withCacheSize(this.cacheSizeBytes):nd.DEFAULT;return new Dd(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Rp(),Dp(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"ga",value:function(e){return new Tp}}]),n}(Jm),Zm=function(e){Re(n,e);var t=Ue(n);function n(e,r){var i;return Ne(this,n),(i=t.call(this,e,r,!1)).Ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Pe(n,[{key:"initialize",value:function(){var e=Ce(Be().mark((function e(t){var r,i=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fr(De(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ta.syncEngine,e.t0=this.sharedClientState instanceof Sp,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={$r:Lm.bind(null,r),Br:Wm.bind(null,r),Lr:Hm.bind(null,r),Fs:zm.bind(null,r),Fr:Dm.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vm(i.Ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){var t=Rp();if(!Sp.vt(t))throw new Uu(Vu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Fd(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Sp(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Xm),ey=function(){function e(){Ne(this,e)}return Pe(e,[{key:"initialize",value:function(){var e=Ce(Be().mark((function e(t,n){var r=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return fm(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Nm.bind(null,this.syncEngine),e.next=12,Sv(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Lv}},{key:"createDatastore",value:function(e){var t,n=Mp(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Op(t));return function(e,t,n,r){return new jp(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return fm(o.syncEngine,e,0)},a=Np.vt()?new Np:new Cp,new qp(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new em(e,t,n,r,i,a);return o&&(u.da=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ce(Be().mark((function e(t){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fu(t),Pu("RemoteStore","RemoteStore shutting down."),n.wu.add(5),e.next=5,Kp(n);case 5:n.gu.shutdown(),n.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function ty(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ce(Be().mark((function r(){var i;return Be().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var ny=function(){function e(t){Ne(this,e),this.observer=t,this.muted=!1}return Pe(e,[{key:"next",value:function(e){this.observer.next&&this.Ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Aa",value:function(){this.muted=!0}},{key:"Ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),ry=function(){function e(t,n){var r=this;Ne(this,e),this.Ra=t,this.M=n,this.metadata=new ju,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then((function(e){e&&e.Mu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Pe(e,[{key:"close",value:function(){return this.Ra.cancel()}},{key:"getMetadata",value:function(){var e=Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ma",value:function(){var e=Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Pa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){var e=Ce(Be().mark((function e(){var t,n,r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Va();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ba.decode(t),r=Number(n),isNaN(r)&&this.va("length string (".concat(n,") is not valid number")),e.next=9,this.Sa(r);case 9:return i=e.sent,e.abrupt("return",new Kv(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Va",value:function(){var e=Ce(Be().mark((function e(){var t,n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Da()<0)){e.next=7;break}return e.next=3,this.Ca();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Da())<0&&this.va("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Sa",value:function(){var e=Ce(Be().mark((function e(t){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ca();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.va("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ba.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"va",value:function(e){throw this.Ra.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ca",value:function(){var e=Ce(Be().mark((function e(){var t,n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),iy=function(){function e(t){Ne(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Pe(e,[{key:"lookup",value:function(){var e=Ce(Be().mark((function e(t){var n,r=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Uu(Vu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ce(Be().mark((function e(t,n){var r,i,a,o,u,s;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fu(t),i=ff(r.M)+"/documents",a={documents:n.map((function(e){return uf(r.M,e)}))},e.next=5,r._o("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=vf(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Lu(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Sl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ce(Be().mark((function e(){var t,n=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=_s.fromPath(t);n.mutations.push(new Tl(r,n.precondition(r)))})),e.next=7,function(){var e=Ce(Be().mark((function e(t,n){var r,i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fu(t),i=ff(r.M)+"/documents",a={writes:n.map((function(e){return mf(r.M,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Mu();t=ns.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Uu(Vu.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?fl.updateTime(t):fl.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ns.min()))throw new Uu(Vu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fl.updateTime(t)}return fl.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),ay=function(){function e(t,n,r,i,a){Ne(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.xa=r.maxAttempts,this.No=new Lp(this.asyncQueue,"transaction_retry")}return Pe(e,[{key:"run",value:function(){this.xa-=1,this.Na()}},{key:"Na",value:function(){var e=this;this.No.Ro(Ce(Be().mark((function t(){var n,r;return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new iy(e.datastore),(r=e.ka(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ma(t)}))}))})).catch((function(t){e.Ma(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"ka",value:function(e){try{var t=this.updateFunction(e);return!ws(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ma",value:function(e){var t=this;this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Na(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Oa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Nl(t)}return!1}}]),e}(),oy=function(){function e(t,n,r,i){var a=this;Ne(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tu.UNAUTHENTICATED,this.clientId=Ju.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pu("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Pu("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Pe(e,[{key:"getConfiguration",value:function(){var e=Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Uu(Vu.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ju;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ce(Be().mark((function n(){var r;return Be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Pv(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function uy(e,t){return sy.apply(this,arguments)}function sy(){return sy=Ce(Be().mark((function e(t,n){var r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Pu("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,zd(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),sy.apply(this,arguments)}function cy(e,t){return ly.apply(this,arguments)}function ly(){return ly=Ce(Be().mark((function e(t,n){var r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,fy(t);case 3:return r=e.sent,Pu("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return _v(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return _v(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),ly.apply(this,arguments)}function fy(e){return hy.apply(this,arguments)}function hy(){return hy=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Pu("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,uy(t,new Jm);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),hy.apply(this,arguments)}function dy(e){return py.apply(this,arguments)}function py(){return py=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Pu("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,cy(t,new ey);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),py.apply(this,arguments)}function vy(e){return fy(e).then((function(e){return e.persistence}))}function my(e){return fy(e).then((function(e){return e.localStore}))}function yy(e){return dy(e).then((function(e){return e.remoteStore}))}function gy(e){return dy(e).then((function(e){return e.syncEngine}))}function ky(e){return by.apply(this,arguments)}function by(){return by=Ce(Be().mark((function e(t){var n,r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dy(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=tm.bind(null,n.syncEngine),r.onUnlisten=am.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),by.apply(this,arguments)}function wy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ju;return e.asyncQueue.enqueueAndForget(Ce(Be().mark((function i(){return Be().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new ny({next:function(a){t.enqueueAndForget((function(){return Uv(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Uu(Vu.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Uu(Vu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new Wv(Dc(n.path),a,{includeMetadataChanges:!0,ku:!0});return Fv(e,o)},i.next=3,ky(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function xy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ju;return e.asyncQueue.enqueueAndForget(Ce(Be().mark((function i(){return Be().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new ny({next:function(n){t.enqueueAndForget((function(){return Uv(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Uu(Vu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new Wv(n,a,{includeMetadataChanges:!0,ku:!0});return Fv(e,o)},i.next=3,ky(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Ey=new Map;function _y(e,t,n){if(!n)throw new Uu(Vu.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Iy(e,t,n,r){if(!0===t&&!0===r)throw new Uu(Vu.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Sy(e){if(!_s.isDocumentKey(e))throw new Uu(Vu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ty(e){if(_s.isDocumentKey(e))throw new Uu(Vu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Cy(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Mu()}function Ny(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Uu(Vu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Cy(e);throw new Uu(Vu.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Ay(e,t){if(t<=0)throw new Uu(Vu.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Py=function(){function e(t){var n;if(Ne(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Uu(Vu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Uu(Vu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Iy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Pe(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Oy=function(){function e(t,n,r){Ne(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Py({}),this._settingsFrozen=!1,t instanceof bs?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Uu(Vu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bs(e.options.projectId)}(t))}return Pe(e,[{key:"app",get:function(){if(!this._app)throw new Uu(Vu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Uu(Vu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Py(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new qu;switch(e.type){case"gapi":var t=e.client;return Lu(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Hu(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Uu(Vu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Ey.get(e);t&&(Pu("ComponentProvider","Removing Datastore"),Ey.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Ry(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=Ny(e,Oy))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Ru("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Tu.MOCK_USER;else{o=vt(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Uu(Vu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Tu(s)}e._authCredentials=new zu(new Bu(o,u))}}var Dy=function(){function e(t,n,r){Ne(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Pe(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Ly(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),My=function(){function e(t,n,r){Ne(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Pe(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Ly=function(e){Re(n,e);var t=Ue(n);function n(e,r,i){var a;return Ne(this,n),(a=t.call(this,e,r,Dc(i)))._path=i,a.type="collection",a}return Pe(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Dy(this.firestore,null,new _s(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(My);function Fy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Lt(e),_y("collection","path",t),e instanceof Oy){var a=us.fromString.apply(us,[t].concat(r));return Ty(a),new Ly(e,null,a)}if(!(e instanceof Dy||e instanceof Ly))throw new Uu(Vu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(us.fromString.apply(us,[t].concat(r)));return Ty(o),new Ly(e.firestore,null,o)}function Vy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Lt(e),1===arguments.length&&(t=Ju.R()),_y("doc","path",t),e instanceof Oy){var a=us.fromString.apply(us,[t].concat(r));return Sy(a),new Dy(e,null,new _s(a))}if(!(e instanceof Dy||e instanceof Ly))throw new Uu(Vu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(us.fromString.apply(us,[t].concat(r)));return Sy(o),new Dy(e.firestore,e instanceof Ly?e.converter:null,new _s(o))}function Uy(e,t){return e=Lt(e),t=Lt(t),(e instanceof Dy||e instanceof Ly)&&(t instanceof Dy||t instanceof Ly)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function jy(e,t){return e=Lt(e),t=Lt(t),e instanceof My&&t instanceof My&&e.firestore===t.firestore&&Bc(e._query,t._query)&&e.converter===t.converter}var By=function(){function e(){var t=this;Ne(this,e),this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Lp(this,"async_queue_retry"),this.Qa=function(){var e=Dp();e&&Pu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=Dp();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Qa)}return Pe(e,[{key:"isShuttingDown",get:function(){return this.Ba}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ja(),this.Wa(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;var t=Dp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.ja(),this.Ba)return new Promise((function(){}));var n=new ju;return this.Wa((function(){return t.Ba&&t.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.$a.push(e),t.za()}))}},{key:"za",value:function(){var e=Ce(Be().mark((function e(){var t=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.$a.length){e.next=14;break}return e.prev=1,e.next=4,this.$a[0]();case 4:this.$a.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),ch(e.t0)){e.next=12;break}throw e.t0;case 12:Pu("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.$a.length>0&&this.No.Ro((function(){return t.za()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t=this,n=this.Fa.then((function(){return t.qa=!0,e().catch((function(e){t.Ua=e,t.qa=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ou("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.qa=!1,e}))}));return this.Fa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ja(),this.Ga.indexOf(e)>-1&&(t=0);var i=Av.createAndSchedule(this,e,t,n,(function(e){return r.Ha(e)}));return this.La.push(i),i}},{key:"ja",value:function(){this.Ua&&Mu()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ja",value:function(){var e=Ce(Be().mark((function e(){var t;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Fa,e.next=3,t;case 3:if(t!==this.Fa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ya",value:function(e){var t,n=at(this.La);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Xa",value:function(e){var t=this;return this.Ja().then((function(){t.La.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=at(t.La);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ja()}))}},{key:"Za",value:function(e){this.Ga.push(e)}},{key:"Ha",value:function(e){var t=this.La.indexOf(e);this.La.splice(t,1)}}]),e}();function qy(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=at(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var zy=function(){function e(){Ne(this,e),this._progressObserver={},this._taskCompletionResolver=new ju,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Pe(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Wy=function(e){Re(n,e);var t=Ue(n);function n(e,r,i){var a;return Ne(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new By,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Pe(n,[{key:"_terminate",value:function(){return this._firestoreClient||Hy(this),this._firestoreClient.terminate()}}]),n}(Oy);function Ky(e){return e._firestoreClient||Hy(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Hy(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new ks(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new oy(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Gy(e,t,n){var r=new ju;return e.asyncQueue.enqueue(Ce(Be().mark((function i(){return Be().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,uy(e,n);case 3:return i.next=5,cy(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Vu.FAILED_PRECONDITION||e.code===Vu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function $y(e){return function(e){return e.asyncQueue.enqueue(Ce(Be().mark((function t(){var n,r;return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vy(e);case 2:return n=t.sent,t.next=5,yy(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Fu(e);return t.wu.delete(0),zp(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Ky(e=Ny(e,Wy)))}function Qy(e){return function(e){return e.asyncQueue.enqueue(Ce(Be().mark((function t(){var n,r;return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vy(e);case 2:return n=t.sent,t.next=5,yy(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ce(Be().mark((function e(t){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Fu(t)).wu.add(0),e.next=4,Kp(n);case 4:n.yu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Ky(e=Ny(e,Wy)))}function Yy(e,t){var n=Ky(e=Ny(e,Wy)),r=new zy;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new ry(e,t)}(function(e,t){if(e instanceof Uint8Array)return ty(e,t);if(e instanceof ArrayBuffer)return ty(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Mp(t));e.asyncQueue.enqueueAndForget(Ce(Be().mark((function t(){return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ym,t.next=3,gy(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Jy(e,t){return function(e,t){return e.asyncQueue.enqueue(Ce(Be().mark((function n(){return Be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Fu(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,my(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Ky(e=Ny(e,Wy)),t).then((function(t){return t?new My(e,null,t.query):null}))}function Xy(e){if(e._initialized||e._terminated)throw new Uu(Vu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Zy=function(){function e(){Ne(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Uu(Vu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cs(n)}return Pe(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var eg=function(){function e(t){Ne(this,e),this._byteString=t}return Pe(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(fs.fromBase64String(t))}catch(t){throw new Uu(Vu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(fs.fromUint8Array(t))}}]),e}(),tg=Pe((function e(t){Ne(this,e),this._methodName=t})),ng=function(){function e(t,n){if(Ne(this,e),!isFinite(t)||t<-90||t>90)throw new Uu(Vu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Uu(Vu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Pe(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Xu(this._lat,e._lat)||Xu(this._long,e._long)}}]),e}(),rg=/^__.*__$/,ig=function(){function e(t,n,r){Ne(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Pe(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new bl(e,this.data,this.fieldMask,t,this.fieldTransforms):new kl(e,this.data,t,this.fieldTransforms)}}]),e}(),ag=function(){function e(t,n,r){Ne(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Pe(e,[{key:"toMutation",value:function(e,t){return new bl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function og(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mu()}}var ug=function(){function e(t,n,r,i,a,o){Ne(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.tc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Pe(e,[{key:"path",get:function(){return this.settings.path}},{key:"ec",get:function(){return this.settings.ec}},{key:"nc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.rc(e),r}},{key:"oc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.tc(),r}},{key:"uc",value:function(e){return this.nc({path:void 0,ic:!0})}},{key:"ac",value:function(e){return Tg(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"tc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.rc(this.path.get(e))}},{key:"rc",value:function(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(og(this.ec)&&rg.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}]),e}(),sg=function(){function e(t,n,r){Ne(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||Mp(t)}return Pe(e,[{key:"lc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new ug({ec:e,methodName:t,hc:n,path:cs.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function cg(e){var t=e._freezeSettings(),n=Mp(e._databaseId);return new sg(e._databaseId,!!t.ignoreUndefinedProperties,n)}function lg(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.lc(a.merge||a.mergeFields?2:0,t,n,i);Eg("Data must be an object, but it was:",o,r);var u,s,c=wg(r,o);if(a.merge)u=new ls(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=at(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=_g(t,d,n);if(!o.contains(p))throw new Uu(Vu.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));Cg(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new ls(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new ig(new Hs(c),u,s)}var fg=function(e){Re(n,e);var t=Ue(n);function n(){return Ne(this,n),t.apply(this,arguments)}return Pe(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ec)throw 1===e.ec?e.ac("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ac("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(tg);function hg(e,t,n){return new ug({ec:3,hc:t.settings.hc,methodName:e._methodName,ic:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var dg=function(e){Re(n,e);var t=Ue(n);function n(){return Ne(this,n),t.apply(this,arguments)}return Pe(n,[{key:"_toFieldTransform",value:function(e){return new cl(e.path,new tl)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(tg),pg=function(e){Re(n,e);var t=Ue(n);function n(e,r){var i;return Ne(this,n),(i=t.call(this,e)).fc=r,i}return Pe(n,[{key:"_toFieldTransform",value:function(e){var t=hg(this,e,!0),n=this.fc.map((function(e){return bg(e,t)})),r=new nl(n);return new cl(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tg),vg=function(e){Re(n,e);var t=Ue(n);function n(e,r){var i;return Ne(this,n),(i=t.call(this,e)).fc=r,i}return Pe(n,[{key:"_toFieldTransform",value:function(e){var t=hg(this,e,!0),n=this.fc.map((function(e){return bg(e,t)})),r=new il(n);return new cl(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tg),mg=function(e){Re(n,e);var t=Ue(n);function n(e,r){var i;return Ne(this,n),(i=t.call(this,e)).dc=r,i}return Pe(n,[{key:"_toFieldTransform",value:function(e){var t=new ol(e.M,Yc(e.M,this.dc));return new cl(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tg);function yg(e,t,n,r){var i=e.lc(1,t,n);Eg("Data must be an object, but it was:",i,r);var a=[],o=Hs.empty();is(r,(function(e,r){var u=Sg(t,e,n);r=Lt(r);var s=i.oc(u);if(r instanceof fg)a.push(u);else{var c=bg(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new ls(a);return new ag(o,u,i.fieldTransforms)}function gg(e,t,n,r,i,a){var o=e.lc(1,t,n),u=[_g(t,r,n)],s=[i];if(a.length%2!=0)throw new Uu(Vu.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(_g(t,a[c])),s.push(a[c+1]);for(var l=[],f=Hs.empty(),h=u.length-1;h>=0;--h)if(!Cg(l,u[h])){var d=u[h],p=s[h];p=Lt(p);var v=o.oc(d);if(p instanceof fg)l.push(d);else{var m=bg(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new ls(l);return new ag(f,y,o.fieldTransforms)}function kg(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return bg(n,e.lc(r?4:3,t))}function bg(e,t){if(xg(e=Lt(e)))return Eg("Unsupported field value:",t,e),wg(e,t);if(e instanceof tg)return function(e,t){if(!og(t.ec))throw t.ac("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ac("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=at(e);try{for(a.s();!(n=a.n()).done;){var o=bg(n.value,t.uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Lt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Yc(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ts.fromDate(e);return{timestampValue:ef(t.M,n)}}if(e instanceof ts){var r=new ts(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ef(t.M,r)}}if(e instanceof ng)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof eg)return{bytesValue:tf(t.M,e._byteString)};if(e instanceof Dy){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ac("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:af(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac("Unsupported field value: ".concat(Cy(e)))}(e,t)}function wg(e,t){var n={};return as(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):is(e,(function(e,r){var i=bg(r,t.sc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function xg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ts||e instanceof ng||e instanceof eg||e instanceof Dy||e instanceof tg)}function Eg(e,t,n){if(!xg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Cy(n);throw"an object"===r?t.ac(e+" a custom object"):t.ac(e+" "+r)}}function _g(e,t,n){if((t=Lt(t))instanceof Zy)return t._internalPath;if("string"==typeof t)return Sg(e,t);throw Tg("Field path arguments must be of type string or ",e,!1,void 0,n)}var Ig=new RegExp("[~\\*/\\[\\]]");function Sg(e,t,n){if(t.search(Ig)>=0)throw Tg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ot(Zy,Vt(t.split(".")))._internalPath}catch(r){throw Tg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Tg(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Uu(Vu.INVALID_ARGUMENT,u+e+s)}function Cg(e,t){return e.some((function(e){return e.isEqual(t)}))}var Ng=function(){function e(t,n,r,i,a){Ne(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Pe(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Dy(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Ag(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Pg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Ag=function(e){Re(n,e);var t=Ue(n);function n(){return Ne(this,n),t.apply(this,arguments)}return Pe(n,[{key:"data",value:function(){return fr(De(n.prototype),"data",this).call(this)}}]),n}(Ng);function Pg(e,t){return"string"==typeof t?Sg(e,t):t instanceof Zy?t._internalPath:t._delegate._internalPath}var Og=function(){function e(t,n){Ne(this,e),this.hasPendingWrites=t,this.fromCache=n}return Pe(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Rg=function(e){Re(n,e);var t=Ue(n);function n(e,r,i,a,o,u){var s;return Ne(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Pe(n,[{key:"exists",value:function(){return fr(De(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Dg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Pg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(Ng),Dg=function(e){Re(n,e);var t=Ue(n);function n(){return Ne(this,n),t.apply(this,arguments)}return Pe(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fr(De(n.prototype),"data",this).call(this,e)}}]),n}(Rg),Mg=function(){function e(t,n,r,i){Ne(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Og(i.hasPendingWrites,i.fromCache),this.query=r}return Pe(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Dg(n._firestore,n._userDataWriter,r.key,r,new Og(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Uu(Vu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Dg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Og(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Dg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Og(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Lg(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Lg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mu()}}function Fg(e,t){return e instanceof Rg&&t instanceof Rg?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Mg&&t instanceof Mg&&e._firestore===t._firestore&&jy(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Vg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Uu(Vu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ug=Pe((function e(){Ne(this,e)}));function jg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Bg=function(e){Re(n,e);var t=Ue(n);function n(e,r,i){var a;return Ne(this,n),(a=t.call(this))._c=e,a.wc=r,a.mc=i,a.type="where",a}return Pe(n,[{key:"_apply",value:function(e){var t=cg(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Uu(Vu.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Xg(o,a);var s,c=[],l=at(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(Jg(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=Jg(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Xg(o,a),u=kg(n,"where",o,"in"===a||"not-in"===a);var h=gc.create(i,a,u);return function(e,t){if(t.S()){var n=Lc(e);if(null!==n&&!n.isEqual(t.field))throw new Uu(Vu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Mc(e);null!==r&&Zg(e,t.field,r)}var i=function(e,t){var n,r=at(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Uu(Vu.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Uu(Vu.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new My(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Oc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Ug);var qg=function(e){Re(n,e);var t=Ue(n);function n(e,r){var i;return Ne(this,n),(i=t.call(this))._c=e,i.gc=r,i.type="orderBy",i}return Pe(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Uu(Vu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Uu(Vu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Cc(t,n);return function(e,t){if(null===Mc(e)){var n=Lc(e);null!==n&&Zg(e,n,t.field)}}(e,r),r}(e._query,this._c,this.gc);return new My(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Oc(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Ug);var zg=function(e){Re(n,e);var t=Ue(n);function n(e,r,i){var a;return Ne(this,n),(a=t.call(this)).type=e,a.yc=r,a.Ic=i,a}return Pe(n,[{key:"_apply",value:function(e){return new My(e.firestore,e.converter,jc(e._query,this.yc,this.Ic))}}]),n}(Ug);var Wg=function(e){Re(n,e);var t=Ue(n);function n(e,r,i){var a;return Ne(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return Pe(n,[{key:"_apply",value:function(e){var t=Yg(e,this.type,this.Tc,this.Ec);return new My(e.firestore,e.converter,function(e,t){return new Oc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Ug);function Kg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Wg("startAt",t,!0)}function Hg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Wg("startAfter",t,!1)}var Gg=function(e){Re(n,e);var t=Ue(n);function n(e,r,i){var a;return Ne(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return Pe(n,[{key:"_apply",value:function(e){var t=Yg(e,this.type,this.Tc,this.Ec);return new My(e.firestore,e.converter,function(e,t){return new Oc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Ug);function $g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Gg("endBefore",t,!1)}function Qg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Gg("endAt",t,!0)}function Yg(e,t,n,r){if(n[0]=Lt(n[0]),n[0]instanceof Ng)return function(e,t,n,r,i){if(!r)throw new Uu(Vu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=at(Vc(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Ds(t,r.key));else{var c=r.data.field(s.field);if(ms(c))throw new Uu(Vu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Uu(Vu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Tc(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=cg(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Uu(Vu.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Uu(Vu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Fc(e)&&-1!==c.indexOf("/"))throw new Uu(Vu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(us.fromString(c));if(!_s.isDocumentKey(l))throw new Uu(Vu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new _s(l);u.push(Ds(t,f))}else{var h=kg(n,r,c);u.push(h)}}return new Tc(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Jg(e,t,n){if("string"==typeof(n=Lt(n))){if(""===n)throw new Uu(Vu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fc(t)&&-1!==n.indexOf("/"))throw new Uu(Vu.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(us.fromString(n));if(!_s.isDocumentKey(r))throw new Uu(Vu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Ds(e,new _s(r))}if(n instanceof Dy)return Ds(e,n._key);throw new Uu(Vu.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Cy(n),"."))}function Xg(e,t){if(!Array.isArray(e)||0===e.length)throw new Uu(Vu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Uu(Vu.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Zg(e,t,n){if(!n.isEqual(t))throw new Uu(Vu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var ek={maxAttempts:5},tk=function(){function e(){Ne(this,e)}return Pe(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ps(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Mu()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return is(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new ng(ps(e.latitude),ps(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=ys(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(gs(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=ds(e);return new ts(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=us.fromString(e);Lu(Nf(n));var r=new bs(n.get(1),n.get(3)),i=new _s(n.popFirst(5));return r.isEqual(t)||Ou("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function nk(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var rk=function(e){Re(n,e);var t=Ue(n);function n(e){var r;return Ne(this,n),(r=t.call(this)).firestore=e,r}return Pe(n,[{key:"convertBytes",value:function(e){return new eg(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dy(this.firestore,null,t)}}]),n}(tk),ik=function(){function e(t,n){Ne(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=cg(t)}return Pe(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=ak(e,this._firestore),i=nk(r.converter,t,n),a=lg(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,fl.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=ak(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Lt(t))||t instanceof Zy?gg(this._dataReader,"WriteBatch.update",i._key,t,n,o):yg(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,fl.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=ak(e,this._firestore);return this._mutations=this._mutations.concat(new Sl(t._key,fl.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Uu(Vu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function ak(e,t){if((e=Lt(e)).firestore!==t)throw new Uu(Vu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var ok=function(e){Re(n,e);var t=Ue(n);function n(e){var r;return Ne(this,n),(r=t.call(this)).firestore=e,r}return Pe(n,[{key:"convertBytes",value:function(e){return new eg(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dy(this.firestore,null,t)}}]),n}(tk);function uk(e){e=Ny(e,Dy);var t=Ny(e.firestore,Wy),n=Ky(t),r=new ok(t);return function(e,t){var n=new ju;return e.asyncQueue.enqueueAndForget(Ce(Be().mark((function r(){return Be().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ce(Be().mark((function e(t,n,r){var i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Fu(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.fi.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Uu(Vu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=Pv(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,my(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Rg(t,r,e._key,n,new Og(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function sk(e){e=Ny(e,My);var t=Ny(e.firestore,Wy),n=Ky(t),r=new ok(t);return function(e,t){var n=new ju;return e.asyncQueue.enqueueAndForget(Ce(Be().mark((function r(){return Be().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ce(Be().mark((function e(t,n,r){var i,a,o,u,s;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zd(t,n,!0);case 3:i=e.sent,a=new Jv(n,i._i),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Pv(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,my(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Mg(t,r,e,n)}))}function ck(e,t,n){e=Ny(e,Dy);var r=Ny(e.firestore,Wy),i=nk(e.converter,t,n);return dk(r,[lg(cg(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,fl.none())])}function lk(e,t,n){e=Ny(e,Dy);for(var r=Ny(e.firestore,Wy),i=cg(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return dk(r,[("string"==typeof(t=Lt(t))||t instanceof Zy?gg(i,"updateDoc",e._key,t,n,o):yg(i,"updateDoc",e._key,t)).toMutation(e._key,fl.exists(!0))])}function fk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Lt(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||qy(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(qy(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof Dy)l=Ny(e.firestore,Wy),f=Dc(e._key.path),c={next:function(t){n[s]&&n[s](pk(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=Ny(e,My);l=Ny(p.firestore,Wy),f=p._query;var v=new ok(l);c={next:function(e){n[s]&&n[s](new Mg(l,v,p,e))},error:n[s+1],complete:n[s+2]},Vg(e._query)}return function(e,t,n,r){var i=new ny(r),a=new Wv(t,i,n);return e.asyncQueue.enqueueAndForget(Ce(Be().mark((function t(){return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Fv,t.next=3,ky(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Aa(),e.asyncQueue.enqueueAndForget(Ce(Be().mark((function t(){return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Uv,t.next=3,ky(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Ky(l),f,h,c)}function hk(e,t){return function(e,t){var n=new ny(t);return e.asyncQueue.enqueueAndForget(Ce(Be().mark((function t(){return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Fu(e).bu.add(t),t.next()},t.next=3,ky(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Aa(),e.asyncQueue.enqueueAndForget(Ce(Be().mark((function t(){return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Fu(e).bu.delete(t)},t.next=3,ky(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Ky(e=Ny(e,Wy)),qy(t)?t:{next:t})}function dk(e,t){return function(e,t){var n=new ju;return e.asyncQueue.enqueueAndForget(Ce(Be().mark((function r(){return Be().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=um,r.next=3,gy(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Ky(e),t)}function pk(e,t,n){var r=n.docs.get(t._key),i=new ok(e);return new Rg(e,i,t._key,r,new Og(n.hasPendingWrites,n.fromCache),t.converter)}var vk=function(e){Re(n,e);var t=Ue(n);function n(e,r){var i;return Ne(this,n),(i=t.call(this,e,r))._firestore=e,i}return Pe(n,[{key:"get",value:function(e){var t=this,r=ak(e,this._firestore),i=new ok(this._firestore);return fr(De(n.prototype),"get",this).call(this,e).then((function(e){return new Rg(t._firestore,i,r._key,e._document,new Og(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Ne(this,e),this._firestore=t,this._transaction=n,this._dataReader=cg(t)}return Pe(e,[{key:"get",value:function(e){var t=this,n=ak(e,this._firestore),r=new rk(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Mu();var i=e[0];if(i.isFoundDocument())return new Ng(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Ng(t._firestore,r,n._key,null,n.converter);throw Mu()}))}},{key:"set",value:function(e,t,n){var r=ak(e,this._firestore),i=nk(r.converter,t,n),a=lg(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=ak(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Lt(t))||t instanceof Zy?gg(this._dataReader,"Transaction.update",i._key,t,n,o):yg(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=ak(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function mk(e,t,n){e=Ny(e,Wy);var r=Object.assign(Object.assign({},ek),n);return function(e){if(e.maxAttempts<1)throw new Uu(Vu.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new ju;return e.asyncQueue.enqueueAndForget(Ce(Be().mark((function i(){var a;return Be().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return dy(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new ay(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(Ky(e),(function(n){return t(new vk(e,n))}),r)}function yk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pg("arrayUnion",t)}function gk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new vg("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Cu=e}(Rn),Sn(new Ut("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new Wy(i,new Wu(e.getProvider("auth-internal")),new $u(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Un(Su,"3.4.9",e),Un(Su,"3.4.9","esm2017")}();function kk(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Uu("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function bk(){if("undefined"===typeof Uint8Array)throw new Uu("unimplemented","Uint8Arrays are not available in this environment.")}function wk(){if("undefined"==typeof atob)throw new Uu("unimplemented","Blobs are unavailable in Firestore in this environment.")}var xk=function(){function e(t){Ne(this,e),this._delegate=t}return Pe(e,[{key:"toBase64",value:function(){return wk(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return bk(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return wk(),new e(eg.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return bk(),new e(eg.fromUint8Array(t))}}]),e}();function Ek(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=at(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var _k=function(){function e(){Ne(this,e)}return Pe(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Xy(e=Ny(e,Wy));var n=Ky(e),r=e._freezeSettings(),i=new ey;return Gy(n,i,new Xm(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Xy(e=Ny(e,Wy));var t=Ky(e),n=e._freezeSettings(),r=new ey;return Gy(t,r,new Zm(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Uu(Vu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new ju;return e._queue.enqueueAndForgetEvenWhileRestricted(Ce(Be().mark((function n(){return Be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ce(Be().mark((function e(t){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oh.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,oh.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Fd(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),Ik=function(){function e(t,n,r){var i=this;Ne(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof bs||(this._appCompat=t)}return Pe(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Ru("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ry(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return $y(this._delegate)}},{key:"disableNetwork",value:function(){return Qy(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&Iy("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new ju;return e.asyncQueue.enqueueAndForget(Ce(Be().mark((function n(){return Be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=gm,n.next=3,gy(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Ky(e=Ny(e,Wy)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return hk(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Uu("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new Uk(this,Fy(this._delegate,e))}catch(t){throw Pk(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new Ak(this,Vy(this._delegate,e))}catch(t){throw Pk(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new Lk(this,function(e,t){if(e=Ny(e,Oy),_y("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Uu(Vu.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new My(e,null,function(e){return new Oc(us.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Pk(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return mk(this._delegate,(function(n){return e(new Tk(t,n))}))}},{key:"batch",value:function(){var e=this;return Ky(this._delegate),new Ck(new ik(this._delegate,(function(t){return dk(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Yy(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Jy(this._delegate,e).then((function(e){return e?new Lk(t,e):null}))}}]),e}(),Sk=function(e){Re(n,e);var t=Ue(n);function n(e){var r;return Ne(this,n),(r=t.call(this)).firestore=e,r}return Pe(n,[{key:"convertBytes",value:function(e){return new xk(new eg(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Ak.forKey(t,this.firestore,null)}}]),n}(tk);var Tk=function(){function e(t,n){Ne(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new Sk(t)}return Pe(e,[{key:"get",value:function(e){var t=this,n=jk(e);return this._delegate.get(n).then((function(e){return new Dk(t._firestore,new Rg(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=jk(e);return n?(kk("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=jk(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=jk(e);return this._delegate.delete(t),this}}]),e}(),Ck=function(){function e(t){Ne(this,e),this._delegate=t}return Pe(e,[{key:"set",value:function(e,t,n){var r=jk(e);return n?(kk("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=jk(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=jk(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),Nk=function(){function e(t,n,r){Ne(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Pe(e,[{key:"fromFirestore",value:function(e,t){var n=new Dg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Mk(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new Sk(t),n),i.set(n,a)),a}}]),e}();Nk.INSTANCES=new WeakMap;var Ak=function(){function e(t,n){Ne(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Sk(t)}return Pe(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new Uk(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new Uk(this.firestore,Fy(this._delegate,e))}catch(t){throw Pk(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Lt(e))instanceof Dy&&Uy(this._delegate,e)}},{key:"set",value:function(e,t){t=kk("DocumentReference.set",t);try{return t?ck(this._delegate,e,t):ck(this._delegate,e)}catch(n){throw Pk(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?lk(this._delegate,e):lk.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw Pk(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return dk(Ny(e.firestore,Wy),[new Sl(e._key,fl.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Ok(n),a=Rk(n,(function(t){return new Dk(e.firestore,new Rg(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return fk(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?uk(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Ny(e,Dy);var t=Ny(e.firestore,Wy);return wy(Ky(t),e._key,{source:"server"}).then((function(n){return pk(t,e,n)}))}(this._delegate):function(e){e=Ny(e,Dy);var t=Ny(e.firestore,Wy);return wy(Ky(t),e._key).then((function(n){return pk(t,e,n)}))}(this._delegate),t.then((function(e){return new Dk(n.firestore,new Rg(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Nk.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Uu("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new Dy(n._delegate,r,new _s(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new Dy(n._delegate,r,t))}}]),e}();function Pk(e,t,n){return e.message=e.message.replace(t,n),e}function Ok(e){var t,n=at(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!Ek(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function Rk(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=Ek(e[0])?e[0]:Ek(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Dk=function(){function e(t,n){Ne(this,e),this._firestore=t,this._delegate=n}return Pe(e,[{key:"ref",get:function(){return new Ak(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Fg(this._delegate,e._delegate)}}]),e}(),Mk=function(e){Re(n,e);var t=Ue(n);function n(){return Ne(this,n),t.apply(this,arguments)}return Pe(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Mu()}(void 0!==t),t}}]),n}(Dk),Lk=function(){function e(t,n){Ne(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new Sk(t)}return Pe(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,jg(this._delegate,function(e,t,n){var r=t,i=Pg("where",e);return new Bg(i,r,n)}(t,n,r)))}catch(i){throw Pk(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,jg(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Pg("orderBy",e);return new qg(n,t)}(t,n)))}catch(r){throw Pk(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,jg(this._delegate,function(e){return Ay("limit",e),new zg("limit",e,"F")}(t)))}catch(n){throw Pk(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,jg(this._delegate,function(e){return Ay("limitToLast",e),new zg("limitToLast",e,"L")}(t)))}catch(n){throw Pk(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,jg(this._delegate,Kg.apply(void 0,arguments)))}catch(t){throw Pk(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,jg(this._delegate,Hg.apply(void 0,arguments)))}catch(t){throw Pk(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,jg(this._delegate,$g.apply(void 0,arguments)))}catch(t){throw Pk(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,jg(this._delegate,Qg.apply(void 0,arguments)))}catch(t){throw Pk(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return jy(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?sk(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=Ny(e,My);var t=Ny(e.firestore,Wy),n=Ky(t),r=new ok(t);return xy(n,e._query,{source:"server"}).then((function(n){return new Mg(t,r,e,n)}))}(this._delegate):function(e){e=Ny(e,My);var t=Ny(e.firestore,Wy),n=Ky(t),r=new ok(t);return Vg(e._query),xy(n,e._query).then((function(n){return new Mg(t,r,e,n)}))}(this._delegate),t.then((function(e){return new Vk(n.firestore,new Mg(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Ok(n),a=Rk(n,(function(t){return new Vk(e.firestore,new Mg(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return fk(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(Nk.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),Fk=function(){function e(t,n){Ne(this,e),this._firestore=t,this._delegate=n}return Pe(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new Mk(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),Vk=function(){function e(t,n){Ne(this,e),this._firestore=t,this._delegate=n}return Pe(e,[{key:"query",get:function(){return new Lk(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new Mk(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Fk(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Mk(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Fg(this._delegate,e._delegate)}}]),e}(),Uk=function(e){Re(n,e);var t=Ue(n);function n(e,r){var i;return Ne(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Pe(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new Ak(this.firestore,e):null}},{key:"doc",value:function(e){try{return new Ak(this.firestore,void 0===e?Vy(this._delegate):Vy(this._delegate,e))}catch(t){throw Pk(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=Ny(e.firestore,Wy),r=Vy(e),i=nk(e.converter,t);return dk(n,[lg(cg(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,fl.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Ak(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Uy(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(Nk.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(Lk);function jk(e){return Ny(e,Dy)}var Bk,qk=function(){function e(){Ne(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=ot(Zy,n)}return Pe(e,[{key:"isEqual",value:function(e){return(e=Lt(e))instanceof Zy&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(cs.keyField().canonicalString())}}]),e}(),zk=function(){function e(t){Ne(this,e),this._delegate=t}return Pe(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new dg("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new fg("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=yk.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=gk.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new mg("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),Wk={Firestore:Ik,GeoPoint:ng,Timestamp:ts,Blob:xk,Transaction:Tk,WriteBatch:Ck,DocumentReference:Ak,DocumentSnapshot:Dk,Query:Lk,QueryDocumentSnapshot:Mk,QuerySnapshot:Vk,CollectionReference:Uk,FieldPath:qk,FieldValue:zk,setLogLevel:function(e){!function(e){Nu.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};function Kk(e){return o(e)||Ft(e)||s(e)||c()}(function(e,t){e.INTERNAL.registerComponent(new Ut("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},Wk)))})(Bk=cr,(function(e,t){return new Ik(e,t,new _k)})),Bk.registerVersion("@firebase/firestore-compat","0.1.18");function Hk(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Gk;Object.create;var $k="facebook.com",Qk="github.com",Yk="google.com",Jk="password",Xk="twitter.com",Zk="EMAIL_SIGNIN",eb="PASSWORD_RESET",tb="RECOVER_EMAIL",nb="REVERT_SECOND_FACTOR_ADDITION",rb="VERIFY_AND_CHANGE_EMAIL",ib="VERIFY_EMAIL";function ab(){return ce({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ob=function(){var e;return ce(e={},"admin-restricted-operation","This operation is restricted to administrators only."),ce(e,"argument-error",""),ce(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),ce(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),ce(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),ce(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),ce(e,"cordova-not-ready","Cordova framework is not ready."),ce(e,"cors-unsupported","This browser is not supported."),ce(e,"credential-already-in-use","This credential is already associated with a different user account."),ce(e,"custom-token-mismatch","The custom token corresponds to a different audience."),ce(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),ce(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),ce(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),ce(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),ce(e,"email-already-in-use","The email address is already in use by another account."),ce(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),ce(e,"expired-action-code","The action code has expired."),ce(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),ce(e,"internal-error","An internal AuthError has occurred."),ce(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),ce(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),ce(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),ce(e,"invalid-auth-event","An internal AuthError has occurred."),ce(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),ce(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),ce(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),ce(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),ce(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),ce(e,"invalid-email","The email address is badly formatted."),ce(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),ce(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),ce(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),ce(e,"invalid-credential","The supplied auth credential is malformed or has expired."),ce(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),ce(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),ce(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),ce(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),ce(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),ce(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),ce(e,"wrong-password","The password is invalid or the user does not have a password."),ce(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),ce(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),ce(e,"invalid-provider-id","The specified provider ID is invalid."),ce(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),ce(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),ce(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),ce(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),ce(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),ce(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),ce(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),ce(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),ce(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),ce(e,"missing-continue-uri","A continue URL must be provided in the request."),ce(e,"missing-iframe-start","An internal AuthError has occurred."),ce(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),ce(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),ce(e,"missing-multi-factor-info","No second factor identifier is provided."),ce(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),ce(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),ce(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),ce(e,"app-deleted","This instance of FirebaseApp has been deleted."),ce(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),ce(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),ce(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),ce(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),ce(e,"no-auth-event","An internal AuthError has occurred."),ce(e,"no-such-provider","User was not linked to an account with the given provider."),ce(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),ce(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),ce(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),ce(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),ce(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),ce(e,"provider-already-linked","User can only be linked to one identity for the given provider."),ce(e,"quota-exceeded","The project's quota for this operation has been exceeded."),ce(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),ce(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),ce(e,"rejected-credential","The request contains malformed or mismatching credentials."),ce(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),ce(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),ce(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),ce(e,"timeout","The operation has timed out."),ce(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),ce(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),ce(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),ce(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),ce(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),ce(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),ce(e,"unverified-email","The operation requires a verified email."),ce(e,"user-cancelled","The user did not grant your application the permissions it requested."),ce(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),ce(e,"user-disabled","The user account has been disabled by an administrator."),ce(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),ce(e,"user-signed-out",""),ce(e,"weak-password","The password must be 6 characters long or more."),ce(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),ce(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},ub=ab,sb=new _t("auth","Firebase",ab()),cb=new Yt("@firebase/auth");function lb(e){if(cb.logLevel<=zt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];cb.error.apply(cb,["Auth (".concat(Rn,"): ").concat(e)].concat(n))}}function fb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw vb.apply(void 0,[e].concat(n))}function hb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return vb.apply(void 0,[e].concat(n))}function db(e,t,n){var r=Object.assign(Object.assign({},ub()),ce({},t,n));return new _t("auth","Firebase",r).create(t,{appName:e.name})}function pb(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&fb(e,"argument-error"),db(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function vb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Vt(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Vt(o)))}return sb.create.apply(sb,[e].concat(n))}function mb(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw vb.apply(void 0,[t].concat(r))}}function yb(e){var t="INTERNAL ASSERTION FAILED: "+e;throw lb(t),new Error(t)}function gb(e,t){e||yb(t)}var kb=new Map;function bb(e){gb(e instanceof Function,"Expected a class definition");var t=kb.get(e);return t?(gb(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,kb.set(e,t),t)}function wb(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function xb(){return"http:"===Eb()||"https:"===Eb()}function Eb(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var _b=function(){function e(t,n){Ne(this,e),this.shortDelay=t,this.longDelay=n,gb(n>t,"Short delay should be less than long delay!"),this.isMobile=yt()||bt()}return Pe(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(xb()||kt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Ib(e,t){gb(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Sb=function(){function e(){Ne(this,e)}return Pe(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void yb("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void yb("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void yb("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Tb=(ce(Gk={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),ce(Gk,"MISSING_CUSTOM_TOKEN","internal-error"),ce(Gk,"INVALID_IDENTIFIER","invalid-email"),ce(Gk,"MISSING_CONTINUE_URI","internal-error"),ce(Gk,"INVALID_PASSWORD","wrong-password"),ce(Gk,"MISSING_PASSWORD","internal-error"),ce(Gk,"EMAIL_EXISTS","email-already-in-use"),ce(Gk,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),ce(Gk,"INVALID_IDP_RESPONSE","invalid-credential"),ce(Gk,"INVALID_PENDING_TOKEN","invalid-credential"),ce(Gk,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),ce(Gk,"MISSING_REQ_TYPE","internal-error"),ce(Gk,"EMAIL_NOT_FOUND","user-not-found"),ce(Gk,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),ce(Gk,"EXPIRED_OOB_CODE","expired-action-code"),ce(Gk,"INVALID_OOB_CODE","invalid-action-code"),ce(Gk,"MISSING_OOB_CODE","internal-error"),ce(Gk,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),ce(Gk,"INVALID_ID_TOKEN","invalid-user-token"),ce(Gk,"TOKEN_EXPIRED","user-token-expired"),ce(Gk,"USER_NOT_FOUND","user-token-expired"),ce(Gk,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),ce(Gk,"INVALID_CODE","invalid-verification-code"),ce(Gk,"INVALID_SESSION_INFO","invalid-verification-id"),ce(Gk,"INVALID_TEMPORARY_PROOF","invalid-credential"),ce(Gk,"MISSING_SESSION_INFO","missing-verification-id"),ce(Gk,"SESSION_EXPIRED","code-expired"),ce(Gk,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),ce(Gk,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),ce(Gk,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),ce(Gk,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),ce(Gk,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),ce(Gk,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),ce(Gk,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),ce(Gk,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),ce(Gk,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),ce(Gk,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),ce(Gk,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Gk),Cb=new _b(3e4,6e4);function Nb(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ab(e,t,n,r){return Pb.apply(this,arguments)}function Pb(){return Pb=Ce(Be().mark((function e(t,n,r,i){var a,o=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Ob(t,a,Ce(Be().mark((function e(){var a,o,u,s;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=At(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Sb.fetch()(Lb(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Pb.apply(this,arguments)}function Ob(e,t,n){return Rb.apply(this,arguments)}function Rb(){return Rb=Ce(Be().mark((function e(t,n,r){var i,a,o,u,s,c,f,h,d,p;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Tb),n),e.prev=2,a=new Fb(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Vb(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),f=l(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Vb(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw Vb(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw db(t,p,d);case 30:fb(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Et)){e.next=37;break}throw e.t0;case 37:fb(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),Rb.apply(this,arguments)}function Db(e,t,n,r){return Mb.apply(this,arguments)}function Mb(){return Mb=Ce(Be().mark((function e(t,n,r,i){var a,o,u=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Ab(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&fb(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Mb.apply(this,arguments)}function Lb(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ib(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Fb=function(){function e(t){var n=this;Ne(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(hb(n.auth,"network-request-failed"))}),Cb.get())}))}return Pe(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Vb(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=hb(e,t,r);return i.customData._tokenResponse=n,i}function Ub(e,t){return jb.apply(this,arguments)}function jb(){return jb=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ab(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),jb.apply(this,arguments)}function Bb(e,t){return qb.apply(this,arguments)}function qb(){return qb=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ab(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),qb.apply(this,arguments)}function zb(e,t){return Wb.apply(this,arguments)}function Wb(){return Wb=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ab(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Wb.apply(this,arguments)}function Kb(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Hb(){return Hb=Ce(Be().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Lt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,mb((a=$b(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Kb(Gb(a.auth_time)),issuedAtTime:Kb(Gb(a.iat)),expirationTime:Kb(Gb(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Hb.apply(this,arguments)}function Gb(e){return 1e3*Number(e)}function $b(e){var t=l(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return lb("JWT malformed, contained fewer than 3 sections"),null;try{var a=ft(r);return a?JSON.parse(a):(lb("Failed to decode base64 JWT payload"),null)}catch(o){return lb("Caught error parsing JWT payload as JSON",o),null}}function Qb(e,t){return Yb.apply(this,arguments)}function Yb(){return Yb=Ce(Be().mark((function e(t,n){var r=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Et&&Jb(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Yb.apply(this,arguments)}function Jb(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Xb=function(){function e(t){Ne(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Pe(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ce(Be().mark((function t(){return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Zb=function(){function e(t,n){Ne(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Pe(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Kb(this.lastLoginAt),this.creationTime=Kb(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ew(e){return tw.apply(this,arguments)}function tw(){return tw=Ce(Be().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Qb(t,zb(r,{idToken:i}));case 6:mb(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?iw(o.providerUserInfo):[],s=rw(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Zb(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),tw.apply(this,arguments)}function nw(){return(nw=Ce(Be().mark((function e(t){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Lt(t),e.next=3,ew(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rw(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Vt(n),Vt(t))}function iw(e){return e.map((function(e){var t=e.providerId,n=Hk(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function aw(e,t){return ow.apply(this,arguments)}function ow(){return ow=Ce(Be().mark((function e(t,n){var r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ob(t,{},Ce(Be().mark((function e(){var r,i,a,o,u,s;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=At({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Lb(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Sb.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ow.apply(this,arguments)}var uw=function(){function e(){Ne(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Pe(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){mb(e.idToken,"internal-error"),mb("undefined"!==typeof e.idToken,"internal-error"),mb("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=$b(e);return mb(t,"internal-error"),mb("undefined"!==typeof t.exp,"internal-error"),mb("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ce(Be().mark((function e(t){var n,r=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],mb(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ce(Be().mark((function e(t,n){var r,i,a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aw(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return yb("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(mb("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(mb("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(mb("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function sw(e,t){mb("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var cw=function(){function e(t){Ne(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Hk(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Vt(a.providerData):[],this.metadata=new Zb(a.createdAt||void 0,a.lastLoginAt||void 0)}return Pe(e,[{key:"getIdToken",value:function(){var e=Ce(Be().mark((function e(t){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qb(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(mb(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Hb.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return nw.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(mb(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){mb(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ce(Be().mark((function e(t){var n,r,i=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ew(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ce(Be().mark((function e(){var t;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Qb(this,Ub(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;mb(k&&E,t,"internal-error");var _=uw.fromJSON(this.name,E);mb("string"===typeof k,t,"internal-error"),sw(f,t.name),sw(h,t.name),mb("boolean"===typeof b,t,"internal-error"),mb("boolean"===typeof w,t,"internal-error"),sw(d,t.name),sw(p,t.name),sw(v,t.name),sw(m,t.name),sw(y,t.name),sw(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:_,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Ce(Be().mark((function t(n,r){var i,a,o,u=arguments;return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new uw).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ew(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),lw=function(){function e(){Ne(this,e),this.type="NONE",this.storage={}}return Pe(e,[{key:"_isAvailable",value:function(){var e=Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ce(Be().mark((function e(t){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();lw.type="NONE";var fw=lw;function hw(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var dw=function(){function e(t,n,r){Ne(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=hw(this.userKey,a.apiKey,o),this.fullPersistenceKey=hw("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Pe(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ce(Be().mark((function e(){var t;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?cw._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ce(Be().mark((function e(t){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ce(Be().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(bb(fw),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||bb(fw),u=hw(i,n.config.apiKey,n.name),s=null,c=at(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=cw._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function pw(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(vw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bw(t))return"Blackberry";if(ww(t))return"Webos";if(mw(t))return"Safari";if((t.includes("chrome/")||yw(t))&&!t.includes("edge/"))return"Chrome";if(kw(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function vw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/firefox\//i.test(e)}function mw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function yw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/crios\//i.test(e)}function gw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/iemobile/i.test(e)}function kw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/android/i.test(e)}function bw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/blackberry/i.test(e)}function ww(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/webos/i.test(e)}function xw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/iphone|ipad|ipod/i.test(e)}function Ew(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return xw(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function _w(){return wt()&&10===document.documentMode}function Iw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return xw(e)||kw(e)||ww(e)||bw(e)||/windows phone/i.test(e)||gw(e)}function Sw(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=pw(mt());break;case"Worker":t="".concat(pw(mt()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Rn,"/").concat(r)}var Tw=function(){function e(t){Ne(this,e),this.auth=t,this.queue=[]}return Pe(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ce(Be().mark((function e(t){var n,r,i,a,o,u,s;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=at(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=at(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Cw=function(){function e(t,n,r){Ne(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Aw(this),this.idTokenSubscription=new Aw(this),this.beforeStateQueue=new Tw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sb,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Pe(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=bb(t)),this._initializationPromise=this.queue(Ce(Be().mark((function r(){var i,a;return Be().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,dw.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ce(Be().mark((function e(){var t;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ce(Be().mark((function e(t){var n,r,i,a,o,u,s;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return mb(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ce(Be().mark((function e(t){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ew(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ce(Be().mark((function e(t){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Lt(t):null)&&mb(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ce(Be().mark((function e(t){var n,r=this,i=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&mb(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ce(Be().mark((function n(){return Be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(bb(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new _t("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ce(Be().mark((function e(t,n){var r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ce(Be().mark((function e(t){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return mb(n=t&&bb(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,dw.create(this,[bb(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ce(Be().mark((function e(t){var n,r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ce(Be().mark((function e(t){var n=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return mb(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return mb(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sw(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ce(Be().mark((function e(){var t,n,r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ce({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Nw(e){return Lt(e)}var Aw=function(){function e(t){var n=this;Ne(this,e),this.auth=t,this.observer=null,this.addObserver=Rt((function(e){return n.observer=e}))}return Pe(e,[{key:"next",get:function(){return mb(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Pw(e,t,n){var r=Nw(e);mb(r._canInitEmulator,r,"emulator-config-failed"),mb(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Ow(t),o=function(e){var t=Ow(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Rw(r.substr(a.length+1))}}var o=l(r.split(":"),2);return{host:o[0],port:Rw(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ow(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Rw(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Dw=function(){function e(t,n){Ne(this,e),this.providerId=t,this.signInMethod=n}return Pe(e,[{key:"toJSON",value:function(){return yb("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return yb("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return yb("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return yb("not implemented")}}]),e}();function Mw(e,t){return Lw.apply(this,arguments)}function Lw(){return Lw=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ab(t,"POST","/v1/accounts:resetPassword",Nb(t,n)));case 1:case"end":return e.stop()}}),e)}))),Lw.apply(this,arguments)}function Fw(e,t){return Vw.apply(this,arguments)}function Vw(){return Vw=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ab(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Vw.apply(this,arguments)}function Uw(e,t){return jw.apply(this,arguments)}function jw(){return jw=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ab(t,"POST","/v1/accounts:update",Nb(t,n)));case 1:case"end":return e.stop()}}),e)}))),jw.apply(this,arguments)}function Bw(e,t){return qw.apply(this,arguments)}function qw(){return qw=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Db(t,"POST","/v1/accounts:signInWithPassword",Nb(t,n)));case 1:case"end":return e.stop()}}),e)}))),qw.apply(this,arguments)}function zw(e,t){return Ww.apply(this,arguments)}function Ww(){return Ww=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ab(t,"POST","/v1/accounts:sendOobCode",Nb(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ww.apply(this,arguments)}function Kw(e,t){return Hw.apply(this,arguments)}function Hw(){return Hw=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zw(t,n));case 1:case"end":return e.stop()}}),e)}))),Hw.apply(this,arguments)}function Gw(e,t){return $w.apply(this,arguments)}function $w(){return $w=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zw(t,n));case 1:case"end":return e.stop()}}),e)}))),$w.apply(this,arguments)}function Qw(e,t){return Yw.apply(this,arguments)}function Yw(){return Yw=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zw(t,n));case 1:case"end":return e.stop()}}),e)}))),Yw.apply(this,arguments)}function Jw(e,t){return Xw.apply(this,arguments)}function Xw(){return Xw=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zw(t,n));case 1:case"end":return e.stop()}}),e)}))),Xw.apply(this,arguments)}function Zw(e,t){return ex.apply(this,arguments)}function ex(){return ex=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Db(t,"POST","/v1/accounts:signInWithEmailLink",Nb(t,n)));case 1:case"end":return e.stop()}}),e)}))),ex.apply(this,arguments)}function tx(e,t){return nx.apply(this,arguments)}function nx(){return nx=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Db(t,"POST","/v1/accounts:signInWithEmailLink",Nb(t,n)));case 1:case"end":return e.stop()}}),e)}))),nx.apply(this,arguments)}var rx=function(e){Re(n,e);var t=Ue(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Ne(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Pe(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Bw(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Zw(t,{email:this._email,oobCode:this._password}));case 5:fb(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Fw(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",tx(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:fb(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Dw);function ix(e,t){return ax.apply(this,arguments)}function ax(){return ax=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Db(t,"POST","/v1/accounts:signInWithIdp",Nb(t,n)));case 1:case"end":return e.stop()}}),e)}))),ax.apply(this,arguments)}var ox=function(e){Re(n,e);var t=Ue(n);function n(){var e;return Ne(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Pe(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ix(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ix(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ix(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=At(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fb("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Hk(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Dw);function ux(e,t){return sx.apply(this,arguments)}function sx(){return sx=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ab(t,"POST","/v1/accounts:sendVerificationCode",Nb(t,n)));case 1:case"end":return e.stop()}}),e)}))),sx.apply(this,arguments)}function cx(){return cx=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Db(t,"POST","/v1/accounts:signInWithPhoneNumber",Nb(t,n)));case 1:case"end":return e.stop()}}),e)}))),cx.apply(this,arguments)}function lx(){return lx=Ce(Be().mark((function e(t,n){var r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Db(t,"POST","/v1/accounts:signInWithPhoneNumber",Nb(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Vb(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),lx.apply(this,arguments)}var fx=ce({},"USER_NOT_FOUND","user-not-found");function hx(){return hx=Ce(Be().mark((function e(t,n){var r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Db(t,"POST","/v1/accounts:signInWithPhoneNumber",Nb(t,r),fx));case 2:case"end":return e.stop()}}),e)}))),hx.apply(this,arguments)}var dx=function(e){Re(n,e);var t=Ue(n);function n(e){var r;return Ne(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Pe(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return cx.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return lx.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return hx.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Dw);var px=function(){function e(t){var n,r,i,a,o,u;Ne(this,e);var s=Pt(Ot(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);mb(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Pe(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Pt(Ot(e)).link,n=t?Pt(Ot(t)).deep_link_id:null,r=Pt(Ot(e)).deep_link_id;return(r?Pt(Ot(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Tm){return null}}}]),e}();var vx=function(){function e(){Ne(this,e),this.providerId=e.PROVIDER_ID}return Pe(e,null,[{key:"credential",value:function(e,t){return rx._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=px.parseLink(t);return mb(n,"argument-error"),rx._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();vx.PROVIDER_ID="password",vx.EMAIL_PASSWORD_SIGN_IN_METHOD="password",vx.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var mx=function(){function e(t){Ne(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Pe(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),yx=function(e){Re(n,e);var t=Ue(n);function n(){var e;return Ne(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Pe(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Vt(this.scopes)}}]),n}(mx),gx=function(e){Re(n,e);var t=Ue(n);function n(){return Ne(this,n),t.apply(this,arguments)}return Pe(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return mb(e.idToken||e.accessToken,"argument-error"),ox._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return mb("providerId"in t&&"signInMethod"in t,"argument-error"),ox._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(yx),kx=function(e){Re(n,e);var t=Ue(n);function n(){return Ne(this,n),t.call(this,"facebook.com")}return Pe(n,null,[{key:"credential",value:function(e){return ox._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Tm){return null}}}]),n}(yx);kx.FACEBOOK_SIGN_IN_METHOD="facebook.com",kx.PROVIDER_ID="facebook.com";var bx=function(e){Re(n,e);var t=Ue(n);function n(){var e;return Ne(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Pe(n,null,[{key:"credential",value:function(e,t){return ox._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Tm){return null}}}]),n}(yx);bx.GOOGLE_SIGN_IN_METHOD="google.com",bx.PROVIDER_ID="google.com";var wx=function(e){Re(n,e);var t=Ue(n);function n(){return Ne(this,n),t.call(this,"github.com")}return Pe(n,null,[{key:"credential",value:function(e){return ox._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Tm){return null}}}]),n}(yx);wx.GITHUB_SIGN_IN_METHOD="github.com",wx.PROVIDER_ID="github.com";var xx=function(e){Re(n,e);var t=Ue(n);function n(e,r){var i;return Ne(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Pe(n,[{key:"_getIdTokenResponse",value:function(e){return ix(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ix(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ix(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Dw),Ex=function(e){Re(n,e);var t=Ue(n);function n(e){return Ne(this,n),mb(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Pe(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=xx.fromJSON(e);return mb(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return xx._create(r,n)}catch(i){return null}}}]),n}(mx),_x=function(e){Re(n,e);var t=Ue(n);function n(){return Ne(this,n),t.call(this,"twitter.com")}return Pe(n,null,[{key:"credential",value:function(e,t){return ox._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Tm){return null}}}]),n}(yx);function Ix(e,t){return Sx.apply(this,arguments)}function Sx(){return Sx=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Db(t,"POST","/v1/accounts:signUp",Nb(t,n)));case 1:case"end":return e.stop()}}),e)}))),Sx.apply(this,arguments)}_x.TWITTER_SIGN_IN_METHOD="twitter.com",_x.PROVIDER_ID="twitter.com";var Tx=function(){function e(t){Ne(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Pe(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ce(Be().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,cw._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Cx(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ce(Be().mark((function t(n,r,i){var a;return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Cx(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Cx(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Nx(){return Nx=Ce(Be().mark((function e(t){var n,r,i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nw(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Tx({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ix(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Tx._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Nx.apply(this,arguments)}var Ax=function(e){Re(n,e);var t=Ue(n);function n(e,r,i,a){var o,u;return Ne(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Fe(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Pe(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Et);function Px(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ax._fromErrorAndOperation(e,n,t,r);throw n}))}function Ox(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Rx(e,t){return Dx.apply(this,arguments)}function Dx(){return Dx=Ce(Be().mark((function e(t,n){var r,i,a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lt(t),e.next=3,Fx(!0,r,n);case 3:return e.t0=Bb,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Ox(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Dx.apply(this,arguments)}function Mx(e,t){return Lx.apply(this,arguments)}function Lx(){return Lx=Ce(Be().mark((function e(t,n){var r,i,a=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Qb,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Tx._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Lx.apply(this,arguments)}function Fx(e,t,n){return Vx.apply(this,arguments)}function Vx(){return Vx=Ce(Be().mark((function e(t,n,r){var i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ew(n);case 2:i=Ox(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",mb(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),Vx.apply(this,arguments)}function Ux(e,t){return jx.apply(this,arguments)}function jx(){return jx=Ce(Be().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Qb(t,Px(i,a,n,t),r);case 6:return mb((o=e.sent).idToken,i,"internal-error"),mb(u=$b(o.idToken),i,"internal-error"),s=u.sub,mb(t.uid===s,i,"user-mismatch"),e.abrupt("return",Tx._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&fb(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),jx.apply(this,arguments)}function Bx(e,t){return qx.apply(this,arguments)}function qx(){return qx=Ce(Be().mark((function e(t,n){var r,i,a,o,u=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Px(t,i,n);case 4:return a=e.sent,e.next=7,Tx._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),qx.apply(this,arguments)}function zx(e,t){return Wx.apply(this,arguments)}function Wx(){return Wx=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Bx(Nw(t),n));case 1:case"end":return e.stop()}}),e)}))),Wx.apply(this,arguments)}function Kx(e,t){return Hx.apply(this,arguments)}function Hx(){return(Hx=Ce(Be().mark((function e(t,n){var r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lt(t),e.next=3,Fx(!1,r,n.providerId);case 3:return e.abrupt("return",Mx(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gx(e,t){return $x.apply(this,arguments)}function $x(){return($x=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ux(Lt(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qx(e,t){return Yx.apply(this,arguments)}function Yx(){return Yx=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Db(t,"POST","/v1/accounts:signInWithCustomToken",Nb(t,n)));case 1:case"end":return e.stop()}}),e)}))),Yx.apply(this,arguments)}function Jx(){return Jx=Ce(Be().mark((function e(t,n){var r,i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Nw(t),e.next=3,Qx(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Tx._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Jx.apply(this,arguments)}var Xx=function(){function e(t,n){Ne(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Pe(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Zx._fromServerResponse(e,t):fb(e,"internal-error")}}]),e}(),Zx=function(e){Re(n,e);var t=Ue(n);function n(e){var r;return Ne(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Pe(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Xx);function eE(e,t,n){var r;mb((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),mb("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(mb(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(mb(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function tE(){return tE=Ce(Be().mark((function e(t,n,r){var i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lt(t),a={requestType:"PASSWORD_RESET",email:n},r&&eE(i,a,r),e.next=5,Gw(i,a);case 5:case"end":return e.stop()}}),e)}))),tE.apply(this,arguments)}function nE(){return nE=Ce(Be().mark((function e(t,n,r){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mw(Lt(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),nE.apply(this,arguments)}function rE(){return rE=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uw(Lt(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),rE.apply(this,arguments)}function iE(e,t){return aE.apply(this,arguments)}function aE(){return aE=Ce(Be().mark((function e(t,n){var r,i,a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lt(t),e.next=3,Mw(r,{oobCode:n});case 3:i=e.sent,mb(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return mb(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:mb(i.mfaInfo,r,"internal-error");case 13:mb(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Xx._fromServerResponse(Nw(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),aE.apply(this,arguments)}function oE(){return oE=Ce(Be().mark((function e(t,n){var r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iE(Lt(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),oE.apply(this,arguments)}function uE(e,t,n){return sE.apply(this,arguments)}function sE(){return sE=Ce(Be().mark((function e(t,n,r){var i,a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nw(t),e.next=3,Ix(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Tx._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),sE.apply(this,arguments)}function cE(){return cE=Ce(Be().mark((function e(t,n,r){var i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lt(t),a={requestType:"EMAIL_SIGNIN",email:n},mb(r.handleCodeInApp,i,"argument-error"),r&&eE(i,a,r),e.next=6,Qw(i,a);case 6:case"end":return e.stop()}}),e)}))),cE.apply(this,arguments)}function lE(){return lE=Ce(Be().mark((function e(t,n,r){var i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lt(t),mb((a=vx.credentialWithLink(n,r||wb()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",zx(i,a));case 4:case"end":return e.stop()}}),e)}))),lE.apply(this,arguments)}function fE(e,t){return hE.apply(this,arguments)}function hE(){return hE=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ab(t,"POST","/v1/accounts:createAuthUri",Nb(t,n)));case 1:case"end":return e.stop()}}),e)}))),hE.apply(this,arguments)}function dE(){return dE=Ce(Be().mark((function e(t,n){var r,i,a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xb()?wb():"http://localhost",i={identifier:n,continueUri:r},e.next=4,fE(Lt(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),dE.apply(this,arguments)}function pE(){return(pE=Ce(Be().mark((function e(t,n){var r,i,a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lt(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&eE(r.auth,a,n),e.next=8,Kw(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vE(){return(vE=Ce(Be().mark((function e(t,n,r){var i,a,o,u;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lt(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&eE(i.auth,o,r),e.next=8,Jw(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mE(e,t){return yE.apply(this,arguments)}function yE(){return yE=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ab(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),yE.apply(this,arguments)}function gE(){return(gE=Ce(Be().mark((function e(t,n){var r,i,a,o,u,s,c;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Lt(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Qb(a,mE(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kE(e,t,n){return bE.apply(this,arguments)}function bE(){return bE=Ce(Be().mark((function e(t,n,r){var i,a,o,u;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Qb(t,Fw(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),bE.apply(this,arguments)}var wE=Pe((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ne(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),xE=function(e){Re(n,e);var t=Ue(n);function n(e,r,i,a){var o;return Ne(this,n),(o=t.call(this,e,r,i)).username=a,o}return Pe(n)}(wE),EE=function(e){Re(n,e);var t=Ue(n);function n(e,r){return Ne(this,n),t.call(this,e,"facebook.com",r)}return Pe(n)}(wE),_E=function(e){Re(n,e);var t=Ue(n);function n(e,r){return Ne(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Pe(n)}(xE),IE=function(e){Re(n,e);var t=Ue(n);function n(e,r){return Ne(this,n),t.call(this,e,"google.com",r)}return Pe(n)}(wE),SE=function(e){Re(n,e);var t=Ue(n);function n(e,r,i){return Ne(this,n),t.call(this,e,"twitter.com",r,i)}return Pe(n)}(xE);function TE(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=$b(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new wE(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new EE(a,i);case"github.com":return new _E(a,i);case"google.com":return new IE(a,i);case"twitter.com":return new SE(a,i,e.screenName||null);case"custom":case"anonymous":return new wE(a,null);default:return new wE(a,r,i)}}(n)}var CE=function(){function e(t,n){Ne(this,e),this.type=t,this.credential=n}return Pe(e,[{key:"toJSON",value:function(){return{multiFactorSession:ce({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),NE=function(){function e(t,n,r){Ne(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Pe(e,[{key:"resolveSignIn",value:function(){var e=Ce(Be().mark((function e(t){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Nw(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Xx._fromServerResponse(r,e)}));mb(i.mfaPendingCredential,r,"internal-error");var o=CE._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ce(Be().mark((function e(t){var a,u,s;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Tx._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return mb(n.user,r,"internal-error"),e.abrupt("return",Tx._forOperation(n.user,n.operationType,u));case 17:fb(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function AE(e,t){return Ab(e,"POST","/v2/accounts/mfaEnrollment:start",Nb(e,t))}function PE(e,t){return Ab(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Nb(e,t))}var OE=function(){function e(t){var n=this;Ne(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Xx._fromServerResponse(t.auth,e)})))}))}return Pe(e,[{key:"getSession",value:function(){var e=Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=CE,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ce(Be().mark((function e(t,n){var r,i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Qb(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ce(Be().mark((function e(t){var n,r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Qb(this.user,PE(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),RE=new WeakMap;var DE="__sak",ME=function(){function e(t,n){Ne(this,e),this.storageRetriever=t,this.type=n}return Pe(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(DE,"1"),this.storage.removeItem(DE),Promise.resolve(!0)):Promise.resolve(!1)}catch(Tm){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var LE=function(e){Re(n,e);var t=Ue(n);function n(){var e;return Ne(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=mt();return mw(e)||xw(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Iw(),e._shouldAllowMigration=!0,e}return Pe(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);_w()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ce(Be().mark((function e(t,r){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fr(De(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ce(Be().mark((function e(t){var r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fr(De(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fr(De(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ME);LE.type="LOCAL";var FE=LE,VE=function(e){Re(n,e);var t=Ue(n);function n(){return Ne(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Pe(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(ME);VE.type="SESSION";var UE=VE;function jE(e){return Promise.all(e.map(function(){var e=Ce(Be().mark((function e(t){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var BE=function(){function e(t){Ne(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Pe(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ce(Be().mark((function e(t){var n,r,i,a,o,u,s,c;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,jE(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function qE(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}BE.receivers=[];var zE=function(){function e(t){Ne(this,e),this.target=t,this.handlers=new Set}return Pe(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ce(Be().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=qE("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function WE(){return window}function KE(){return"undefined"!==typeof WE().WorkerGlobalScope&&"function"===typeof WE().importScripts}function HE(){return GE.apply(this,arguments)}function GE(){return(GE=Ce(Be().mark((function e(){var t;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function $E(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var QE="firebaseLocalStorageDb",YE="firebaseLocalStorage",JE="fbase_key",XE=function(){function e(t){Ne(this,e),this.request=t}return Pe(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ZE(e,t){return e.transaction([YE],t?"readwrite":"readonly").objectStore(YE)}function e_(){var e=indexedDB.deleteDatabase(QE);return new XE(e).toPromise()}function t_(){var e=indexedDB.open(QE,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(YE,{keyPath:JE})}catch(r){n(r)}})),e.addEventListener("success",Ce(Be().mark((function n(){var r;return Be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(YE)){n.next=12;break}return r.close(),n.next=5,e_();case 5:return n.t0=t,n.next=8,t_();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function n_(e,t,n){return r_.apply(this,arguments)}function r_(){return r_=Ce(Be().mark((function e(t,n,r){var i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ZE(t,!0).put((ce(i={},JE,n),ce(i,"value",r),i)),e.abrupt("return",new XE(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),r_.apply(this,arguments)}function i_(e,t){return a_.apply(this,arguments)}function a_(){return a_=Ce(Be().mark((function e(t,n){var r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ZE(t,!1).get(n),e.next=3,new XE(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),a_.apply(this,arguments)}function o_(e,t){var n=ZE(e,!0).delete(t);return new XE(n).toPromise()}var u_=function(){function e(){Ne(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Pe(e,[{key:"_openDb",value:function(){var e=Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,t_();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ce(Be().mark((function e(t){var n,r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",KE()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ce(Be().mark((function e(){var t=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=BE._getInstance(KE()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ce(Be().mark((function e(n,r){var i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ce(Be().mark((function e(){var t,n,r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HE();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new zE(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&$E()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ce(Be().mark((function e(){var t;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,t_();case 5:return t=e.sent,e.next=8,n_(t,DE,"1");case 8:return e.next=10,o_(t,DE);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ce(Be().mark((function e(t,n){var r=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return n_(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ce(Be().mark((function e(t){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return i_(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ce(Be().mark((function e(t){var n=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return o_(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ce(Be().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ZE(e,!1).getAll();return new XE(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=at(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ce(Be().mark((function t(){return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();u_.type="LOCAL";var s_=u_;function c_(e,t){return Ab(e,"POST","/v2/accounts/mfaSignIn:start",Nb(e,t))}function l_(e){return f_.apply(this,arguments)}function f_(){return f_=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ab(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),f_.apply(this,arguments)}function h_(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=hb("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function d_(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var p_=1e12,v_=function(){function e(t){Ne(this,e),this.auth=t,this.counter=p_,this._widgets=new Map}return Pe(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new m_(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||p_;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||p_;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ce(Be().mark((function e(t){var n,r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||p_,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),m_=function(){function e(t,n,r){var i=this;Ne(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;mb(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Pe(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var y_=d_("rcb"),g_=new _b(3e4,6e4),k_="https://www.google.com/recaptcha/api.js?",b_=function(){function e(){Ne(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!WE().grecaptcha}return Pe(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return mb(w_(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(WE().grecaptcha):new Promise((function(r,i){var a=WE().setTimeout((function(){i(hb(e,"network-request-failed"))}),g_.get());WE()[y_]=function(){WE().clearTimeout(a),delete WE()[y_];var o=WE().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(hb(e,"internal-error"))},h_("".concat(k_,"?").concat(At({onload:y_,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(hb(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!WE().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function w_(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var x_=function(){function e(){Ne(this,e)}return Pe(e,[{key:"load",value:function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new v_(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),E_="recaptcha",__={theme:"light",type:"image"},I_=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},__),r=arguments.length>2?arguments[2]:void 0;Ne(this,e),this.parameters=n,this.type=E_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Nw(r),this.isInvisible="invisible"===this.parameters.size,mb("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;mb(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new x_:new b_,this.validateStartingState()}return Pe(e,[{key:"verify",value:function(){var e=Ce(Be().mark((function e(){var t,n,r,i=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){mb(!this.parameters.sitekey,this.auth,"argument-error"),mb(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),mb("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=WE()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){mb(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ce(Be().mark((function e(){var t,n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ce(Be().mark((function e(){var t;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mb(xb()&&!KE(),this.auth,"internal-error"),e.next=3,S_();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,l_(this.auth);case 8:mb(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return mb(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function S_(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var T_=function(){function e(t,n){Ne(this,e),this.verificationId=t,this.onConfirmation=n}return Pe(e,[{key:"confirm",value:function(e){var t=dx._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function C_(){return C_=Ce(Be().mark((function e(t,n,r){var i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nw(t),e.next=3,O_(i,n,Lt(r));case 3:return a=e.sent,e.abrupt("return",new T_(a,(function(e){return zx(i,e)})));case 5:case"end":return e.stop()}}),e)}))),C_.apply(this,arguments)}function N_(e,t,n){return A_.apply(this,arguments)}function A_(){return(A_=Ce(Be().mark((function e(t,n,r){var i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lt(t),e.next=3,Fx(!1,i,"phone");case 3:return e.next=5,O_(i.auth,n,Lt(r));case 5:return a=e.sent,e.abrupt("return",new T_(a,(function(e){return Kx(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P_(){return(P_=Ce(Be().mark((function e(t,n,r){var i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Lt(t),e.next=3,O_(i.auth,n,Lt(r));case 3:return a=e.sent,e.abrupt("return",new T_(a,(function(e){return Gx(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O_(e,t,n){return R_.apply(this,arguments)}function R_(){return R_=Ce(Be().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,mb("string"===typeof a,t,"argument-error"),mb(r.type===E_,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return mb("enroll"===u.type,t,"internal-error"),e.next=13,AE(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return mb("signin"===u.type,t,"internal-error"),mb(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,c_(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ux(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),R_.apply(this,arguments)}function D_(){return(D_=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mx(Lt(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M_=function(){function e(t){Ne(this,e),this.providerId=e.PROVIDER_ID,this.auth=Nw(t)}return Pe(e,[{key:"verifyPhoneNumber",value:function(e,t){return O_(this.auth,e,Lt(t))}}],[{key:"credential",value:function(e,t){return dx._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?dx._fromTokenResponse(n,r):null}}]),e}();function L_(e,t){return t?bb(t):(mb(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}M_.PROVIDER_ID="phone",M_.PHONE_SIGN_IN_METHOD="phone";var F_=function(e){Re(n,e);var t=Ue(n);function n(e){var r;return Ne(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Pe(n,[{key:"_getIdTokenResponse",value:function(e){return ix(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ix(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ix(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Dw);function V_(e){return Bx(e.auth,new F_(e),e.bypassAuthState)}function U_(e){var t=e.auth,n=e.user;return mb(n,t,"internal-error"),Ux(n,new F_(e),e.bypassAuthState)}function j_(e){return B_.apply(this,arguments)}function B_(){return B_=Ce(Be().mark((function e(t){var n,r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,mb(r=t.user,n,"internal-error"),e.abrupt("return",Mx(r,new F_(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),B_.apply(this,arguments)}var q_=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Ne(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Pe(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ce(Be().mark((function t(n,r){return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ce(Be().mark((function e(t){var n,r,i,a,o,u,s;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return V_;case"linkViaPopup":case"linkViaRedirect":return j_;case"reauthViaPopup":case"reauthViaRedirect":return U_;default:fb(this.auth,"internal-error")}}},{key:"resolve",value:function(e){gb(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){gb(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),z_=new _b(2e3,1e4);function W_(e,t,n){return K_.apply(this,arguments)}function K_(){return K_=Ce(Be().mark((function e(t,n,r){var i,a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nw(t),pb(t,n,mx),a=L_(i,r),o=new Q_(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),K_.apply(this,arguments)}function H_(){return H_=Ce(Be().mark((function e(t,n,r){var i,a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pb((i=Lt(t)).auth,n,mx),a=L_(i.auth,r),o=new Q_(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),H_.apply(this,arguments)}function G_(e,t,n){return $_.apply(this,arguments)}function $_(){return $_=Ce(Be().mark((function e(t,n,r){var i,a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pb((i=Lt(t)).auth,n,mx),a=L_(i.auth,r),o=new Q_(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),$_.apply(this,arguments)}var Q_=function(e){Re(n,e);var t=Ue(n);function n(e,r,i,a,o){var u;return Ne(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Fe(u),u}return Pe(n,[{key:"executeNotNull",value:function(){var e=Ce(Be().mark((function e(){var t;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return mb(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ce(Be().mark((function e(){var t,n=this;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gb(1===this.filter.length,"Popup operations only handle one event"),t=qE(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(hb(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(hb(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(hb(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,z_.get())}()}}]),n}(q_);Q_.currentPopupAction=null;var Y_=new Map,J_=function(e){Re(n,e);var t=Ue(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ne(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Pe(n,[{key:"execute",value:function(){var e=Ce(Be().mark((function e(){var t,r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Y_.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,X_(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,fr(De(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Y_.set(this.auth._key(),t);case 21:return this.bypassAuthState||Y_.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ce(Be().mark((function e(t){var r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",fr(De(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",fr(De(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(q_);function X_(e,t){return Z_.apply(this,arguments)}function Z_(){return Z_=Ce(Be().mark((function e(t,n){var r,i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=iI(n),i=rI(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Z_.apply(this,arguments)}function eI(e,t){return tI.apply(this,arguments)}function tI(){return tI=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rI(t)._set(iI(n),"true"));case 1:case"end":return e.stop()}}),e)}))),tI.apply(this,arguments)}function nI(e,t){Y_.set(e._key(),t)}function rI(e){return bb(e._redirectPersistence)}function iI(e){return hw("pendingRedirect",e.config.apiKey,e.name)}function aI(e,t,n){return function(e,t,n){return oI.apply(this,arguments)}(e,t,n)}function oI(){return oI=Ce(Be().mark((function e(t,n,r){var i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nw(t),pb(t,n,mx),a=L_(i,r),e.next=5,eI(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),oI.apply(this,arguments)}function uI(e,t,n){return function(e,t,n){return sI.apply(this,arguments)}(e,t,n)}function sI(){return sI=Ce(Be().mark((function e(t,n,r){var i,a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pb((i=Lt(t)).auth,n,mx),a=L_(i.auth,r),e.next=5,eI(a,i.auth);case 5:return e.next=7,vI(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)}))),sI.apply(this,arguments)}function cI(e,t,n){return function(e,t,n){return lI.apply(this,arguments)}(e,t,n)}function lI(){return lI=Ce(Be().mark((function e(t,n,r){var i,a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pb((i=Lt(t)).auth,n,mx),a=L_(i.auth,r),e.next=5,Fx(!1,i,n.providerId);case 5:return e.next=7,eI(a,i.auth);case 7:return e.next=9,vI(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),lI.apply(this,arguments)}function fI(e,t){return hI.apply(this,arguments)}function hI(){return hI=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nw(t)._initializationPromise;case 2:return e.abrupt("return",dI(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),hI.apply(this,arguments)}function dI(e,t){return pI.apply(this,arguments)}function pI(){return pI=Ce(Be().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Nw(t),a=L_(i,n),o=new J_(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),pI.apply(this,arguments)}function vI(e){return mI.apply(this,arguments)}function mI(){return(mI=Ce(Be().mark((function e(t){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qE("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yI=function(){function e(t){Ne(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Pe(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kI(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!kI(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(hb(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(gI(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(gI(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function gI(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function kI(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function bI(e){return wI.apply(this,arguments)}function wI(){return wI=Ce(Be().mark((function e(t){var n,r=arguments;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ab(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),wI.apply(this,arguments)}var xI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EI=/^https?/;function _I(){return _I=Ce(Be().mark((function e(t){var n,r,i,a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,bI(t);case 4:n=e.sent,r=n.authorizedDomains,i=at(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!II(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:fb(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),_I.apply(this,arguments)}function II(e){var t=wb(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!EI.test(r))return!1;if(xI.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var SI=new _b(3e4,6e4);function TI(){var e=WE().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Vt(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var CI=null;function NI(e){return CI=CI||function(e){return new Promise((function(t,n){var r,i,a;function o(){TI(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){TI(),n(hb(e,"network-request-failed"))},timeout:SI.get()})}if(null===(i=null===(r=WE().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=WE().gapi)||void 0===a?void 0:a.load)){var u=d_("iframefcb");return WE()[u]=function(){gapi.load?o():n(hb(e,"network-request-failed"))},h_("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw CI=null,e}))}(e),CI}var AI=new _b(5e3,15e3),PI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RI(e){var t=e.config;mb(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ib(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Rn},i=OI.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(At(r).slice(1))}function DI(e){return MI.apply(this,arguments)}function MI(){return MI=Ce(Be().mark((function e(t){var n,r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NI(t);case 2:return n=e.sent,mb(r=WE().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:RI(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PI,dontclear:!0},(function(e){return new Promise(function(){var n=Ce(Be().mark((function n(r,i){var a,o,u;return Be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){WE().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=hb(t,"network-request-failed"),o=WE().setTimeout((function(){i(a)}),AI.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),MI.apply(this,arguments)}var LI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FI="_blank",VI="http://localhost",UI=function(){function e(t){Ne(this,e),this.window=t,this.associatedEvent=null}return Pe(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function jI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},LI),{width:r.toString(),height:i.toString(),top:a,left:o}),c=mt().toLowerCase();n&&(u=yw(c)?FI:n),vw(c)&&(t=t||VI,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=l(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ew(c)&&"_self"!==u)return BI(t||"",u),new UI(null);var h=window.open(t||"",u,f);mb(h,e,"popup-blocked");try{h.focus()}catch(d){}return new UI(h)}function BI(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var qI="__/auth/handler",zI="emulator/auth/handler";function WI(e,t,n,r,i,a){mb(e.config.authDomain,e,"auth-domain-config-required"),mb(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Rn,eventId:i};if(t instanceof mx){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=l(s[u],2),f=c[0],h=c[1];o[f]=h}}if(t instanceof yx){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(qI);return Ib(t,zI)}(e),"?").concat(At(p).slice(1))}var KI="webStorageSupport",HI=function(){function e(){Ne(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UE,this._completeRedirectFn=dI,this._overrideRedirectResult=nI}return Pe(e,[{key:"_openPopup",value:function(){var e=Ce(Be().mark((function e(t,n,r,i){var a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gb(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=WI(t,n,r,wb(),i),e.abrupt("return",jI(t,o,qE()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ce(Be().mark((function e(t,n,r,i){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=WI(t,n,r,wb(),i),WE().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(gb(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ce(Be().mark((function e(t){var n,r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DI(t);case 2:return n=e.sent,r=new yI(t),n.register("authEvent",(function(e){return mb(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(KI,{type:KI},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),fb(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return _I.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Iw()||mw()||xw()}}]),e}(),GI=HI,$I=function(){function e(t){Ne(this,e),this.factorId=t}return Pe(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return yb("unexpected MultiFactorSessionType")}}}]),e}(),QI=function(e){Re(n,e);var t=Ue(n);function n(e){var r;return Ne(this,n),(r=t.call(this,"phone")).credential=e,r}return Pe(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ab(e,"POST","/v2/accounts/mfaEnrollment:finalize",Nb(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ab(e,"POST","/v2/accounts/mfaSignIn:finalize",Nb(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}($I),YI=function(){function e(){Ne(this,e)}return Pe(e,null,[{key:"assertion",value:function(e){return QI._fromCredential(e)}}]),e}();YI.FACTOR_ID="phone";var JI,XI="@firebase/auth",ZI="0.20.0",eS=function(){function e(t){Ne(this,e),this.auth=t,this.internalListeners=new Map}return Pe(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ce(Be().mark((function e(t){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){mb(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function tS(){return window}JI="Browser",Sn(new Ut("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){mb(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),mb(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:JI,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sw(JI)},i=new Cw(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(bb);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Sn(new Ut("auth-internal",(function(e){return function(e){return new eS(e)}(Nw(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Un(XI,ZI,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(JI)),Un(XI,ZI,"esm2017");function nS(e,t,n){return rS.apply(this,arguments)}function rS(){return rS=Ce(Be().mark((function e(t,n,r){var i,a,o,u,s;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=tS(),o=a.BuildInfo,gb(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,cS(n.sessionId);case 4:return u=e.sent,s={},xw()?s.ibi=o.packageName:kw()?s.apn=o.packageName:fb(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",WI(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),rS.apply(this,arguments)}function iS(){return iS=Ce(Be().mark((function e(t){var n,r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tS(),r=n.BuildInfo,i={},xw()?i.iosBundleId=r.packageName:kw()?i.androidPackageName=r.packageName:fb(t,"operation-not-supported-in-this-environment"),e.next=5,bI(t,i);case 5:case"end":return e.stop()}}),e)}))),iS.apply(this,arguments)}function aS(e){var t=tS().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function oS(e,t,n){return uS.apply(this,arguments)}function uS(){return uS=Ce(Be().mark((function e(t,n,r){var i,a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=tS(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(hb(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),kw()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),uS.apply(this,arguments)}function sS(e){var t,n,r,i,a,o,u,s,c,l,f=tS();mb("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),mb("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),mb("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),mb("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),mb("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function cS(e){return lS.apply(this,arguments)}function lS(){return(lS=Ce(Be().mark((function e(t){var n,r,i;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fS(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fS(e){if(gb(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var hS=function(e){Re(n,e);var t=Ue(n);function n(){var e;return Ne(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Pe(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),fr(De(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(yI);function dS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:gS(),postBody:null,tenantId:e.tenantId,error:hb(e,"no-auth-event")}}function pS(e,t){return kS()._set(bS(e),t)}function vS(e){return mS.apply(this,arguments)}function mS(){return mS=Ce(Be().mark((function e(t){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kS()._get(bS(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,kS()._remove(bS(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),mS.apply(this,arguments)}function yS(e,t){var n,r,i=function(e){var t=wS(e),n=t.link?decodeURIComponent(t.link):void 0,r=wS(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return wS(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=wS(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?hb(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function gS(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function kS(){return bb(FE)}function bS(e){return hw("authEvent",e.config.apiKey,e.name)}function wS(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=Kk(e.split("?"));t[0];return Pt(t.slice(1).join("?"))}var xS=function(){function e(){Ne(this,e),this._redirectPersistence=UE,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=dI,this._overrideRedirectResult=nI}return Pe(e,[{key:"_initialize",value:function(){var e=Ce(Be().mark((function e(t){var n,r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new hS(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){fb(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ce(Be().mark((function e(t,n,r,i){var a,o,u,s;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sS(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Y_.clear(),e.next=10,this._originValidation(t);case 10:return o=dS(t,r,i),e.next=13,pS(t,o);case 13:return e.next=15,nS(t,o,n);case 15:return u=e.sent,e.next=18,aS(u);case 18:return s=e.sent,e.abrupt("return",oS(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return iS.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=tS(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ce(Be().mark((function n(){return Be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,vS(e);case 2:t.onEvent(_S());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Ce(Be().mark((function n(r){var i,a;return Be().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,vS(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=yS(i,r.url)),t.onEvent(a||_S());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");tS().handleOpenURL=function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),ES=xS;function _S(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:hb("no-auth-event")}}function IS(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function SS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return!("file:"!==IS()&&"ionic:"!==IS()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function TS(){return wt()&&11===(null===document||void 0===document?void 0:document.documentMode)}function CS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return/Edge\/\d+/.test(e)}function NS(){try{var e=self.localStorage,t=qE();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt();return TS()||CS(e)}()||xt()}catch(n){return AS()&&xt()}return!1}function AS(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function PS(){return("http:"===IS()||"https:"===IS()||kt()||SS())&&!(bt()||gt())&&NS()&&!AS()}function OS(){return SS()&&"undefined"!==typeof document}function RS(){return DS.apply(this,arguments)}function DS(){return(DS=Ce(Be().mark((function e(){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(OS()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var MS={LOCAL:"local",NONE:"none",SESSION:"session"},LS=mb,FS="persistence";function VS(e,t){LS(Object.values(MS).includes(t),e,"invalid-persistence-type"),bt()?LS(t!==MS.SESSION,e,"unsupported-persistence-type"):gt()?LS(t===MS.NONE,e,"unsupported-persistence-type"):AS()?LS(t===MS.NONE||t===MS.LOCAL&&xt(),e,"unsupported-persistence-type"):LS(t===MS.NONE||NS(),e,"unsupported-persistence-type")}function US(e){return jS.apply(this,arguments)}function jS(){return jS=Ce(Be().mark((function e(t){var n,r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=BS(),r=hw(FS,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),jS.apply(this,arguments)}function BS(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var qS=mb,zS=function(){function e(){Ne(this,e),this.browserResolver=bb(GI),this.cordovaResolver=bb(ES),this.underlyingResolver=null,this._redirectPersistence=UE,this._completeRedirectFn=dI,this._overrideRedirectResult=nI}return Pe(e,[{key:"_initialize",value:function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ce(Be().mark((function e(t,n,r,i){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ce(Be().mark((function e(t,n,r,i){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return OS()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return qS(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ce(Be().mark((function e(){var t;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,RS();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function WS(e){return e.unwrap()}function KS(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new YS(e,function(e,t){var n,r=Lt(e),i=t;return mb(t.customData.operationType,r,"argument-error"),mb(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),NE._fromError(r,i)}(e,t));else if(r){var i=HS(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function HS(e){var t=(e instanceof Et?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Et)&&"temporaryProof"in t&&"phoneNumber"in t)return M_.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Jk)return null;switch(r){case Yk:n=bx;break;case $k:n=kx;break;case Qk:n=wx;break;case Xk:n=_x;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?xx._create(r,u):ox._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new gx(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Et?n.credentialFromError(e):n.credentialFromResult(e)}function GS(e,t){return t.catch((function(t){throw t instanceof Et&&KS(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,HS(t)),additionalUserInfo:TE(e),user:JS.getOrCreate(r)}}))}function $S(e,t){return QS.apply(this,arguments)}function QS(){return QS=Ce(Be().mark((function e(t,n){var r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return GS(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),QS.apply(this,arguments)}var YS=function(){function e(t,n){Ne(this,e),this.resolver=n,this.auth=function(e){return e.wrapped()}(t)}return Pe(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return GS(WS(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),JS=function(){function e(t){Ne(this,e),this._delegate=t,this.multiFactor=function(e){var t=Lt(e);return RE.has(t)||RE.set(t,OE._fromUser(t)),RE.get(t)}(t)}return Pe(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",GS(this.auth,Kx(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$S(this.auth,N_(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",GS(this.auth,G_(this._delegate,t,zS)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,US(Nw(this.auth));case 2:return e.abrupt("return",cI(this._delegate,t,zS));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",GS(this.auth,Gx(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return $S(this.auth,function(e,t,n){return P_.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return GS(this.auth,function(e,t,n){return H_.apply(this,arguments)}(this._delegate,e,zS))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,US(Nw(this.auth));case 2:return e.abrupt("return",uI(this._delegate,t,zS));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return pE.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rx(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return kE(Lt(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return kE(Lt(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return D_.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return gE.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return vE.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();JS.USER_MAP=new WeakMap;var XS=mb,ZS=function(){function e(t,n){if(Ne(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;XS(r,"invalid-api-key",{appName:t.name}),XS(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?zS:void 0;this._delegate=n.initialize({options:{persistence:tT(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(ob),this.linkUnderlyingAuth()}return Pe(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?JS.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Pw(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return rE.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return iE(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return nE.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ce(Be().mark((function e(t,n){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",GS(this._delegate,uE(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return dE.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=px.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ce(Be().mark((function e(){var t;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return XS(PS(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,fI(this._delegate,zS);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",GS(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Nw(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=eT(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=eT(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return cE.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return tE.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ce(Be().mark((function e(t){var n,r;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:VS(this._delegate,t),e.t0=t,e.next=e.t0===MS.SESSION?4:e.t0===MS.LOCAL?6:e.t0===MS.NONE?11:13;break;case 4:return n=UE,e.abrupt("break",14);case 6:return e.next=8,bb(s_)._isAvailable();case 8:return r=e.sent,n=r?s_:FE,e.abrupt("break",14);case 11:return n=fw,e.abrupt("break",14);case 13:return e.abrupt("return",fb("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return GS(this._delegate,function(e){return Nx.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return GS(this._delegate,zx(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return GS(this._delegate,function(e,t){return Jx.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return GS(this._delegate,function(e,t,n){return zx(Lt(e),vx.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return GS(this._delegate,function(e,t,n){return lE.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return $S(this._delegate,function(e,t,n){return C_.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return XS(PS(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",GS(this._delegate,W_(this._delegate,t,zS)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return XS(PS(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,US(this._delegate);case 3:return e.abrupt("return",aI(this._delegate,t,zS));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return oE.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function eT(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&JS.getOrCreate(e))},error:t,complete:n}}function tT(e,t){var n=function(e,t){var n=BS();if(!n)return[];var r=hw(FS,e,t);switch(n.getItem(r)){case MS.NONE:return[fw];case MS.LOCAL:return[s_,UE];case MS.SESSION:return[UE];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(s_)||n.push(s_),"undefined"!==typeof window)for(var r=0,i=[FE,UE];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(fw)||n.push(fw),n}ZS.Persistence=MS;var nT=function(){function e(){Ne(this,e),this.providerId="phone",this._delegate=new M_(WS(cr.auth()))}return Pe(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return M_.credential(e,t)}}]),e}();nT.PHONE_SIGN_IN_METHOD=M_.PHONE_SIGN_IN_METHOD,nT.PROVIDER_ID=M_.PROVIDER_ID;var rT=mb,iT=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cr.app();Ne(this,e),rT(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new I_(t,n,i.auth()),this.type=this._delegate.type}return Pe(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Ut("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new ZS(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Zk,PASSWORD_RESET:eb,RECOVER_EMAIL:tb,REVERT_SECOND_FACTOR_ADDITION:nb,VERIFY_AND_CHANGE_EMAIL:rb,VERIFY_EMAIL:ib}},EmailAuthProvider:vx,FacebookAuthProvider:kx,GithubAuthProvider:wx,GoogleAuthProvider:bx,OAuthProvider:gx,SAMLAuthProvider:Ex,PhoneAuthProvider:nT,PhoneMultiFactorGenerator:YI,RecaptchaVerifier:iT,TwitterAuthProvider:_x,Auth:ZS,AuthCredential:Dw,Error:Et}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.13")}(cr);var aT=function(){var e=Ce(Be().mark((function e(t,n){var r,i,a,o;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=uT.doc("users/".concat(t.uid)),e.next=5,r.get();case 5:if(e.sent.exists){e.next=17;break}return i=t.displayName,a=t.email,o=new Date,e.prev=9,e.next=12,r.set(fe({displayName:i,email:a,createAt:o},n));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("error creating user",e.t0.message);case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,n){return e.apply(this,arguments)}}();cr.initializeApp({apiKey:"AIzaSyB9SQhDPfrrKtwjNle_vdsJquuGwjY1LCM",authDomain:"crwn-db-c0c02.firebaseapp.com",projectId:"crwn-db-c0c02",storageBucket:"crwn-db-c0c02.appspot.com",messagingSenderId:"553918030682",appId:"1:553918030682:web:621e3bcb3dbd882d278963",measurementId:"G-17GTK3QBF0"});var oT=cr.auth(),uT=cr.firestore(),sT=new cr.auth.GoogleAuthProvider;sT.setCustomParameters({prompt:"select_account"});var cT,lT=function(){return oT.signInWithPopup(sT)},fT=fe({},a),hT=fT.version,dT=fT.render,pT=fT.unmountComponentAtNode;try{Number((hT||"").split(".")[0])>=18&&(cT=fT.createRoot)}catch(uR){}function vT(e){var t=fT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===Le(t)&&(t.usingClientEntryPoint=e)}var mT="__rc_react_root__";function yT(e,t){cT?function(e,t){vT(!0);var n=t[mT]||cT(t);vT(!1),n.render(e),t[mT]=n}(e,t):function(e,t){dT(e,t)}(e,t)}function gT(e){return kT.apply(this,arguments)}function kT(){return(kT=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=t[mT])||void 0===e||e.unmount(),delete t[mT]})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bT(e){pT(e)}function wT(){return(wT=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===cT){e.next=2;break}return e.abrupt("return",gT(t));case 2:bT(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xT=n(694),ET=n.n(xT);var _T=n(873);function IT(e,t){"function"===typeof e?e(t):"object"===Le(e)&&e&&"current"in e&&(e.current=t)}function ST(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}function TT(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var CT=function(e,t){var n={animationend:TT("Animation","AnimationEnd"),transitionend:TT("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(ST(),"undefined"!==typeof window?window:{}),NT={};if(ST()){var AT=document.createElement("div");NT=AT.style}var PT={};function OT(e){if(PT[e])return PT[e];var t=CT[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var a=n[i];if(Object.prototype.hasOwnProperty.call(t,a)&&a in NT)return PT[e]=t[a],PT[e]}return""}var RT=OT("animationend"),DT=OT("transitionend"),MT=!(!RT||!DT),LT=RT||"animationend",FT=DT||"transitionend";function VT(e,t){return e?"object"===Le(e)?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:"".concat(e,"-").concat(t):null}var UT="none",jT="appear",BT="enter",qT="leave",zT="none",WT="prepare",KT="start",HT="active",GT="end";function $T(e){var t=r.useRef(!1),n=l(r.useState(e),2),i=n[0],a=n[1];return r.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[i,function(e,n){n&&t.current||a(e)}]}var QT=function(e){return+setTimeout(e,16)},YT=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(QT=function(e){return window.requestAnimationFrame(e)},YT=function(e){return window.cancelAnimationFrame(e)});var JT=0,XT=new Map;function ZT(e){XT.delete(e)}function eC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=JT+=1;function r(t){if(0===t)ZT(n),e();else{var i=QT((function(){r(t-1)}));XT.set(n,i)}}return r(t),n}eC.cancel=function(e){var t=XT.get(e);return ZT(t),YT(t)};var tC=ST()?r.useLayoutEffect:r.useEffect,nC=[WT,KT,HT,GT];function rC(e){return e===HT||e===GT}var iC=function(e,t){var n=l($T(zT),2),i=n[0],a=n[1],o=function(){var e=r.useRef(null);function t(){eC.cancel(e.current)}return r.useEffect((function(){return function(){t()}}),[]),[function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var a=eC((function(){i<=1?r({isCanceled:function(){return a!==e.current}}):n(r,i-1)}));e.current=a},t]}(),u=l(o,2),s=u[0],c=u[1];return tC((function(){if(i!==zT&&i!==GT){var e=nC.indexOf(i),n=nC[e+1],r=t(i);false===r?a(n,!0):s((function(e){function t(){e.isCanceled()||a(n,!0)}!0===r?t():Promise.resolve(r).then(t)}))}}),[e,i]),r.useEffect((function(){return function(){c()}}),[]),[function(){a(WT,!0)},i]};function aC(e,t,n,i){var a=i.motionEnter,o=void 0===a||a,u=i.motionAppear,s=void 0===u||u,c=i.motionLeave,f=void 0===c||c,h=i.motionDeadline,d=i.motionLeaveImmediately,p=i.onAppearPrepare,v=i.onEnterPrepare,m=i.onLeavePrepare,y=i.onAppearStart,g=i.onEnterStart,k=i.onLeaveStart,b=i.onAppearActive,w=i.onEnterActive,x=i.onLeaveActive,E=i.onAppearEnd,_=i.onEnterEnd,I=i.onLeaveEnd,S=i.onVisibleChanged,T=l($T(),2),C=T[0],N=T[1],A=l($T(UT),2),P=A[0],O=A[1],R=l($T(null),2),D=R[0],M=R[1],L=(0,r.useRef)(!1),F=(0,r.useRef)(null);function V(){return n()}var U=(0,r.useRef)(!1);function j(e){var t=V();if(!e||e.deadline||e.target===t){var n,r=U.current;P===jT&&r?n=null===E||void 0===E?void 0:E(t,e):P===BT&&r?n=null===_||void 0===_?void 0:_(t,e):P===qT&&r&&(n=null===I||void 0===I?void 0:I(t,e)),P!==UT&&r&&!1!==n&&(O(UT,!0),M(null,!0))}}var B=function(e){var t=(0,r.useRef)(),n=(0,r.useRef)(e);n.current=e;var i=r.useCallback((function(e){n.current(e)}),[]);function a(e){e&&(e.removeEventListener(FT,i),e.removeEventListener(LT,i))}return r.useEffect((function(){return function(){a(t.current)}}),[]),[function(e){t.current&&t.current!==e&&a(t.current),e&&e!==t.current&&(e.addEventListener(FT,i),e.addEventListener(LT,i),t.current=e)},a]}(j),q=l(B,1)[0],z=r.useMemo((function(){var e,t,n;switch(P){case jT:return ce(e={},WT,p),ce(e,KT,y),ce(e,HT,b),e;case BT:return ce(t={},WT,v),ce(t,KT,g),ce(t,HT,w),t;case qT:return ce(n={},WT,m),ce(n,KT,k),ce(n,HT,x),n;default:return{}}}),[P]),W=l(iC(P,(function(e){if(e===WT){var t=z.prepare;return!!t&&t(V())}var n;H in z&&M((null===(n=z[H])||void 0===n?void 0:n.call(z,V(),null))||null);return H===HT&&(q(V()),h>0&&(clearTimeout(F.current),F.current=setTimeout((function(){j({deadline:!0})}),h))),true})),2),K=W[0],H=W[1],G=rC(H);U.current=G,tC((function(){N(t);var n,r=L.current;(L.current=!0,e)&&(!r&&t&&s&&(n=jT),r&&t&&o&&(n=BT),(r&&!t&&f||!r&&d&&!t&&f)&&(n=qT),n&&(O(n),K()))}),[t]),(0,r.useEffect)((function(){(P===jT&&!s||P===BT&&!o||P===qT&&!f)&&O(UT)}),[s,o,f]),(0,r.useEffect)((function(){return function(){L.current=!1,clearTimeout(F.current)}}),[]),(0,r.useEffect)((function(){void 0!==C&&P===UT&&(null===S||void 0===S||S(C))}),[C,P]);var $=D;return z.prepare&&H===KT&&($=fe({transition:"none"},$)),[P,H,$,null!==C&&void 0!==C?C:t]}var oC=function(e){Re(n,e);var t=Ue(n);function n(){return Ne(this,n),t.apply(this,arguments)}return Pe(n,[{key:"render",value:function(){return this.props.children}}]),n}(r.Component),uC=oC;var sC=function(e){var t=e;function n(e){return!(!e.motionName||!t)}"object"===Le(e)&&(t=e.transitionSupport);var a=r.forwardRef((function(e,t){var a=e.visible,o=void 0===a||a,u=e.removeOnLeave,s=void 0===u||u,c=e.forceRender,f=e.children,h=e.motionName,d=e.leavedClassName,p=e.eventProps,v=n(e),m=(0,r.useRef)(),y=(0,r.useRef)();var g=l(aC(v,o,(function(){try{return m.current instanceof HTMLElement?m.current:(e=y.current)instanceof HTMLElement?e:i.findDOMNode(e)}catch(uR){return null}var e}),e),4),k=g[0],b=g[1],w=g[2],x=g[3],E=r.useRef(x);x&&(E.current=!0);var _,I=r.useCallback((function(e){m.current=e,IT(t,e)}),[t]),S=fe(fe({},p),{},{visible:o});if(f)if(k!==UT&&n(e)){var T,C;b===WT?C="prepare":rC(b)?C="active":b===KT&&(C="start"),_=f(fe(fe({},S),{},{className:ET()(VT(h,k),(T={},ce(T,VT(h,"".concat(k,"-").concat(C)),C),ce(T,h,"string"===typeof h),T)),style:w}),I)}else _=x?f(fe({},S),I):!s&&E.current?f(fe(fe({},S),{},{className:d}),I):c?f(fe(fe({},S),{},{style:{display:"none"}}),I):null;else _=null;r.isValidElement(_)&&function(e){var t,n,r=(0,_T.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}(_)&&(_.ref||(_=r.cloneElement(_,{ref:I})));return r.createElement(uC,{ref:y},_)}));return a.displayName="CSSMotion",a}(MT),cC="add",lC="keep",fC="remove",hC="removed";function dC(e){var t;return fe(fe({},t=e&&"object"===Le(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function pC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(dC)}function vC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,a=pC(e),o=pC(t);a.forEach((function(e){for(var t=!1,a=r;a<i;a+=1){var u=o[a];if(u.key===e.key){r<a&&(n=n.concat(o.slice(r,a).map((function(e){return fe(fe({},e),{},{status:cC})}))),r=a),n.push(fe(fe({},u),{},{status:lC})),r+=1,t=!0;break}}t||n.push(fe(fe({},e),{},{status:fC}))})),r<i&&(n=n.concat(o.slice(r).map((function(e){return fe(fe({},e),{},{status:cC})}))));var u={};n.forEach((function(e){var t=e.key;u[t]=(u[t]||0)+1}));var s=Object.keys(u).filter((function(e){return u[e]>1}));return s.forEach((function(e){n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==fC})),n.forEach((function(t){t.key===e&&(t.status=lC)}))})),n}var mC=["component","children","onVisibleChanged","onAllRemoved"],yC=["status"],gC=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];var kC=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sC,n=function(e){Re(i,e);var n=Ue(i);function i(){var e;Ne(this,i);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(e=n.call.apply(n,[this].concat(r))).state={keyEntities:[]},e.removeKey=function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:fe(fe({},e),{},{status:hC})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==hC})).length},e}return Pe(i,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,i=this.props,a=i.component,o=i.children,u=i.onVisibleChanged,s=i.onAllRemoved,c=qe(i,mC),l=a||r.Fragment,h={};return gC.forEach((function(e){h[e]=c[e],delete c[e]})),delete c.keys,r.createElement(l,c,n.map((function(n){var i=n.status,a=qe(n,yC),c=i===cC||i===lC;return r.createElement(t,f({},h,{key:a.key,visible:c,eventProps:a,onVisibleChanged:function(t){(null===u||void 0===u||u(t,{key:a.key}),t)||0===e.removeKey(a.key)&&s&&s()}}),o)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=pC(n);return{keyEntities:vC(r,i).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==hC||e.status!==fC}))}}}]),i}(r.Component);return n.defaultProps={component:"div"},n}(MT),bC=function(e){Re(n,e);var t=Ue(n);function n(){var e;Ne(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).closeTimer=null,e.close=function(t){t&&t.stopPropagation(),e.clearCloseTimer();var n=e.props,r=n.onClose,i=n.noticeKey;r&&r(i)},e.startCloseTimer=function(){e.props.duration&&(e.closeTimer=window.setTimeout((function(){e.close()}),1e3*e.props.duration))},e.clearCloseTimer=function(){e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=null)},e}return Pe(n,[{key:"componentDidMount",value:function(){this.startCloseTimer()}},{key:"componentDidUpdate",value:function(e){(this.props.duration!==e.duration||this.props.updateMark!==e.updateMark||this.props.visible!==e.visible&&this.props.visible)&&this.restartCloseTimer()}},{key:"componentWillUnmount",value:function(){this.clearCloseTimer()}},{key:"restartCloseTimer",value:function(){this.clearCloseTimer(),this.startCloseTimer()}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,a=t.className,o=t.closable,u=t.closeIcon,s=t.style,c=t.onClick,l=t.children,h=t.holder,d="".concat(n,"-notice"),p=Object.keys(this.props).reduce((function(t,n){return"data-"!==n.substr(0,5)&&"aria-"!==n.substr(0,5)&&"role"!==n||(t[n]=e.props[n]),t}),{}),v=r.createElement("div",f({className:ET()(d,a,ce({},"".concat(d,"-closable"),o)),style:s,onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onClick:c},p),r.createElement("div",{className:"".concat(d,"-content")},l),o?r.createElement("a",{tabIndex:0,onClick:this.close,className:"".concat(d,"-close")},u||r.createElement("span",{className:"".concat(d,"-close-x")})):null);return h?i.createPortal(v,h):v}}]),n}(r.Component);function wC(e){var t=r.useRef({}),n=l(r.useState([]),2),i=n[0],a=n[1];return[function(n){var i=!0;e.add(n,(function(e,n){var o=n.key;if(e&&(!t.current[o]||i)){var u=r.createElement(bC,f({},n,{holder:e}));t.current[o]=u,a((function(e){var t=e.findIndex((function(e){return e.key===n.key}));if(-1===t)return[].concat(Vt(e),[u]);var r=Vt(e);return r[t]=u,r}))}i=!1}))},r.createElement(r.Fragment,null,i)]}bC.defaultProps={onClose:function(){},duration:1.5};var xC=["getContainer"],EC=0,_C=Date.now();function IC(){var e=EC;return EC+=1,"rcNotification_".concat(_C,"_").concat(e)}var SC=function(e){Re(n,e);var t=Ue(n);function n(){var e;Ne(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={notices:[]},e.hookRefs=new Map,e.add=function(t,n){var r=t.key||IC(),i=fe(fe({},t),{},{key:r}),a=e.props.maxCount;e.setState((function(e){var t=e.notices,o=t.map((function(e){return e.notice.key})).indexOf(r),u=t.concat();return-1!==o?u.splice(o,1,{notice:i,holderCallback:n}):(a&&t.length>=a&&(i.key=u[0].notice.key,i.updateMark=IC(),i.userPassKey=r,u.shift()),u.push({notice:i,holderCallback:n})),{notices:u}}))},e.remove=function(t){e.setState((function(e){return{notices:e.notices.filter((function(e){var n=e.notice,r=n.key;return(n.userPassKey||r)!==t}))}}))},e.noticePropsMap={},e}return Pe(n,[{key:"getTransitionName",value:function(){var e=this.props,t=e.prefixCls,n=e.animation,r=this.props.transitionName;return!r&&n&&(r="".concat(t,"-").concat(n)),r}},{key:"render",value:function(){var e=this,t=this.state.notices,n=this.props,i=n.prefixCls,a=n.className,o=n.closeIcon,u=n.style,s=[];return t.forEach((function(n,r){var a=n.notice,u=n.holderCallback,c=r===t.length-1?a.updateMark:void 0,l=a.key,f=a.userPassKey,h=fe(fe(fe({prefixCls:i,closeIcon:o},a),a.props),{},{key:l,noticeKey:f||l,updateMark:c,onClose:function(t){var n;e.remove(t),null===(n=a.onClose)||void 0===n||n.call(a)},onClick:a.onClick,children:a.content});s.push(l),e.noticePropsMap[l]={props:h,holderCallback:u}})),r.createElement("div",{className:ET()(i,a),style:u},r.createElement(kC,{keys:s,motionName:this.getTransitionName(),onVisibleChanged:function(t,n){var r=n.key;t||delete e.noticePropsMap[r]}},(function(t){var n=t.key,a=t.className,o=t.style,u=t.visible,s=e.noticePropsMap[n],c=s.props,l=s.holderCallback;return l?r.createElement("div",{key:n,className:ET()(a,"".concat(i,"-hook-holder")),style:fe({},o),ref:function(t){"undefined"!==typeof n&&(t?(e.hookRefs.set(n,t),l(t,c)):e.hookRefs.delete(n))}}):r.createElement(bC,f({},c,{className:ET()(a,null===c||void 0===c?void 0:c.className),style:fe(fe({},o),null===c||void 0===c?void 0:c.style),visible:u}))})))}}]),n}(r.Component);SC.newInstance=void 0,SC.defaultProps={prefixCls:"rc-notification",animation:"fade",style:{top:65,left:"50%"}},SC.newInstance=function(e,t){var n=e||{},i=n.getContainer,a=qe(n,xC),o=document.createElement("div");i?i().appendChild(o):document.body.appendChild(o);var u=!1;yT(r.createElement(SC,f({},a,{ref:function(e){u||(u=!0,t({notice:function(t){e.add(t)},removeNotice:function(t){e.remove(t)},component:e,destroy:function(){!function(e){wT.apply(this,arguments)}(o),o.parentNode&&o.parentNode.removeChild(o)},useNotification:function(){return wC(e)}}))}})),o)};var TC=SC,CC={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},NC=(0,r.createContext)({});function AC(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function PC(e){return Math.min(1,Math.max(0,e))}function OC(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function RC(e){return e<=1?"".concat(100*Number(e),"%"):e}function DC(e){return 1===e.length?"0"+e:String(e)}function MC(e,t,n){e=AC(e,255),t=AC(t,255),n=AC(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=0,u=(r+i)/2;if(r===i)o=0,a=0;else{var s=r-i;switch(o=u>.5?s/(2-r-i):s/(r+i),r){case e:a=(t-n)/s+(t<n?6:0);break;case t:a=(n-e)/s+2;break;case n:a=(e-t)/s+4}a/=6}return{h:a,s:o,l:u}}function LC(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function FC(e,t,n){e=AC(e,255),t=AC(t,255),n=AC(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),a=0,o=r,u=r-i,s=0===r?0:u/r;if(r===i)a=0;else{switch(r){case e:a=(t-n)/u+(t<n?6:0);break;case t:a=(n-e)/u+2;break;case n:a=(e-t)/u+4}a/=6}return{h:a,s:s,v:o}}function VC(e,t,n,r){var i=[DC(Math.round(e).toString(16)),DC(Math.round(t).toString(16)),DC(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function UC(e){return Math.round(255*parseFloat(e)).toString(16)}function jC(e){return BC(e)/255}function BC(e){return parseInt(e,16)}var qC={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function zC(e){var t,n,r,i={r:0,g:0,b:0},a=1,o=null,u=null,s=null,c=!1,l=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(qC[e])e=qC[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=GC.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=GC.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=GC.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=GC.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=GC.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=GC.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=GC.hex8.exec(e))return{r:BC(n[1]),g:BC(n[2]),b:BC(n[3]),a:jC(n[4]),format:t?"name":"hex8"};if(n=GC.hex6.exec(e))return{r:BC(n[1]),g:BC(n[2]),b:BC(n[3]),format:t?"name":"hex"};if(n=GC.hex4.exec(e))return{r:BC(n[1]+n[1]),g:BC(n[2]+n[2]),b:BC(n[3]+n[3]),a:jC(n[4]+n[4]),format:t?"name":"hex8"};if(n=GC.hex3.exec(e))return{r:BC(n[1]+n[1]),g:BC(n[2]+n[2]),b:BC(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&($C(e.r)&&$C(e.g)&&$C(e.b)?(t=e.r,n=e.g,r=e.b,i={r:255*AC(t,255),g:255*AC(n,255),b:255*AC(r,255)},c=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):$C(e.h)&&$C(e.s)&&$C(e.v)?(o=RC(e.s),u=RC(e.v),i=function(e,t,n){e=6*AC(e,360),t=AC(t,100),n=AC(n,100);var r=Math.floor(e),i=e-r,a=n*(1-t),o=n*(1-i*t),u=n*(1-(1-i)*t),s=r%6;return{r:255*[n,o,a,a,u,n][s],g:255*[u,n,n,o,a,a][s],b:255*[a,a,u,n,n,o][s]}}(e.h,o,u),c=!0,l="hsv"):$C(e.h)&&$C(e.s)&&$C(e.l)&&(o=RC(e.s),s=RC(e.l),i=function(e,t,n){var r,i,a;if(e=AC(e,360),t=AC(t,100),n=AC(n,100),0===t)i=n,a=n,r=n;else{var o=n<.5?n*(1+t):n+t-n*t,u=2*n-o;r=LC(u,o,e+1/3),i=LC(u,o,e),a=LC(u,o,e-1/3)}return{r:255*r,g:255*i,b:255*a}}(e.h,o,s),c=!0,l="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(a=e.a)),a=OC(a),{ok:c,format:e.format||l,r:Math.min(255,Math.max(i.r,0)),g:Math.min(255,Math.max(i.g,0)),b:Math.min(255,Math.max(i.b,0)),a:a}}var WC="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),KC="[\\s|\\(]+(".concat(WC,")[,|\\s]+(").concat(WC,")[,|\\s]+(").concat(WC,")\\s*\\)?"),HC="[\\s|\\(]+(".concat(WC,")[,|\\s]+(").concat(WC,")[,|\\s]+(").concat(WC,")[,|\\s]+(").concat(WC,")\\s*\\)?"),GC={CSS_UNIT:new RegExp(WC),rgb:new RegExp("rgb"+KC),rgba:new RegExp("rgba"+HC),hsl:new RegExp("hsl"+KC),hsla:new RegExp("hsla"+HC),hsv:new RegExp("hsv"+KC),hsva:new RegExp("hsva"+HC),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function $C(e){return Boolean(GC.CSS_UNIT.exec(String(e)))}var QC=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function YC(e){var t=FC(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function JC(e){var t=e.r,n=e.g,r=e.b;return"#".concat(VC(t,n,r,!1))}function XC(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function ZC(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function eN(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function tN(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function nN(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=zC(e),i=5;i>0;i-=1){var a=YC(r),o=JC(zC({h:ZC(a,i,!0),s:eN(a,i,!0),v:tN(a,i,!0)}));n.push(o)}n.push(JC(r));for(var u=1;u<=4;u+=1){var s=YC(r),c=JC(zC({h:ZC(s,u),s:eN(s,u),v:tN(s,u)}));n.push(c)}return"dark"===t.theme?QC.map((function(e){var r=e.index,i=e.opacity;return JC(XC(zC(t.backgroundColor||"#141414"),zC(n[r]),100*i))})):n}var rN={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},iN={},aN={};Object.keys(rN).forEach((function(e){iN[e]=nN(rN[e]),iN[e].primary=iN[e][5],aN[e]=nN(rN[e],{theme:"dark",backgroundColor:"#141414"}),aN[e].primary=aN[e][5]}));iN.red,iN.volcano,iN.gold,iN.orange,iN.yellow,iN.lime,iN.green,iN.cyan,iN.blue,iN.geekblue,iN.purple,iN.magenta,iN.grey;var oN={};function uN(e,t){0}function sN(e,t,n){t||oN[n]||(e(!1,n),oN[n]=!0)}var cN=function(e,t){sN(uN,e,t)},lN="rc-util-key";function fN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):lN}function hN(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function dN(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!ST())return null;var r,i=document.createElement("style");(null===(t=n.csp)||void 0===t?void 0:t.nonce)&&(i.nonce=null===(r=n.csp)||void 0===r?void 0:r.nonce);i.innerHTML=e;var a=hN(n),o=a.firstChild;return n.prepend&&a.prepend?a.prepend(i):n.prepend&&o?a.insertBefore(i,o):a.appendChild(i),i}var pN=new Map;function vN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=hN(t);return Array.from(pN.get(n).children).find((function(n){return"STYLE"===n.tagName&&n.getAttribute(fN(t))===e}))}function mN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=hN(n);if(!pN.has(r)){var i=dN("",n),a=i.parentNode;pN.set(r,a),a.removeChild(i)}var o=vN(t,n);if(o){var u,s,c;if((null===(u=n.csp)||void 0===u?void 0:u.nonce)&&o.nonce!==(null===(s=n.csp)||void 0===s?void 0:s.nonce))o.nonce=null===(c=n.csp)||void 0===c?void 0:c.nonce;return o.innerHTML!==e&&(o.innerHTML=e),o}var l=dN(e,n);return l.setAttribute(fN(n),t),l}function yN(e){return"object"===Le(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===Le(e.icon)||"function"===typeof e.icon)}function gN(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function kN(e,t,n){return n?r.createElement(e.tag,fe(fe({key:t},gN(e.attrs)),n),(e.children||[]).map((function(n,r){return kN(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):r.createElement(e.tag,fe({key:t},gN(e.attrs)),(e.children||[]).map((function(n,r){return kN(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function bN(e){return nN(e)[0]}function wN(e){return e?Array.isArray(e)?e:[e]:[]}var xN="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",EN=["icon","className","onClick","style","primaryColor","secondaryColor"],_N={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var IN=function(e){var t=e.icon,n=e.className,i=e.onClick,a=e.style,o=e.primaryColor,u=e.secondaryColor,s=qe(e,EN),c=_N;if(o&&(c={primaryColor:o,secondaryColor:u||bN(o)}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xN,t=(0,r.useContext)(NC).csp;(0,r.useEffect)((function(){mN(e,"@ant-design-icons",{prepend:!0,csp:t})}),[])}(),function(e,t){cN(e,"[@ant-design/icons] ".concat(t))}(yN(t),"icon should be icon definiton, but got ".concat(t)),!yN(t))return null;var l=t;return l&&"function"===typeof l.icon&&(l=fe(fe({},l),{},{icon:l.icon(c.primaryColor,c.secondaryColor)})),kN(l.icon,"svg-".concat(l.name),fe({className:n,onClick:i,style:a,"data-icon":l.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},s))};IN.displayName="IconReact",IN.getTwoToneColors=function(){return fe({},_N)},IN.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;_N.primaryColor=t,_N.secondaryColor=n||bN(t),_N.calculated=!!n};var SN=IN;function TN(e){var t=l(wN(e),2),n=t[0],r=t[1];return SN.setTwoToneColors({primaryColor:n,secondaryColor:r})}var CN=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];TN("#1890ff");var NN=r.forwardRef((function(e,t){var n,i=e.className,a=e.icon,o=e.spin,u=e.rotate,s=e.tabIndex,c=e.onClick,f=e.twoToneColor,h=qe(e,CN),d=r.useContext(NC).prefixCls,p=void 0===d?"anticon":d,v=ET()(p,(ce(n={},"".concat(p,"-").concat(a.name),!!a.name),ce(n,"".concat(p,"-spin"),!!o||"loading"===a.name),n),i),m=s;void 0===m&&c&&(m=-1);var y=u?{msTransform:"rotate(".concat(u,"deg)"),transform:"rotate(".concat(u,"deg)")}:void 0,g=l(wN(f),2),k=g[0],b=g[1];return r.createElement("span",fe(fe({role:"img","aria-label":a.name},h),{},{ref:t,tabIndex:m,onClick:c,className:v}),r.createElement(SN,{icon:a,primaryColor:k,secondaryColor:b,style:y}))}));NN.displayName="AntdIcon",NN.getTwoToneColor=function(){var e=SN.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},NN.setTwoToneColor=TN;var AN=NN,PN=function(e,t){return r.createElement(AN,fe(fe({},e),{},{ref:t,icon:CC}))};PN.displayName="CloseOutlined";var ON=r.forwardRef(PN),RN={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},DN=function(e,t){return r.createElement(AN,fe(fe({},e),{},{ref:t,icon:RN}))};DN.displayName="CheckCircleOutlined";var MN=r.forwardRef(DN),LN={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},FN=function(e,t){return r.createElement(AN,fe(fe({},e),{},{ref:t,icon:LN}))};FN.displayName="CloseCircleOutlined";var VN=r.forwardRef(FN),UN={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},jN=function(e,t){return r.createElement(AN,fe(fe({},e),{},{ref:t,icon:UN}))};jN.displayName="ExclamationCircleOutlined";var BN=r.forwardRef(jN),qN={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"},zN=function(e,t){return r.createElement(AN,fe(fe({},e),{},{ref:t,icon:qN}))};zN.displayName="InfoCircleOutlined";var WN=r.forwardRef(zN),KN={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},HN={lang:f({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),timePickerLocale:f({},KN)},GN="${label} is not a valid ${type}",$N={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:HN,TimePicker:KN,Calendar:HN,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:GN,method:GN,array:GN,object:GN,number:GN,date:GN,boolean:GN,integer:GN,float:GN,regexp:GN,email:GN,url:GN,hex:GN},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},QN=$N,YN=(0,r.createContext)(void 0),JN=function(e){Re(n,e);var t=Ue(n);function n(){return Ne(this,n),t.apply(this,arguments)}return Pe(n,[{key:"getLocale",value:function(){var e=this.props,t=e.componentName,n=e.defaultLocale||QN[null!==t&&void 0!==t?t:"global"],r=this.context,i=t&&r?r[t]:{};return f(f({},n instanceof Function?n():n),i||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?QN.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(r.Component);JN.defaultProps={componentName:"global"},JN.contextType=YN;var XN=function(){var e=(0,r.useContext(oA).getPrefixCls)("empty-img-default");return r.createElement("svg",{className:e,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("g",{transform:"translate(24 31.67)"},r.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),r.createElement("path",{className:"".concat(e,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),r.createElement("path",{className:"".concat(e,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),r.createElement("path",{className:"".concat(e,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),r.createElement("path",{className:"".concat(e,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),r.createElement("path",{className:"".concat(e,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),r.createElement("g",{className:"".concat(e,"-g"),transform:"translate(149.65 15.383)"},r.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),r.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},ZN=function(){var e=(0,r.useContext(oA).getPrefixCls)("empty-img-simple");return r.createElement("svg",{className:e,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},r.createElement("ellipse",{className:"".concat(e,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),r.createElement("g",{className:"".concat(e,"-g"),fillRule:"nonzero"},r.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),r.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(e,"-path")}))))},eA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},tA=r.createElement(XN,null),nA=r.createElement(ZN,null),rA=function(e){var t=e.className,n=e.prefixCls,i=e.image,a=void 0===i?tA:i,o=e.description,u=e.children,s=e.imageStyle,c=eA(e,["className","prefixCls","image","description","children","imageStyle"]),l=r.useContext(oA),h=l.getPrefixCls,d=l.direction;return r.createElement(JN,{componentName:"Empty"},(function(e){var i,l=h("empty",n),p="undefined"!==typeof o?o:e.description,v="string"===typeof p?p:"empty",m=null;return m="string"===typeof a?r.createElement("img",{alt:v,src:a}):a,r.createElement("div",f({className:ET()(l,(i={},ce(i,"".concat(l,"-normal"),a===nA),ce(i,"".concat(l,"-rtl"),"rtl"===d),i),t)},c),r.createElement("div",{className:"".concat(l,"-image"),style:s},m),p&&r.createElement("div",{className:"".concat(l,"-description")},p),u&&r.createElement("div",{className:"".concat(l,"-footer")},u))}))};rA.PRESENTED_IMAGE_DEFAULT=tA,rA.PRESENTED_IMAGE_SIMPLE=nA;var iA=rA,aA=function(e){return r.createElement(uA,null,(function(t){var n=(0,t.getPrefixCls)("empty");switch(e){case"Table":case"List":return r.createElement(iA,{image:iA.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return r.createElement(iA,{image:iA.PRESENTED_IMAGE_SIMPLE,className:"".concat(n,"-small")});default:return r.createElement(iA,null)}}))},oA=r.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")},renderEmpty:aA}),uA=oA.Consumer;function sA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return r.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(sA(e)):(0,_T.isFragment)(e)&&e.props?n=n.concat(sA(e.props.children,t)):n.push(e))})),n}var cA="RC_FORM_INTERNAL_HOOKS",lA=function(){cN(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},fA=r.createContext({getFieldValue:lA,getFieldsValue:lA,getFieldError:lA,getFieldWarning:lA,getFieldsError:lA,isFieldsTouched:lA,isFieldTouched:lA,isFieldValidating:lA,isFieldsValidating:lA,resetFields:lA,setFields:lA,setFieldsValue:lA,validateFields:lA,submit:lA,getInternalHooks:function(){return lA(),{dispatch:lA,initEntityValue:lA,registerField:lA,useSubscribe:lA,setInitialValues:lA,destroyForm:lA,setCallbacks:lA,registerWatch:lA,getFields:lA,setValidateMessages:lA,setPreserve:lA,getInitialValue:lA}}});function hA(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function dA(){return dA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dA.apply(this,arguments)}function pA(e){return pA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pA(e)}function vA(e,t){return vA=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},vA(e,t)}function mA(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(uR){return!1}}function yA(e,t,n){return yA=mA()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&vA(i,n.prototype),i},yA.apply(null,arguments)}function gA(e){var t="function"===typeof Map?new Map:void 0;return gA=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return yA(e,arguments,pA(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),vA(n,e)},gA(e)}var kA=/%[sdj%]/g;function bA(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function wA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,a=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var o=e.replace(kA,(function(e){if("%%"===e)return"%";if(i>=a)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}break;default:return e}}));return o}return e}function xA(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function EA(e,t,n){var r=0,i=e.length;!function a(o){if(o&&o.length)n(o);else{var u=r;r+=1,u<i?t(e[u],a):n([])}}([])}var _A=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,vA(t,n),r}(gA(Error));function IA(e,t,n,r,i){if(t.first){var a=new Promise((function(t,a){var o=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);EA(o,n,(function(e){return r(e),e.length?a(new _A(e,bA(e))):t(i)}))}));return a.catch((function(e){return e})),a}var o=!0===t.firstFields?Object.keys(e):t.firstFields||[],u=Object.keys(e),s=u.length,c=0,l=[],f=new Promise((function(t,a){var f=function(e){if(l.push.apply(l,e),++c===s)return r(l),l.length?a(new _A(l,bA(l))):t(i)};u.length||(r(l),t(i)),u.forEach((function(t){var r=e[t];-1!==o.indexOf(t)?EA(r,n,f):function(e,t,n){var r=[],i=0,a=e.length;function o(e){r.push.apply(r,e||[]),++i===a&&n(r)}e.forEach((function(e){t(e,o)}))}(r,n,f)}))}));return f.catch((function(e){return e})),f}function SA(e,t){return function(n){var r,i;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function TA(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=dA({},e[n],r):e[n]=r}return e}var CA=function(e,t,n,r,i,a){!e.required||n.hasOwnProperty(e.field)&&!xA(t,a||e.type)||r.push(wA(i.messages.required,e.fullField))},NA={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},AA={integer:function(e){return AA.number(e)&&parseInt(e,10)===e},float:function(e){return AA.number(e)&&!AA.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(uR){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!AA.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(NA.email)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(NA.url)},hex:function(e){return"string"===typeof e&&!!e.match(NA.hex)}},PA={required:CA,whitespace:function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(wA(i.messages.whitespace,e.fullField))},type:function(e,t,n,r,i){if(e.required&&void 0===t)CA(e,t,n,r,i);else{var a=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?AA[a](t)||r.push(wA(i.messages.types[a],e.fullField,e.type)):a&&typeof t!==e.type&&r.push(wA(i.messages.types[a],e.fullField,e.type))}},range:function(e,t,n,r,i){var a="number"===typeof e.len,o="number"===typeof e.min,u="number"===typeof e.max,s=t,c=null,l="number"===typeof t,f="string"===typeof t,h=Array.isArray(t);if(l?c="number":f?c="string":h&&(c="array"),!c)return!1;h&&(s=t.length),f&&(s=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?s!==e.len&&r.push(wA(i.messages[c].len,e.fullField,e.len)):o&&!u&&s<e.min?r.push(wA(i.messages[c].min,e.fullField,e.min)):u&&!o&&s>e.max?r.push(wA(i.messages[c].max,e.fullField,e.max)):o&&u&&(s<e.min||s>e.max)&&r.push(wA(i.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,i){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(wA(i.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(wA(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(wA(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},OA=function(e,t,n,r,i){var a=e.type,o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(xA(t,a)&&!e.required)return n();PA.required(e,t,r,o,i,a),xA(t,a)||PA.type(e,t,r,o,i)}n(o)},RA={string:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(xA(t,"string")&&!e.required)return n();PA.required(e,t,r,a,i,"string"),xA(t,"string")||(PA.type(e,t,r,a,i),PA.range(e,t,r,a,i),PA.pattern(e,t,r,a,i),!0===e.whitespace&&PA.whitespace(e,t,r,a,i))}n(a)},method:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(xA(t)&&!e.required)return n();PA.required(e,t,r,a,i),void 0!==t&&PA.type(e,t,r,a,i)}n(a)},number:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),xA(t)&&!e.required)return n();PA.required(e,t,r,a,i),void 0!==t&&(PA.type(e,t,r,a,i),PA.range(e,t,r,a,i))}n(a)},boolean:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(xA(t)&&!e.required)return n();PA.required(e,t,r,a,i),void 0!==t&&PA.type(e,t,r,a,i)}n(a)},regexp:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(xA(t)&&!e.required)return n();PA.required(e,t,r,a,i),xA(t)||PA.type(e,t,r,a,i)}n(a)},integer:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(xA(t)&&!e.required)return n();PA.required(e,t,r,a,i),void 0!==t&&(PA.type(e,t,r,a,i),PA.range(e,t,r,a,i))}n(a)},float:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(xA(t)&&!e.required)return n();PA.required(e,t,r,a,i),void 0!==t&&(PA.type(e,t,r,a,i),PA.range(e,t,r,a,i))}n(a)},array:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();PA.required(e,t,r,a,i,"array"),void 0!==t&&null!==t&&(PA.type(e,t,r,a,i),PA.range(e,t,r,a,i))}n(a)},object:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(xA(t)&&!e.required)return n();PA.required(e,t,r,a,i),void 0!==t&&PA.type(e,t,r,a,i)}n(a)},enum:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(xA(t)&&!e.required)return n();PA.required(e,t,r,a,i),void 0!==t&&PA.enum(e,t,r,a,i)}n(a)},pattern:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(xA(t,"string")&&!e.required)return n();PA.required(e,t,r,a,i),xA(t,"string")||PA.pattern(e,t,r,a,i)}n(a)},date:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(xA(t,"date")&&!e.required)return n();var o;if(PA.required(e,t,r,a,i),!xA(t,"date"))o=t instanceof Date?t:new Date(t),PA.type(e,o,r,a,i),o&&PA.range(e,o.getTime(),r,a,i)}n(a)},url:OA,hex:OA,email:OA,required:function(e,t,n,r,i){var a=[],o=Array.isArray(t)?"array":typeof t;PA.required(e,t,r,a,i,o),n(a)},any:function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(xA(t)&&!e.required)return n();PA.required(e,t,r,a,i)}n(a)}};function DA(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var MA=DA(),LA=function(){function e(e){this.rules=null,this._messages=MA,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=TA(DA(),e)),this._messages},t.validate=function(t,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var a=t,o=n,u=r;if("function"===typeof o&&(u=o,o={}),!this.rules||0===Object.keys(this.rules).length)return u&&u(null,a),Promise.resolve(a);if(o.messages){var s=this.messages();s===MA&&(s=DA()),TA(s,o.messages),o.messages=s}else o.messages=this.messages();var c={};(o.keys||Object.keys(this.rules)).forEach((function(e){var n=i.rules[e],r=a[e];n.forEach((function(n){var o=n;"function"===typeof o.transform&&(a===t&&(a=dA({},a)),r=a[e]=o.transform(r)),(o="function"===typeof o?{validator:o}:dA({},o)).validator=i.getValidationMethod(o),o.validator&&(o.field=e,o.fullField=o.fullField||e,o.type=i.getType(o),c[e]=c[e]||[],c[e].push({rule:o,value:r,source:a,field:e}))}))}));var l={};return IA(c,o,(function(t,n){var r,i=t.rule,u=("object"===i.type||"array"===i.type)&&("object"===typeof i.fields||"object"===typeof i.defaultField);function s(e,t){return dA({},t,{fullField:i.fullField+"."+e,fullFields:i.fullFields?[].concat(i.fullFields,[e]):[e]})}function c(r){void 0===r&&(r=[]);var c=Array.isArray(r)?r:[r];!o.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==i.message&&(c=[].concat(i.message));var f=c.map(SA(i,a));if(o.first&&f.length)return l[i.field]=1,n(f);if(u){if(i.required&&!t.value)return void 0!==i.message?f=[].concat(i.message).map(SA(i,a)):o.error&&(f=[o.error(i,wA(o.messages.required,i.field))]),n(f);var h={};i.defaultField&&Object.keys(t.value).map((function(e){h[e]=i.defaultField})),h=dA({},h,t.rule.fields);var d={};Object.keys(h).forEach((function(e){var t=h[e],n=Array.isArray(t)?t:[t];d[e]=n.map(s.bind(null,e))}));var p=new e(d);p.messages(o.messages),t.rule.options&&(t.rule.options.messages=o.messages,t.rule.options.error=o.error),p.validate(t.value,t.rule.options||o,(function(e){var t=[];f&&f.length&&t.push.apply(t,f),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(f)}if(u=u&&(i.required||!i.required&&t.value),i.field=t.field,i.asyncValidator)r=i.asyncValidator(i,t.value,c,t.source,o);else if(i.validator){try{r=i.validator(i,t.value,c,t.source,o)}catch(f){null==console.error||console.error(f),setTimeout((function(){throw f}),0),c(f.message)}!0===r?c():!1===r?c("function"===typeof i.message?i.message(i.fullField||i.field):i.message||(i.fullField||i.field)+" fails"):r instanceof Array?c(r):r instanceof Error&&c(r.message)}r&&r.then&&r.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var i=0;i<e.length;i++)r(e[i]);t.length?(n=bA(t),u(t,n)):u(null,a)}(e)}),a)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!RA.hasOwnProperty(e.type))throw new Error(wA("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?RA.required:RA[this.getType(e)]||void 0},e}();LA.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");RA[e]=t},LA.warning=function(){},LA.messages=MA,LA.validators=RA;var FA="'${name}' is not a valid ${type}",VA={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:FA,method:FA,array:FA,object:FA,number:FA,date:FA,boolean:FA,integer:FA,float:FA,regexp:FA,email:FA,url:FA,hex:FA},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function UA(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}function jA(e,t,n,r){if(!t.length)return n;var i,a=Kk(t),o=a[0],u=a.slice(1);return i=e||"number"!==typeof o?Array.isArray(e)?Vt(e):fe({},e):[],r&&void 0===n&&1===u.length?delete i[o][u[0]]:i[o]=jA(i[o],u,n,r),i}function BA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!UA(e,t.slice(0,-1))?e:jA(e,t,n,r)}function qA(e){return Array.isArray(e)?function(e){return e.map((function(e){return qA(e)}))}(e):"object"===Le(e)&&null!==e?function(e){if(Object.getPrototypeOf(e)===Object.prototype){var t={};for(var n in e)t[n]=qA(e[n]);return t}return e}(e):e}var zA=qA;function WA(e){return hA(e)}function KA(e,t){return UA(e,t)}function HA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=BA(e,t,n,r);return i}function GA(e,t){var n={};return t.forEach((function(t){var r=KA(e,t);n=HA(n,t,r)})),n}function $A(e,t){return e&&e.some((function(e){return XA(e,t)}))}function QA(e){return"object"===Le(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function YA(e,t){var n=Array.isArray(e)?Vt(e):fe({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],i=t[e],a=QA(r)&&QA(i);n[e]=a?YA(r,i||{}):zA(i)})),n):n}function JA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return YA(e,t)}),e)}function XA(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function ZA(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===Le(t.target)&&e in t.target?t.target[e]:t}function eP(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],a=t-n;return a>0?[].concat(Vt(e.slice(0,n)),[i],Vt(e.slice(n,t)),Vt(e.slice(t+1,r))):a<0?[].concat(Vt(e.slice(0,t)),Vt(e.slice(t+1,n+1)),[i],Vt(e.slice(n+1,r))):e}var tP=LA;function nP(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var rP="CODE_LOGIC_ERROR";function iP(e,t,n,r,i){return aP.apply(this,arguments)}function aP(){return aP=Ce(Be().mark((function e(t,n,i,a,o){var u,s,c,l,f,h,d,p,v;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(u=fe({},i)).ruleIndex,u.validator&&(s=u.validator,u.validator=function(){try{return s.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(rP)}}),c=null,u&&"array"===u.type&&u.defaultField&&(c=u.defaultField,delete u.defaultField),l=new tP(ce({},t,[u])),f=JA({},VA,a.validateMessages),l.messages(f),h=[],e.prev=9,e.next=12,Promise.resolve(l.validate(ce({},t,n),fe({},a)));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),e.t0.errors&&(h=e.t0.errors.map((function(e,t){var n=e.message,i=n===rP?f.default:n;return r.isValidElement(i)?r.cloneElement(i,{key:"error_".concat(t)}):i})));case 17:if(h.length||!c){e.next=22;break}return e.next=20,Promise.all(n.map((function(e,n){return iP("".concat(t,".").concat(n),e,c,a,o)})));case 20:return d=e.sent,e.abrupt("return",d.reduce((function(e,t){return[].concat(Vt(e),Vt(t))}),[]));case 22:return p=fe(fe({},i),{},{name:t,enum:(i.enum||[]).join(", ")},o),v=h.map((function(e){return"string"===typeof e?nP(e,p):e})),e.abrupt("return",v);case 25:case"end":return e.stop()}}),e,null,[[9,14]])}))),aP.apply(this,arguments)}function oP(e,t,n,r,i,a){var o,u=e.join("."),s=n.map((function(e,t){var n=e.validator,r=fe(fe({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var i=!1,a=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){cN(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=a&&"function"===typeof a.then&&"function"===typeof a.catch,cN(i,"`callback` is deprecated. Please return a promise instead."),i&&a.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,i=t.warningOnly,a=t.ruleIndex;return!!n===!!i?r-a:n?1:-1}));if(!0===i)o=new Promise(function(){var e=Ce(Be().mark((function e(n,i){var o,c,l;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<s.length)){e.next=12;break}return c=s[o],e.next=5,iP(u,t,c,r,a);case 5:if(!(l=e.sent).length){e.next=9;break}return i([{errors:l,rule:c}]),e.abrupt("return");case 9:o+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=s.map((function(e){return iP(u,t,e,r,a).then((function(t){return{errors:t,rule:e}}))}));o=(i?function(e){return sP.apply(this,arguments)}(c):function(e){return uP.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return o.catch((function(e){return e})),o}function uP(){return(uP=Ce(Be().mark((function e(t){return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,Vt(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sP(){return(sP=Ce(Be().mark((function e(t){var n;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cP=["name"],lP=[];function fP(e,t,n,r,i,a){return"function"===typeof e?e(t,n,"source"in a?{source:a.source}:{}):r!==i}var hP=function(e){Re(n,e);var t=Ue(n);function n(e){var i;(Ne(this,n),(i=t.call(this,e)).state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=null,i.prevValidating=void 0,i.errors=lP,i.warnings=lP,i.cancelRegister=function(){var e=i.props,t=e.preserve,n=e.isListField,r=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(n,t,WA(r)),i.cancelRegisterFunc=null},i.getNamePath=function(){var e=i.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(Vt(void 0===n?[]:n),Vt(t)):[]},i.getRules=function(){var e=i.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(r):e}))},i.refresh=function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))},i.triggerMetaEvent=function(e){var t=i.props.onMetaChange;null===t||void 0===t||t(fe(fe({},i.getMeta()),{},{destroy:e}))},i.onStoreChange=function(e,t,n){var r=i.props,a=r.shouldUpdate,o=r.dependencies,u=void 0===o?[]:o,s=r.onReset,c=n.store,l=i.getNamePath(),f=i.getValue(e),h=i.getValue(c),d=t&&$A(t,l);switch("valueUpdate"===n.type&&"external"===n.source&&f!==h&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=lP,i.warnings=lP,i.triggerMetaEvent()),n.type){case"reset":if(!t||d)return i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=lP,i.warnings=lP,i.triggerMetaEvent(),null===s||void 0===s||s(),void i.refresh();break;case"remove":if(a)return void i.reRender();break;case"setField":if(d){var p=n.data;return"touched"in p&&(i.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(i.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(i.errors=p.errors||lP),"warnings"in p&&(i.warnings=p.warnings||lP),i.dirty=!0,i.triggerMetaEvent(),void i.reRender()}if(a&&!l.length&&fP(a,e,c,f,h,n))return void i.reRender();break;case"dependenciesUpdate":if(u.map(WA).some((function(e){return $A(n.relatedFields,e)})))return void i.reRender();break;default:if(d||(!u.length||l.length||a)&&fP(a,e,c,f,h,n))return void i.reRender()}!0===a&&i.reRender()},i.validateRules=function(e){var t=i.getNamePath(),n=i.getValue(),r=Promise.resolve().then((function(){if(!i.mounted)return[];var a=i.props,o=a.validateFirst,u=void 0!==o&&o,s=a.messageVariables,c=(e||{}).triggerName,l=i.getRules();c&&(l=l.filter((function(e){var t=e.validateTrigger;return!t||hA(t).includes(c)})));var f=oP(t,n,l,e,u,s);return f.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lP;if(i.validatePromise===r){i.validatePromise=null;var t=[],n=[];e.forEach((function(e){var r=e.rule.warningOnly,i=e.errors,a=void 0===i?lP:i;r?n.push.apply(n,Vt(a)):t.push.apply(t,Vt(a))})),i.errors=t,i.warnings=n,i.triggerMetaEvent(),i.reRender()}})),f}));return i.validatePromise=r,i.dirty=!0,i.errors=lP,i.warnings=lP,i.triggerMetaEvent(),i.reRender(),r},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){return!(!i.dirty&&void 0===i.props.initialValue)||void 0!==(0,i.props.fieldContext.getInternalHooks(cA).getInitialValue)(i.getNamePath())},i.getErrors=function(){return i.errors},i.getWarnings=function(){return i.warnings},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath()}},i.getOnlyChild=function(e){if("function"===typeof e){var t=i.getMeta();return fe(fe({},i.getOnlyChild(e(i.getControlled(),t,i.props.fieldContext))),{},{isFunction:!0})}var n=sA(e);return 1===n.length&&r.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}},i.getValue=function(e){var t=i.props.fieldContext.getFieldsValue,n=i.getNamePath();return KA(e||t(!0),n)},i.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,n=t.trigger,r=t.validateTrigger,a=t.getValueFromEvent,o=t.normalize,u=t.valuePropName,s=t.getValueProps,c=t.fieldContext,l=void 0!==r?r:c.validateTrigger,f=i.getNamePath(),h=c.getInternalHooks,d=c.getFieldsValue,p=h(cA),v=p.dispatch,m=i.getValue(),y=s||function(e){return ce({},u,e)},g=e[n],k=fe(fe({},e),y(m));k[n]=function(){var e;i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=a?a.apply(void 0,n):ZA.apply(void 0,[u].concat(n)),o&&(e=o(e,m,d(!0))),v({type:"updateValue",namePath:f,value:e}),g&&g.apply(void 0,n)};var b=hA(l||[]);return b.forEach((function(e){var t=k[e];k[e]=function(){t&&t.apply(void 0,arguments);var n=i.props.rules;n&&n.length&&v({type:"validateField",namePath:f,triggerName:e})}})),k},e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(cA).initEntityValue)(Fe(i));return i}return Pe(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(cA).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,i=this.getOnlyChild(n),a=i.child;return i.isFunction?e=a:r.isValidElement(a)?e=r.cloneElement(a,this.getControlled(a.props)):(cN(!a,"`children` of Field is not validate ReactElement."),e=a),r.createElement(r.Fragment,{key:t},e)}}]),n}(r.Component);hP.contextType=fA,hP.defaultProps={trigger:"onChange",valuePropName:"value"};var dP=function(e){var t=e.name,n=qe(e,cP),i=r.useContext(fA),a=void 0!==t?WA(t):void 0,o="keep";return n.isListField||(o="_".concat((a||[]).join("_"))),r.createElement(hP,f({key:o,name:a},n,{fieldContext:i}))},pP=r.createContext(null),vP=function(e){var t=e.name,n=e.initialValue,i=e.children,a=e.rules,o=e.validateTrigger,u=r.useContext(fA),s=r.useRef({keys:[],id:0}).current,c=r.useMemo((function(){var e=WA(u.prefixName)||[];return[].concat(Vt(e),Vt(WA(t)))}),[u.prefixName,t]),l=r.useMemo((function(){return fe(fe({},u),{},{prefixName:c})}),[u,c]),f=r.useMemo((function(){return{getKey:function(e){var t=c.length,n=e[t];return[s.keys[n],e.slice(t+1)]}}}),[c]);if("function"!==typeof i)return cN(!1,"Form.List only accepts function as children."),null;return r.createElement(pP.Provider,{value:f},r.createElement(fA.Provider,{value:l},r.createElement(dP,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:a,validateTrigger:o,initialValue:n,isList:!0},(function(e,t){var n=e.value,r=void 0===n?[]:n,a=e.onChange,o=u.getFieldValue,l=function(){return o(c||[])||[]},f={add:function(e,t){var n=l();t>=0&&t<=n.length?(s.keys=[].concat(Vt(s.keys.slice(0,t)),[s.id],Vt(s.keys.slice(t))),a([].concat(Vt(n.slice(0,t)),[e],Vt(n.slice(t))))):(s.keys=[].concat(Vt(s.keys),[s.id]),a([].concat(Vt(n),[e]))),s.id+=1},remove:function(e){var t=l(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(s.keys=s.keys.filter((function(e,t){return!n.has(t)})),a(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=l();e<0||e>=n.length||t<0||t>=n.length||(s.keys=eP(s.keys,e,t),a(eP(n,e,t)))}}},h=r||[];return Array.isArray(h)||(h=[]),i(h.map((function(e,t){var n=s.keys[t];return void 0===n&&(s.keys[t]=s.id,n=s.keys[t],s.id+=1),{name:t,key:n,isListField:!0}})),f,t)}))))};var mP="__@field_split__";function yP(e){return e.map((function(e){return"".concat(Le(e),":").concat(e)})).join(mP)}var gP=function(){function e(){Ne(this,e),this.kvs=new Map}return Pe(e,[{key:"set",value:function(e,t){this.kvs.set(yP(e),t)}},{key:"get",value:function(e){return this.kvs.get(yP(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(yP(e))}},{key:"map",value:function(e){return Vt(this.kvs.entries()).map((function(t){var n=l(t,2),r=n[0],i=n[1],a=r.split(mP);return e({key:a.map((function(e){var t=l(e.match(/^([^:]*):(.*)$/),3),n=t[1],r=t[2];return"number"===n?Number(r):r})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),kP=gP,bP=["name","errors"],wP=Pe((function e(t){var n=this;Ne(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===cA?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(cN(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.prevWithoutPreserves=null,this.setInitialValues=function(e,t){if(n.initialValues=e||{},t){var r,i=JA({},e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;i=HA(i,n,KA(e,n))})),n.prevWithoutPreserves=null,n.updateStore(i)}},this.destroyForm=function(){var e=new kP;n.getFieldEntities(!0).forEach((function(t){t.isPreserve()||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e},this.getInitialValue=function(e){var t=KA(n.initialValues,e);return e.length?zA(t):t},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.watchList=[],this.registerWatch=function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}},this.notifyWatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue();n.watchList.forEach((function(n){n(t,e)}))}},this.timeoutId=null,this.warningUnhooked=function(){0},this.updateStore=function(e){n.store=e},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new kP;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=WA(e);return t.get(n)||{INVALIDATE_NAME_PATH:WA(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(n){var r,a="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var o="getMeta"in n?n.getMeta():null;t(o)&&i.push(a)}else i.push(a)})),GA(n.store,i.map(WA))},this.getFieldValue=function(e){n.warningUnhooked();var t=WA(e);return KA(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:WA(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=WA(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=WA(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,a=t[0],o=t[1],u=!1;0===t.length?i=null:1===t.length?Array.isArray(a)?(i=a.map(WA),u=!1):(i=null,u=a):(i=a.map(WA),u=o);var s=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!i)return u?s.every(c):s.some(c);var l=new kP;i.forEach((function(e){l.set(e,[])})),s.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&l.update(n,(function(t){return[].concat(Vt(t),[e])}))}))}));var f=function(e){return e.some(c)},h=l.map((function(e){return e.value}));return u?h.every(f):h.some(f)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(WA);return t.some((function(e){var t=e.getNamePath();return $A(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new kP,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i,a=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))cN(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var a=t.get(i);if(a&&a.size>1)cN(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(a){var o=n.getFieldValue(i);e.skipExist&&void 0!==o||n.updateStore(HA(n.store,i,Vt(a)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,Vt(Vt(r).map((function(e){return e.entity}))))}))):i=r,a(i)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(JA({},n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(WA);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(HA(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)},this.setFields=function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var i=e.name,a=(e.errors,qe(e,bP)),o=WA(i);r.push(o),"value"in a&&n.updateStore(HA(n.store,o,a.value)),n.notifyObservers(t,[o],{type:"setField",data:e})})),n.notifyWatch(r)},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=fe(fe({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===KA(n.store,r)&&n.updateStore(HA(n.store,r,t))}},this.registerField=function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e}));var o=void 0!==i?i:n.preserve;if(!1===o&&(!r||a.length>1)){var u=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==u&&n.fieldEntities.every((function(e){return!XA(e.getNamePath(),t)}))){var s=n.store;n.updateStore(HA(s,t,u,!0)),n.notifyObservers(s,[t],{type:"remove"}),n.triggerDependenciesUpdate(s,t)}}n.notifyWatch([t])}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,a=e.triggerName;n.validateFields([i],{triggerName:a})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var i=fe(fe({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat(Vt(r))}),r},this.updateValue=function(e,t){var r=WA(e),i=n.store;n.updateStore(HA(n.store,r,t)),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var a=n.triggerDependenciesUpdate(i,r),o=n.callbacks.onValuesChange;o&&o(GA(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(Vt(a)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;if(e){var r=JA(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],i=new kP;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=WA(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var a=new kP;t.forEach((function(e){var t=e.name,n=e.errors;a.set(t,n)})),i.forEach((function(e){e.errors=a.get(e.name)||e.errors}))}r(i.filter((function(t){var n=t.name;return $A(e,n)})),i)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,i=r?e.map(WA):[],a=[];n.getFieldEntities(!0).forEach((function(o){if(r||i.push(o.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&r){var u=o.getNamePath();u.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(u)}if(o.props.rules&&o.props.rules.length){var s=o.getNamePath();if(!r||$A(i,s)){var c=o.validateRules(fe({validateMessages:fe(fe({},VA),n.validateMessages)},t));a.push(c.then((function(){return{name:s,errors:[],warnings:[]}})).catch((function(e){var t=[],n=[];return e.forEach((function(e){var r=e.rule.warningOnly,i=e.errors;r?n.push.apply(n,Vt(i)):t.push.apply(t,Vt(i))})),t.length?Promise.reject({name:s,errors:t,warnings:n}):{name:s,errors:t,warnings:n}})))}}}));var o=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,a){e.forEach((function(e,o){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[o]=e,n>0||(t&&a(r),i(r))}))}))})):Promise.resolve([])}(a);n.lastValidatePromise=o,o.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var u=o.then((function(){return n.lastValidatePromise===o?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==o})}));return u.catch((function(e){return e})),u},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));var xP=function(e){var t=r.useRef(),n=l(r.useState({}),2)[1];if(!t.current)if(e)t.current=e;else{var i=new wP((function(){n({})}));t.current=i.getForm()}return[t.current]},EP=r.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),_P=function(e){var t=e.validateMessages,n=e.onFormChange,i=e.onFormFinish,a=e.children,o=r.useContext(EP),u=r.useRef({});return r.createElement(EP.Provider,{value:fe(fe({},o),{},{validateMessages:fe(fe({},o.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:u.current}),o.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:u.current}),o.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(u.current=fe(fe({},u.current),{},ce({},e,t))),o.registerForm(e,t)},unregisterForm:function(e){var t=fe({},u.current);delete t[e],u.current=t,o.unregisterForm(e)}})},a)},IP=EP,SP=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],TP=function(e,t){var n=e.name,i=e.initialValues,a=e.fields,o=e.form,u=e.preserve,s=e.children,c=e.component,h=void 0===c?"form":c,d=e.validateMessages,p=e.validateTrigger,v=void 0===p?"onChange":p,m=e.onValuesChange,y=e.onFieldsChange,g=e.onFinish,k=e.onFinishFailed,b=qe(e,SP),w=r.useContext(IP),x=l(xP(o),1)[0],E=x.getInternalHooks(cA),_=E.useSubscribe,I=E.setInitialValues,S=E.setCallbacks,T=E.setValidateMessages,C=E.setPreserve,N=E.destroyForm;r.useImperativeHandle(t,(function(){return x})),r.useEffect((function(){return w.registerForm(n,x),function(){w.unregisterForm(n)}}),[w,x,n]),T(fe(fe({},w.validateMessages),d)),S({onValuesChange:m,onFieldsChange:function(e){if(w.triggerFormChange(n,e),y){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];y.apply(void 0,[e].concat(r))}},onFinish:function(e){w.triggerFormFinish(n,e),g&&g(e)},onFinishFailed:k}),C(u);var A,P=r.useRef(null);I(i,!P.current),P.current||(P.current=!0),r.useEffect((function(){return N}),[]);var O="function"===typeof s;O?A=s(x.getFieldsValue(!0),x):A=s;_(!O);var R=r.useRef();r.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==Le(e)||"object"!==Le(t))return!1;var n=Object.keys(e),r=Object.keys(t),i=new Set([].concat(Vt(n),Vt(r)));return Vt(i).every((function(n){var r=e[n],i=t[n];return"function"===typeof r&&"function"===typeof i||r===i}))})(R.current||[],a||[])||x.setFields(a||[]),R.current=a}),[a,x]);var D=r.useMemo((function(){return fe(fe({},x),{},{validateTrigger:v})}),[x,v]),M=r.createElement(fA.Provider,{value:D},A);return!1===h?M:r.createElement(h,f({},b,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),x.submit()},onReset:function(e){var t;e.preventDefault(),x.resetFields(),null===(t=b.onReset)||void 0===t||t.call(b,e)}}),M)};function CP(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var NP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=(0,r.useState)(),i=l(n,2),a=i[0],o=i[1],u=(0,r.useMemo)((function(){return CP(a)}),[a]),s=(0,r.useRef)(u);s.current=u;var c=(0,r.useContext)(fA),f=t||c,h=f&&f._init,d=WA(e),p=(0,r.useRef)(d);return p.current=d,(0,r.useEffect)((function(){if(h){var e=f.getFieldsValue,t=(0,(0,f.getInternalHooks)(cA).registerWatch)((function(e){var t=KA(e,p.current),n=CP(t);s.current!==n&&o(t)})),n=KA(e(),p.current);return o(n),t}}),[]),a},AP=r.forwardRef(TP);AP.FormProvider=_P,AP.Field=dP,AP.List=vP,AP.useForm=xP,AP.useWatch=NP;var PP=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function OP(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||PP(r)&&PP(i)))return!1;var r,i;return!0}var RP=f({},$N.Modal);function DP(e){RP=e?f(f({},RP),e):f({},$N.Modal)}var MP=function(e){Re(n,e);var t=Ue(n);function n(e){var r;return Ne(this,n),(r=t.call(this,e)).getMemoizedContextValue=function(e,t){void 0===t&&(t=OP);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var a=e.apply(this,r);return n={lastResult:a,lastArgs:r,lastThis:this},a}return r.clear=function(){n=null},r}((function(e){return f(f({},e),{exist:!0})})),DP(e.locale&&e.locale.Modal),r}return Pe(n,[{key:"componentDidMount",value:function(){DP(this.props.locale&&this.props.locale.Modal)}},{key:"componentDidUpdate",value:function(e){var t=this.props.locale;e.locale!==t&&DP(t&&t.Modal)}},{key:"componentWillUnmount",value:function(){DP()}},{key:"render",value:function(){var e=this.props,t=e.locale,n=e.children,i=this.getMemoizedContextValue(t);return r.createElement(YN.Provider,{value:i},n)}}]),n}(r.Component);MP.defaultProps={locale:{}};var LP=r.createContext(void 0),FP=function(e){var t=e.children,n=e.size;return r.createElement(LP.Consumer,null,(function(e){return r.createElement(LP.Provider,{value:n||e},t)}))},VP=LP,UP={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},jP=function(e,t){return r.createElement(AN,fe(fe({},e),{},{ref:t,icon:UP}))};jP.displayName="LoadingOutlined";var BP=r.forwardRef(jP),qP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},zP=function(e,t){return r.createElement(AN,fe(fe({},e),{},{ref:t,icon:qP}))};zP.displayName="ExclamationCircleFilled";var WP=r.forwardRef(zP),KP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},HP=function(e,t){return r.createElement(AN,fe(fe({},e),{},{ref:t,icon:KP}))};HP.displayName="CloseCircleFilled";var GP=r.forwardRef(HP),$P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},QP=function(e,t){return r.createElement(AN,fe(fe({},e),{},{ref:t,icon:$P}))};QP.displayName="CheckCircleFilled";var YP,JP=r.forwardRef(QP),XP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},ZP=function(e,t){return r.createElement(AN,fe(fe({},e),{},{ref:t,icon:XP}))};ZP.displayName="InfoCircleFilled";var eO,tO,nO,rO=3,iO=1,aO="",oO="move-up",uO=!1,sO=!1;function cO(){return iO++}function lO(e,t){var n=e.prefixCls,r=e.getPopupContainer,i=IO(),a=i.getPrefixCls,o=i.getRootPrefixCls,u=i.getIconPrefixCls,s=a("message",n||aO),c=o(e.rootPrefixCls,s),l=u();if(YP)t({prefixCls:s,rootPrefixCls:c,iconPrefixCls:l,instance:YP});else{var f={prefixCls:s,transitionName:uO?oO:"".concat(c,"-").concat(oO),style:{top:eO},getContainer:tO||r,maxCount:nO};TC.newInstance(f,(function(e){YP?t({prefixCls:s,rootPrefixCls:c,iconPrefixCls:l,instance:YP}):(YP=e,t({prefixCls:s,rootPrefixCls:c,iconPrefixCls:l,instance:e}))}))}}var fO={info:r.forwardRef(ZP),success:JP,error:GP,warning:WP,loading:BP},hO=Object.keys(fO);function dO(e,t,n){var i,a=void 0!==e.duration?e.duration:rO,o=fO[e.type],u=ET()("".concat(t,"-custom-content"),(ce(i={},"".concat(t,"-").concat(e.type),e.type),ce(i,"".concat(t,"-rtl"),!0===sO),i));return{key:e.key,duration:a,style:e.style||{},className:e.className,content:r.createElement(PO,{iconPrefixCls:n},r.createElement("div",{className:u},e.icon||o&&r.createElement(o,null),r.createElement("span",null,e.content))),onClose:e.onClose,onClick:e.onClick}}var pO={open:function(e){var t=e.key||cO(),n=new Promise((function(n){var r=function(){return"function"===typeof e.onClose&&e.onClose(),n(!0)};lO(e,(function(n){var i=n.prefixCls,a=n.iconPrefixCls;n.instance.notice(dO(f(f({},e),{key:t,onClose:r}),i,a))}))})),r=function(){YP&&YP.removeNotice(t)};return r.then=function(e,t){return n.then(e,t)},r.promise=n,r},config:function(e){void 0!==e.top&&(eO=e.top,YP=null),void 0!==e.duration&&(rO=e.duration),void 0!==e.prefixCls&&(aO=e.prefixCls),void 0!==e.getContainer&&(tO=e.getContainer,YP=null),void 0!==e.transitionName&&(oO=e.transitionName,YP=null,uO=!0),void 0!==e.maxCount&&(nO=e.maxCount,YP=null),void 0!==e.rtl&&(sO=e.rtl)},destroy:function(e){if(YP)if(e){(0,YP.removeNotice)(e)}else{var t=YP.destroy;t(),YP=null}}};function vO(e,t){e[t]=function(n,r,i){return function(e){return"[object Object]"===Object.prototype.toString.call(e)&&!!e.content}(n)?e.open(f(f({},n),{type:t})):("function"===typeof r&&(i=r,r=void 0),e.open({content:n,duration:r,type:t,onClose:i}))}}hO.forEach((function(e){return vO(pO,e)})),pO.warn=pO.warning,pO.useMessage=function(e,t){return function(){var n,i,a=null,o=l(wC({add:function(e,t){null===a||void 0===a||a.component.add(e,t)}}),2),u=o[0],s=o[1];var c=r.useRef({});return c.current.open=function(r){var o=r.prefixCls,s=n("message",o),c=n(),l=r.key||cO(),h=new Promise((function(n){var o=function(){return"function"===typeof r.onClose&&r.onClose(),n(!0)};e(f(f({},r),{prefixCls:s,rootPrefixCls:c,getPopupContainer:i}),(function(e){var n=e.prefixCls,i=e.instance;a=i,u(t(f(f({},r),{key:l,onClose:o}),n))}))})),d=function(){a&&a.removeNotice(l)};return d.then=function(e,t){return h.then(e,t)},d.promise=h,d},hO.forEach((function(e){return vO(c.current,e)})),[c.current,r.createElement(uA,{key:"holder"},(function(e){return n=e.getPrefixCls,i=e.getPopupContainer,s}))]}}(lO,dO);var mO=pO,yO=function(){function e(t,n){var r;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var i=zC(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=OC(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var e=FC(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=FC(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=MC(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=MC(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),VC(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,r,i){var a=[DC(Math.round(e).toString(16)),DC(Math.round(t).toString(16)),DC(Math.round(n).toString(16)),DC(UC(r))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*AC(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*AC(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+VC(this.r,this.g,this.b,!1),t=0,n=Object.entries(qC);t<n.length;t++){var r=n[t],i=r[0];if(e===r[1])return i}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=PC(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=PC(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=PC(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=PC(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),a=n/100;return new e({r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),i=360/n,a=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,a.push(new e(r));return a},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,a=n.v,o=[],u=1/t;t--;)o.push(new e({h:r,s:i,v:a})),a=(a+u)%1;return o},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb();return new e({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],a=360/t,o=1;o<t;o++)i.push(new e({h:(r+o*a)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();var gO="-ant-".concat(Date.now(),"-").concat(Math.random());function kO(e,t){var n=function(e,t){var n={},r=function(e,t){var n=e.clone();return(n=(null===t||void 0===t?void 0:t(n))||n).toRgbString()},i=function(e,t){var i=new yO(e),a=nN(i.toRgbString());n["".concat(t,"-color")]=r(i),n["".concat(t,"-color-disabled")]=a[1],n["".concat(t,"-color-hover")]=a[4],n["".concat(t,"-color-active")]=a[7],n["".concat(t,"-color-outline")]=i.clone().setAlpha(.2).toRgbString(),n["".concat(t,"-color-deprecated-bg")]=a[1],n["".concat(t,"-color-deprecated-border")]=a[3]};if(t.primaryColor){i(t.primaryColor,"primary");var a=new yO(t.primaryColor),o=nN(a.toRgbString());o.forEach((function(e,t){n["primary-".concat(t+1)]=e})),n["primary-color-deprecated-l-35"]=r(a,(function(e){return e.lighten(35)})),n["primary-color-deprecated-l-20"]=r(a,(function(e){return e.lighten(20)})),n["primary-color-deprecated-t-20"]=r(a,(function(e){return e.tint(20)})),n["primary-color-deprecated-t-50"]=r(a,(function(e){return e.tint(50)})),n["primary-color-deprecated-f-12"]=r(a,(function(e){return e.setAlpha(.12*e.getAlpha())}));var u=new yO(o[0]);n["primary-color-active-deprecated-f-30"]=r(u,(function(e){return e.setAlpha(.3*e.getAlpha())})),n["primary-color-active-deprecated-d-02"]=r(u,(function(e){return e.darken(2)}))}t.successColor&&i(t.successColor,"success"),t.warningColor&&i(t.warningColor,"warning"),t.errorColor&&i(t.errorColor,"error"),t.infoColor&&i(t.infoColor,"info");var s=Object.keys(n).map((function(t){return"--".concat(e,"-").concat(t,": ").concat(n[t],";")}));return"\n  :root {\n    ".concat(s.join("\n"),"\n  }\n  ").trim()}(e,t);ST()&&mN(n,"".concat(gO,"-dynamic-theme"))}var bO,wO,xO=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","form"];function EO(){return bO||"ant"}function _O(){return wO||"anticon"}var IO=function(){return{getPrefixCls:function(e,t){return t||(e?"".concat(EO(),"-").concat(e):EO())},getIconPrefixCls:_O,getRootPrefixCls:function(e,t){return e||(bO||(t&&t.includes("-")?t.replace(/^(.*)-[^-]*$/,"$1"):EO()))}}},SO=function(e){var t,n,i=e.children,a=e.csp,o=e.autoInsertSpaceInButton,u=e.form,s=e.locale,c=e.componentSize,l=e.direction,h=e.space,d=e.virtual,p=e.dropdownMatchSelectWidth,v=e.legacyLocale,m=e.parentContext,y=e.iconPrefixCls,g=r.useCallback((function(t,n){var r=e.prefixCls;if(n)return n;var i=r||m.getPrefixCls("");return t?"".concat(i,"-").concat(t):i}),[m.getPrefixCls,e.prefixCls]),k=f(f({},m),{csp:a,autoInsertSpaceInButton:o,locale:s||v,direction:l,space:h,virtual:d,dropdownMatchSelectWidth:p,getPrefixCls:g});xO.forEach((function(t){var n=e[t];n&&(k[t]=n)}));var b=function(e,t,n){var i=r.useRef({});return"value"in i.current&&!n(i.current.condition,t)||(i.current.value=e(),i.current.condition=t),i.current.value}((function(){return k}),k,(function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some((function(n){return e[n]!==t[n]}))})),w=r.useMemo((function(){return{prefixCls:y,csp:a}}),[y,a]),x=i,E={};return s&&(E=(null===(t=s.Form)||void 0===t?void 0:t.defaultValidateMessages)||(null===(n=$N.Form)||void 0===n?void 0:n.defaultValidateMessages)||{}),u&&u.validateMessages&&(E=f(f({},E),u.validateMessages)),Object.keys(E).length>0&&(x=r.createElement(_P,{validateMessages:E},i)),s&&(x=r.createElement(MP,{locale:s,_ANT_MARK__:"internalMark"},x)),(y||a)&&(x=r.createElement(NC.Provider,{value:w},x)),c&&(x=r.createElement(FP,{size:c},x)),r.createElement(oA.Provider,{value:b},x)},TO=function(e){return r.useEffect((function(){e.direction&&(mO.config({rtl:"rtl"===e.direction}),HO.config({rtl:"rtl"===e.direction}))}),[e.direction]),r.createElement(JN,null,(function(t,n,i){return r.createElement(uA,null,(function(t){return r.createElement(SO,f({parentContext:t,legacyLocale:i},e))}))}))};TO.ConfigContext=oA,TO.SizeContext=VP,TO.config=function(e){var t=e.prefixCls,n=e.iconPrefixCls,r=e.theme;void 0!==t&&(bO=t),void 0!==n&&(wO=n),r&&kO(EO(),r)};var CO,NO,AO,PO=TO,OO={},RO=4.5,DO=24,MO=24,LO="",FO="topRight",VO=!1;function UO(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:DO,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:MO;switch(e){case"top":t={left:"50%",transform:"translateX(-50%)",right:"auto",top:n,bottom:"auto"};break;case"topLeft":t={left:0,top:n,bottom:"auto"};break;case"topRight":t={right:0,top:n,bottom:"auto"};break;case"bottom":t={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:r};break;case"bottomLeft":t={left:0,top:"auto",bottom:r};break;default:t={right:0,top:"auto",bottom:r}}return t}function jO(e,t){var n=e.placement,r=void 0===n?FO:n,i=e.top,a=e.bottom,o=e.getContainer,u=void 0===o?CO:o,s=e.prefixCls,c=IO(),l=c.getPrefixCls,f=c.getIconPrefixCls,h=l("notification",s||LO),d=f(),p="".concat(h,"-").concat(r),v=OO[p];if(v)Promise.resolve(v).then((function(e){t({prefixCls:"".concat(h,"-notice"),iconPrefixCls:d,instance:e})}));else{var m=ET()("".concat(h,"-").concat(r),ce({},"".concat(h,"-rtl"),!0===VO));OO[p]=new Promise((function(e){TC.newInstance({prefixCls:h,className:m,style:UO(r,i,a),getContainer:u,maxCount:AO},(function(n){e(n),t({prefixCls:"".concat(h,"-notice"),iconPrefixCls:d,instance:n})}))}))}}var BO={success:MN,info:WN,error:VN,warning:BN};function qO(e,t,n){var i=e.duration,a=e.icon,o=e.type,u=e.description,s=e.message,c=e.btn,l=e.onClose,f=e.onClick,h=e.key,d=e.style,p=e.className,v=e.closeIcon,m=void 0===v?NO:v,y=void 0===i?RO:i,g=null;a?g=r.createElement("span",{className:"".concat(t,"-icon")},e.icon):o&&(g=r.createElement(BO[o]||null,{className:"".concat(t,"-icon ").concat(t,"-icon-").concat(o)}));var k=r.createElement("span",{className:"".concat(t,"-close-x")},m||r.createElement(ON,{className:"".concat(t,"-close-icon")})),b=!u&&g?r.createElement("span",{className:"".concat(t,"-message-single-line-auto-margin")}):null;return{content:r.createElement(PO,{iconPrefixCls:n},r.createElement("div",{className:g?"".concat(t,"-with-icon"):"",role:"alert"},g,r.createElement("div",{className:"".concat(t,"-message")},b,s),r.createElement("div",{className:"".concat(t,"-description")},u),c?r.createElement("span",{className:"".concat(t,"-btn")},c):null)),duration:y,closable:!0,closeIcon:k,onClose:l,onClick:f,key:h,style:d||{},className:ET()(p,ce({},"".concat(t,"-").concat(o),!!o))}}var zO={open:function(e){jO(e,(function(t){var n=t.prefixCls,r=t.iconPrefixCls;t.instance.notice(qO(e,n,r))}))},close:function(e){Object.keys(OO).forEach((function(t){return Promise.resolve(OO[t]).then((function(t){t.removeNotice(e)}))}))},config:function(e){var t=e.duration,n=e.placement,r=e.bottom,i=e.top,a=e.getContainer,o=e.closeIcon,u=e.prefixCls;void 0!==u&&(LO=u),void 0!==t&&(RO=t),void 0!==n?FO=n:e.rtl&&(FO="topLeft"),void 0!==r&&(MO=r),void 0!==i&&(DO=i),void 0!==a&&(CO=a),void 0!==o&&(NO=o),void 0!==e.rtl&&(VO=e.rtl),void 0!==e.maxCount&&(AO=e.maxCount)},destroy:function(){Object.keys(OO).forEach((function(e){Promise.resolve(OO[e]).then((function(e){e.destroy()})),delete OO[e]}))}};["success","info","warning","error"].forEach((function(e){zO[e]=function(t){return zO.open(f(f({},t),{type:e}))}})),zO.warn=zO.warning,zO.useNotification=function(e,t){return function(){var n,i=null,a=l(wC({add:function(e,t){null===i||void 0===i||i.component.add(e,t)}}),2),o=a[0],u=a[1];var s=r.useRef({});return s.current.open=function(r){var a=r.prefixCls,u=n("notification",a);e(f(f({},r),{prefixCls:u}),(function(e){var n=e.prefixCls,a=e.instance;i=a,o(t(r,n))}))},["success","info","warning","error"].forEach((function(e){s.current[e]=function(t){return s.current.open(f(f({},t),{type:e}))}})),[s.current,r.createElement(uA,{key:"holder"},(function(e){return n=e.getPrefixCls,u}))]}}(jO,qO);var WO,KO,HO=zO,GO=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";HO[e]({message:t,placement:n,description:r})},$O=(v(),function(e){Re(n,e);var t=Ue(n);function n(e){var r;return Ne(this,n),(r=t.call(this,e)).handleSubmit=function(){var e=Ce(Be().mark((function e(t){var n,i,a;return Be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=r.state,i=n.email,a=n.password,e.prev=2,e.next=5,oT.signInWithEmailAndPassword(i,a);case 5:r.setState({email:"",password:""}),GO("success","Login successfull","topRight"),window.location.href="/",e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0.message),window.location.href="https://stackoverflow.com/search?q=[Js]+"+e.t0.message;case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),r.handleChange=function(e){var t=e.target,n=t.value,i=t.name;r.setState(ce({},i,n))},r.state={email:"",password:""},r}return Pe(n,[{key:"render",value:function(){return(0,ze.jsxs)("div",{className:"sign-in",children:[(0,ze.jsx)("h2",{children:"I already have an account"}),(0,ze.jsx)("span",{children:"Sign in with your email and password"}),(0,ze.jsxs)("form",{onSubmit:this.handleSubmit,children:[(0,ze.jsx)(nt,{type:"email",name:"email",value:this.state.email,handleChange:this.handleChange,label:"Email",required:!0}),(0,ze.jsx)(nt,{type:"password",name:"password",value:this.state.password,handleChange:this.handleChange,label:"Password",required:!0}),(0,ze.jsxs)("div",{className:"buttons",children:[(0,ze.jsx)(it,{type:"submit",children:" Sign in "}),(0,ze.jsx)(it,{type:"button",onClick:lT,isGoogleSignIn:!0,children:"Sign in with Google"})]})]})]})}}]),n}(r.Component)),QO=$O,YO=function(e){Re(n,e);var t=Ue(n);function n(){var e;return Ne(this,n),(e=t.call(this)).hanldeSubmit=function(){var t=Ce(Be().mark((function t(n){var r,i,a,o,u,s,c;return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),r=e.state,i=r.displayName,a=r.email,o=r.password,u=r.confirmPassword,o===u){t.next=5;break}return GO("warning","passwords don't match","top"),t.abrupt("return");case 5:return t.prev=5,t.next=8,oT.createUserWithEmailAndPassword(a,o);case 8:return s=t.sent,c=s.user,t.next=12,aT(c,{displayName:i});case 12:e.setState({displayName:"",email:"",password:"",confirmPassword:""}),GO("success","Register successfull","topRight"),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(5),console.error(t.t0);case 19:case"end":return t.stop()}}),t,null,[[5,16]])})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var n=t.target,r=n.value,i=n.name;e.setState(ce({},i,r))},e.state={displayName:"",email:"",password:"",confirmPassword:""},e}return Pe(n,[{key:"render",value:function(){var e=this.state,t=e.displayName,n=e.email,r=e.password,i=e.confirmPassword;return(0,ze.jsxs)("div",{className:"sign-up",children:[(0,ze.jsx)("h2",{className:"title",children:"I do not have a account"}),(0,ze.jsx)("span",{children:"Sign up with your email and password"}),(0,ze.jsxs)("form",{className:"sign-up-form",onSubmit:this.hanldeSubmit,children:[(0,ze.jsx)(nt,{type:"text",name:"displayName",value:t,onChange:this.handleChange,label:"Display Name",required:!0}),(0,ze.jsx)(nt,{type:"email",name:"email",value:n,onChange:this.handleChange,label:"Email",required:!0}),(0,ze.jsx)(nt,{type:"password",name:"password",value:r,onChange:this.handleChange,label:"Password",required:!0}),(0,ze.jsx)(nt,{type:"password",name:"confirmPassword",value:i,onChange:this.handleChange,label:"Confirm Password",required:!0}),(0,ze.jsx)(it,{type:"submit",children:"SIGN UP"})]})]})}}]),n}(r.Component),JO=YO,XO=function(){return(0,ze.jsxs)("div",{className:"sign-in-and-sign-up",children:[(0,ze.jsx)(QO,{}),(0,ze.jsx)(JO,{})]})},ZO=["title","titleId"];function eR(){return eR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eR.apply(this,arguments)}function tR(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nR(e,t){var n=e.title,i=e.titleId,a=tR(e,ZO);return r.createElement("svg",eR({width:"50px",height:"39px",viewBox:"0 0 50 39",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":i},a),void 0===n?r.createElement("title",{id:i},"Group"):n?r.createElement("title",{id:i},n):null,WO||(WO=r.createElement("desc",null,"Created with Sketch.")),KO||(KO=r.createElement("g",{id:"WiP",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},r.createElement("g",{id:"Artboard",transform:"translate(-90.000000, -38.000000)"},r.createElement("g",{id:"Group",transform:"translate(90.000000, 38.000000)"},r.createElement("polygon",{id:"Rectangle",fill:"#808282",points:"3 14 25 26.5 47 14 40.855176 39 9.08421785 39"}),r.createElement("polygon",{id:"Triangle",fillOpacity:.262838724,fill:"#101A1A",points:"25 8 40 39 10 39"}),r.createElement("circle",{id:"Oval",fill:"#5E6363",cx:2,cy:9,r:2}),r.createElement("circle",{id:"Oval",fill:"#5E6363",cx:25,cy:2,r:2}),r.createElement("circle",{id:"Oval",fill:"#5E6363",cx:48,cy:9,r:2}))))))}var rR=r.forwardRef(nR),iR=(n.p,function(e){var t=e.currentUser;return(0,ze.jsxs)("div",{className:"header",children:[(0,ze.jsx)(X,{className:"logo-container",to:"/",children:(0,ze.jsx)(rR,{className:"logo"})}),(0,ze.jsxs)("div",{className:"options",children:[(0,ze.jsx)(X,{className:"option",to:"/",children:"HOME"}),(0,ze.jsx)(X,{className:"option",to:"/shop",children:"SHOP"}),(0,ze.jsx)(X,{className:"option",to:"/shop",children:"CONTACT"}),t?(0,ze.jsx)("div",{className:"option",onClick:function(){return oT.signOut()},children:" SIGN OUT "}):(0,ze.jsx)(X,{className:"option",to:"/signin",children:"SIGN IN"})]})]})}),aR=function(e){Re(n,e);var t=Ue(n);function n(){var e;return Ne(this,n),(e=t.call(this)).unsubscribeFromAuth=null,e.state={currentUser:null},e}return Pe(n,[{key:"componentDidMount",value:function(){var e=this;this.unsubscribeFromAuth=oT.onAuthStateChanged(function(){var t=Ce(Be().mark((function t(n){return Be().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=7;break}return t.next=3,aT(n);case 3:t.sent.onSnapshot((function(t){e.setState({currentUser:fe({id:t.id},t.data())}),console.log(e.state)})),t.next=8;break;case 7:e.setState({currentUser:n});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuth()}},{key:"render",value:function(){return(0,ze.jsxs)("div",{children:[(0,ze.jsx)(iR,{currentUser:this.state.currentUser}),(0,ze.jsxs)(H,{children:[(0,ze.jsx)(W,{exact:!0,path:"/",element:(0,ze.jsx)($e,{})}),(0,ze.jsx)(W,{path:"/shop",element:(0,ze.jsx)(et,{})}),(0,ze.jsx)(W,{path:"/signin",element:(0,ze.jsx)(XO,{})})]})]})}}]),n}(r.Component),oR=aR;i.render((0,ze.jsx)(ue,{store:Se,children:(0,ze.jsx)(J,{children:(0,ze.jsx)(oR,{})})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.bd499cd4.js.map